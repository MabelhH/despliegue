"use strict";(self.webpackChunkdespliague=self.webpackChunkdespliague||[]).push([[179],{824:()=>{function we(n){return"function"==typeof n}function gc(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const vh=gc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ia(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Gt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(we(r))try{r()}catch(s){e=s instanceof vh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{oM(s)}catch(o){e=e??[],o instanceof vh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new vh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)oM(e);else{if(e instanceof Gt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ia(t,e)}remove(e){const{_finalizers:t}=this;t&&ia(t,e),e instanceof Gt&&e._removeParent(this)}}Gt.EMPTY=(()=>{const n=new Gt;return n.closed=!0,n})();const iM=Gt.EMPTY;function sM(n){return n instanceof Gt||n&&"closed"in n&&we(n.remove)&&we(n.add)&&we(n.unsubscribe)}function oM(n){we(n)?n():n.unsubscribe()}const Ps={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wh={setTimeout(n,e,...t){const{delegate:r}=wh;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=wh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function aM(n){wh.setTimeout(()=>{const{onUnhandledError:e}=Ps;if(!e)throw n;e(n)})}function S_(){}const jG=T_("C",void 0,void 0);function T_(n,e,t){return{kind:n,value:e,error:t}}let Fs=null;function bh(n){if(Ps.useDeprecatedSynchronousErrorHandling){const e=!Fs;if(e&&(Fs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Fs;if(Fs=null,t)throw r}}else n()}class A_ extends Gt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sM(e)&&e.add(this)):this.destination=YG}static create(e,t,r){return new mc(e,t,r)}next(e){this.isStopped?x_(function zG(n){return T_("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?x_(function HG(n){return T_("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?x_(jG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qG=Function.prototype.bind;function M_(n,e){return qG.call(n,e)}class WG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Dh(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Dh(r)}else Dh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Dh(t)}}}class mc extends A_{constructor(e,t,r){let i;if(super(),we(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Ps.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&M_(e.next,s),error:e.error&&M_(e.error,s),complete:e.complete&&M_(e.complete,s)}):i=e}this.destination=new WG(i)}}function Dh(n){Ps.useDeprecatedSynchronousErrorHandling?function GG(n){Ps.useDeprecatedSynchronousErrorHandling&&Fs&&(Fs.errorThrown=!0,Fs.error=n)}(n):aM(n)}function x_(n,e){const{onStoppedNotification:t}=Ps;t&&wh.setTimeout(()=>t(n,e))}const YG={closed:!0,next:S_,error:function KG(n){throw n},complete:S_},k_="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qi(n){return n}function lM(n){return 0===n.length?Qi:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let xe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function ZG(n){return n&&n instanceof A_||function XG(n){return n&&we(n.next)&&we(n.error)&&we(n.complete)}(n)&&sM(n)}(t)?t:new mc(t,r,i);return bh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=cM(r))((i,s)=>{const o=new mc({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[k_](){return this}pipe(...t){return lM(t)(this)}toPromise(t){return new(t=cM(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function cM(n){var e;return null!==(e=n??Ps.Promise)&&void 0!==e?e:Promise}const JG=gc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ae=(()=>{class n extends xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new uM(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new JG}next(t){bh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){bh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){bh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?iM:(this.currentObservers=null,s.push(t),new Gt(()=>{this.currentObservers=null,ia(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new xe;return t.source=this,t}}return n.create=(e,t)=>new uM(e,t),n})();class uM extends Ae{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:iM}}function dM(n){return we(n?.lift)}function rt(n){return e=>{if(dM(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(n,e,t,r,i){return new eq(n,e,t,r,i)}class eq extends A_{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function he(n,e){return rt((t,r)=>{let i=0;t.subscribe(Qe(r,s=>{r.next(n.call(e,s,i++))}))})}function fM(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Ls(n){return this instanceof Ls?(this.v=n,this):new Ls(n)}function rq(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Ls?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function iq(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function gM(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const O_=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function mM(n){return we(n?.then)}function _M(n){return we(n[k_])}function yM(n){return Symbol.asyncIterator&&we(n?.[Symbol.asyncIterator])}function vM(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const wM=function oq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function bM(n){return we(n?.[wM])}function DM(n){return rq(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ls(t.read());if(i)return yield Ls(void 0);yield yield Ls(r)}}finally{t.releaseLock()}})}function EM(n){return we(n?.getReader)}function kn(n){if(n instanceof xe)return n;if(null!=n){if(_M(n))return function aq(n){return new xe(e=>{const t=n[k_]();if(we(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(O_(n))return function lq(n){return new xe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(mM(n))return function cq(n){return new xe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,aM)})}(n);if(yM(n))return CM(n);if(bM(n))return function uq(n){return new xe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(EM(n))return function dq(n){return CM(DM(n))}(n)}throw vM(n)}function CM(n){return new xe(e=>{(function hq(n,e){var t,r,i,s;return function tq(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=iq(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function fi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ft(n,e,t=1/0){return we(e)?Ft((r,i)=>he((s,o)=>e(r,s,i,o))(kn(n(r,i))),t):("number"==typeof e&&(t=e),rt((r,i)=>function fq(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let _=!1;kn(t(g,u++)).subscribe(Qe(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){const v=l.shift();o?fi(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Qe(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function sa(n=1/0){return Ft(Qi,n)}const Vr=new xe(n=>n.complete());function IM(n){return n&&we(n.schedule)}function N_(n){return n[n.length-1]}function SM(n){return we(N_(n))?n.pop():void 0}function _c(n){return IM(N_(n))?n.pop():void 0}function Eh(n,e=0){return rt((t,r)=>{t.subscribe(Qe(r,i=>fi(r,n,()=>r.next(i),e),()=>fi(r,n,()=>r.complete(),e),i=>fi(r,n,()=>r.error(i),e)))})}function Ch(n,e=0){return rt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function TM(n,e){if(!n)throw new Error("Iterable cannot be null");return new xe(t=>{fi(t,e,()=>{const r=n[Symbol.asyncIterator]();fi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ut(n,e){return e?function bq(n,e){if(null!=n){if(_M(n))return function mq(n,e){return kn(n).pipe(Ch(e),Eh(e))}(n,e);if(O_(n))return function yq(n,e){return new xe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(mM(n))return function _q(n,e){return kn(n).pipe(Ch(e),Eh(e))}(n,e);if(yM(n))return TM(n,e);if(bM(n))return function vq(n,e){return new xe(t=>{let r;return fi(t,e,()=>{r=n[wM](),fi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>we(r?.return)&&r.return()})}(n,e);if(EM(n))return function wq(n,e){return TM(DM(n),e)}(n,e)}throw vM(n)}(n,e):kn(n)}function P_(...n){const e=_c(n),t=function gq(n,e){return"number"==typeof N_(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?kn(r[0]):sa(t)(ut(r,e)):Vr}function F_(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new mc({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Be(n){for(let e in n)if(n[e]===Be)return e;throw Error("Could not find renamed property on target object.")}function L_(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function V_(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Eq=Be({__forward_ref__:Be});function $e(n){return n.__forward_ref__=$e,n.toString=function(){return Ue(this())},n}function Q(n){return B_(n)?n():n}function B_(n){return"function"==typeof n&&n.hasOwnProperty(Eq)&&n.__forward_ref__===$e}function U_(n){return n&&!!n.\u0275providers}class I extends Error{constructor(e,t){super(function Ih(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function Sh(n,e){throw new I(-201,!1)}function ur(n,e){null==n&&function Re(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function P(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Pe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Th(n){return MM(n,Ah)||MM(n,kM)}function MM(n,e){return n.hasOwnProperty(e)?n[e]:null}function xM(n){return n&&(n.hasOwnProperty($_)||n.hasOwnProperty(Rq))?n[$_]:null}const Ah=Be({\u0275prov:Be}),$_=Be({\u0275inj:Be}),kM=Be({ngInjectableDef:Be}),Rq=Be({ngInjectorDef:Be});var X=(()=>((X=X||{})[X.Default=0]="Default",X[X.Host=1]="Host",X[X.Self=2]="Self",X[X.SkipSelf=4]="SkipSelf",X[X.Optional=8]="Optional",X))();let j_;function dr(n){const e=j_;return j_=n,e}function RM(n,e,t){const r=Th(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&X.Optional?null:void 0!==e?e:void Sh(Ue(n))}const je=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),yc={},H_="__NG_DI_FLAG__",Mh="ngTempTokenPath",Pq=/\n/gm,OM="__source";let vc;function oa(n){const e=vc;return vc=n,e}function Lq(n,e=X.Default){if(void 0===vc)throw new I(-203,!1);return null===vc?RM(n,void 0,e):vc.get(n,e&X.Optional?null:void 0,e)}function E(n,e=X.Default){return(function Oq(){return j_}()||Lq)(Q(n),e)}function pe(n,e=X.Default){return E(n,xh(e))}function xh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function z_(n){const e=[];for(let t=0;t<n.length;t++){const r=Q(n[t]);if(Array.isArray(r)){if(0===r.length)throw new I(900,!1);let i,s=X.Default;for(let o=0;o<r.length;o++){const a=r[o],l=Vq(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(E(i,s))}else e.push(E(r))}return e}function wc(n,e){return n[H_]=e,n.prototype[H_]=e,n}function Vq(n){return n[H_]}function Zi(n){return{toString:n}.toString()}var Ir=(()=>((Ir=Ir||{})[Ir.OnPush=0]="OnPush",Ir[Ir.Default=1]="Default",Ir))(),Sr=(()=>{return(n=Sr||(Sr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Sr;var n})();const pi={},Me=[],kh=Be({\u0275cmp:Be}),G_=Be({\u0275dir:Be}),q_=Be({\u0275pipe:Be}),PM=Be({\u0275mod:Be}),gi=Be({\u0275fac:Be}),bc=Be({__NG_ELEMENT_ID__:Be});let $q=0;function _t(n){return Zi(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ir.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Me,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Sr.Emulated,id:"c"+$q++,styles:n.styles||Me,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=n.dependencies,o=n.features;return i.inputs=VM(n.inputs,r),i.outputs=VM(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(FM).filter(LM):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(yn).filter(LM):null,i})}function FM(n){return Oe(n)||ln(n)}function LM(n){return null!==n}function Le(n){return Zi(()=>({type:n.type,bootstrap:n.bootstrap||Me,declarations:n.declarations||Me,imports:n.imports||Me,exports:n.exports||Me,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function VM(n,e){if(null==n)return pi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const R=_t;function Oe(n){return n[kh]||null}function ln(n){return n[G_]||null}function yn(n){return n[q_]||null}function qn(n,e){const t=n[PM]||null;if(!t&&!0===e)throw new Error(`Type ${Ue(n)} does not have '\u0275mod' property.`);return t}function Wn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ar(n){return Array.isArray(n)&&!0===n[1]}function Y_(n){return 0!=(4&n.flags)}function Ic(n){return n.componentOffset>-1}function Fh(n){return 1==(1&n.flags)}function Mr(n){return null!==n.template}function zq(n){return 0!=(256&n[2])}function Bs(n,e){return n.hasOwnProperty(gi)?n[gi]:null}class Wq{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function wn(){return zM}function zM(n){return n.type.prototype.ngOnChanges&&(n.setInput=Yq),Kq}function Kq(){const n=qM(this),e=n?.current;if(e){const t=n.previous;if(t===pi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Yq(n,e,t,r){const i=this.declaredInputs[t],s=qM(n)||function Qq(n,e){return n[GM]=e}(n,{previous:pi,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new Wq(l&&l.currentValue,e,a===pi),n[r]=e}wn.ngInherit=!0;const GM="__ngSimpleChanges__";function qM(n){return n[GM]||null}function qt(n){for(;Array.isArray(n);)n=n[0];return n}function Kn(n,e){return qt(e[n.index])}function YM(n,e){return n.data[e]}function Yn(n,e){const t=e[n];return Wn(t)?t:t[0]}function Vh(n){return 64==(64&n[2])}function Ji(n,e){return null==e?null:n[e]}function QM(n){n[18]=0}function X_(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const se={lFrame:ox(null),bindingsEnabled:!0};function ZM(){return se.bindingsEnabled}function S(){return se.lFrame.lView}function De(){return se.lFrame.tView}function Wt(){let n=JM();for(;null!==n&&64===n.type;)n=n.parent;return n}function JM(){return se.lFrame.currentTNode}function Ur(n,e){const t=se.lFrame;t.currentTNode=n,t.isParent=e}function Z_(){return se.lFrame.isParent}function J_(){se.lFrame.isParent=!1}function fa(){return se.lFrame.bindingIndex++}function dW(n,e){const t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,ey(e)}function ey(n){se.lFrame.currentDirectiveIndex=n}function rx(){return se.lFrame.currentQueryIndex}function ny(n){se.lFrame.currentQueryIndex=n}function fW(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function ix(n,e,t){if(t&X.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&X.Host||(i=fW(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=se.lFrame=sx();return r.currentTNode=e,r.lView=n,!0}function ry(n){const e=sx(),t=n[1];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function sx(){const n=se.lFrame,e=null===n?null:n.child;return null===e?ox(n):e}function ox(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function ax(){const n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const lx=ax;function iy(){const n=ax();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Dn(){return se.lFrame.selectedIndex}function Us(n){se.lFrame.selectedIndex=n}function Je(){const n=se.lFrame;return YM(n.tView,n.selectedIndex)}function Bh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Uh(n,e,t){cx(n,e,3,t)}function $h(n,e,t,r){(3&n[2])===t&&cx(n,e,t,r)}function sy(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function cx(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(DW(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function DW(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Tc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function ay(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];dx(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function ux(n){return 3===n||4===n||6===n}function dx(n){return 64===n.charCodeAt(0)}function Ac(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||hx(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function hx(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function fx(n){return-1!==n}function jh(n){return 32767&n}function Hh(n,e){let t=function SW(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let ly=!0;function zh(n){const e=ly;return ly=n,e}let TW=0;const $r={};function Gh(n,e){const t=mx(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,cy(r.data,n),cy(e,null),cy(r.blueprint,null));const i=uy(n,e),s=n.injectorIndex;if(fx(i)){const o=jh(i),a=Hh(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function cy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function mx(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function uy(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Ex(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function dy(n,e,t){!function AW(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(bc)&&(r=t[bc]),null==r&&(r=t[bc]=TW++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function _x(n,e,t){if(t&X.Optional||void 0!==n)return n;Sh()}function yx(n,e,t,r){if(t&X.Optional&&void 0===r&&(r=null),!(t&(X.Self|X.Host))){const i=n[9],s=dr(void 0);try{return i?i.get(e,r,t&X.Optional):RM(e,r,t&X.Optional)}finally{dr(s)}}return _x(r,0,t)}function vx(n,e,t,r=X.Default,i){if(null!==n){if(1024&e[2]){const o=function OW(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=wx(s,o,t,r|X.Self,$r);if(a!==$r)return a;let l=s.parent;if(!l){const c=o[21];if(c){const u=c.get(t,$r,r);if(u!==$r)return u}l=Ex(o),o=o[15]}s=l}return i}(n,e,t,r,$r);if(o!==$r)return o}const s=wx(n,e,t,r,$r);if(s!==$r)return s}return yx(e,t,r,i)}function wx(n,e,t,r,i){const s=function kW(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(bc)?n[bc]:void 0;return"number"==typeof e?e>=0?255&e:RW:e}(t);if("function"==typeof s){if(!ix(e,n,r))return r&X.Host?_x(i,0,r):yx(e,t,r,i);try{const o=s(r);if(null!=o||r&X.Optional)return o;Sh()}finally{lx()}}else if("number"==typeof s){let o=null,a=mx(n,e),l=-1,c=r&X.Host?e[16][6]:null;for((-1===a||r&X.SkipSelf)&&(l=-1===a?uy(n,e):e[a+8],-1!==l&&Dx(r,!1)?(o=e[1],a=jh(l),e=Hh(l,e)):a=-1);-1!==a;){const u=e[1];if(bx(s,a,u.data)){const d=xW(a,e,t,o,r,c);if(d!==$r)return d}l=e[a+8],-1!==l&&Dx(r,e[1].data[a+8]===c)&&bx(s,a,e)?(o=u,a=jh(l),e=Hh(l,e)):a=-1}}return i}function xW(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=qh(a,o,t,null==r?Ic(a)&&ly:r!=o&&0!=(3&a.type),i&X.Host&&s===a);return null!==u?$s(e,o,u,a):$r}function qh(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&Mr(f)&&f.type===t)return l}return null}function $s(n,e,t,r){let i=n[t];const s=e.data;if(function EW(n){return n instanceof Tc}(i)){const o=i;o.resolving&&function Cq(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new I(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ke(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}(s[t]));const a=zh(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?dr(o.injectImpl):null;ix(n,r,X.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function bW(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=zM(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&dr(l),zh(a),o.resolving=!1,lx()}}return i}function bx(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Dx(n,e){return!(n&X.Self||n&X.Host&&e)}class ga{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return vx(this._tNode,this._lView,e,xh(r),t)}}function RW(){return new ga(Wt(),S())}function Se(n){return Zi(()=>{const e=n.prototype.constructor,t=e[gi]||hy(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[gi]||hy(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function hy(n){return B_(n)?()=>{const e=hy(Q(n));return e&&e()}:Bs(n)}function Ex(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const _a="__parameters__";function va(n,e,t){return Zi(()=>{const r=function fy(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(_a)?l[_a]:Object.defineProperty(l,_a,{value:[]})[_a];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class k{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=P({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function js(n,e){n.forEach(t=>Array.isArray(t)?js(t,e):e(t))}function Ix(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Wh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Rc(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Qn(n,e,t){let r=wa(n,e);return r>=0?n[1|r]=t:(r=~r,function LW(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function gy(n,e){const t=wa(n,e);if(t>=0)return n[1|t]}function wa(n,e){return function Sx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Yh=wc(va("Inject",n=>({token:n})),-1),Kt=wc(va("Optional"),8),Oc=wc(va("SkipSelf"),4);var On=(()=>((On=On||{})[On.Important=1]="Important",On[On.DashCase=2]="DashCase",On))();const wy=new Map;let o3=0;const Dy="__ngContext__";function dn(n,e){Wn(e)?(n[Dy]=e[20],function l3(n){wy.set(n[20],n)}(e)):n[Dy]=e}function Cy(n,e){return undefined(n,e)}function Lc(n){const e=n[3];return Ar(e)?e[3]:e}function Iy(n){return qx(n[13])}function Sy(n){return qx(n[4])}function qx(n){for(;null!==n&&!Ar(n);)n=n[4];return n}function Da(n,e,t,r,i){if(null!=r){let s,o=!1;Ar(r)?s=r:Wn(r)&&(o=!0,r=r[0]);const a=qt(r);0===n&&null!==t?null==i?Zx(e,t,a):Hs(e,t,a,i||null,!0):1===n&&null!==t?Hs(e,t,a,i||null,!0):2===n?function Oy(n,e,t){const r=Zh(n,e);r&&function A3(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function k3(n,e,t,r,i){const s=t[7];s!==qt(t)&&Da(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];Vc(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function Ay(n,e,t){return n.createElement(e,t)}function Kx(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,X_(i,-1)),t.splice(r,1)}function My(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&Kx(i,r),e>0&&(n[t-1][4]=r[4]);const s=Wh(n,10+e);!function w3(n,e){Vc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Yx(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Vc(n,e,t,3,null,null),function E3(n){let e=n[13];if(!e)return xy(n[1],n);for(;e;){let t=null;if(Wn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Wn(e)&&xy(e[1],e),e=e[3];null===e&&(e=n),Wn(e)&&xy(e[1],e),t=e&&e[4]}e=t}}(e)}}function xy(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function T3(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Tc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function S3(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Ar(e[3])){t!==e[3]&&Kx(t,e);const r=e[19];null!==r&&r.detachView(n)}!function c3(n){wy.delete(n[20])}(e)}}function Qx(n,e,t){return function Xx(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Sr.None||s===Sr.Emulated)return null}return Kn(r,t)}}(n,e.parent,t)}function Hs(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Zx(n,e,t){n.appendChild(e,t)}function Jx(n,e,t,r,i){null!==r?Hs(n,e,t,r,i):Zx(n,e,t)}function Zh(n,e){return n.parentNode(e)}function ek(n,e,t){return nk(n,e,t)}let Fy,nk=function tk(n,e,t){return 40&n.type?Kn(n,t):null};function Jh(n,e,t,r){const i=Qx(n,r,e),s=e[11],a=ek(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)Jx(s,i,t[l],a,!1);else Jx(s,i,t,a,!1)}function ef(n,e){if(null!==e){const t=e.type;if(3&t)return Kn(e,n);if(4&t)return Ry(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return ef(n,r);{const i=n[e.index];return Ar(i)?Ry(-1,i):qt(i)}}if(32&t)return Cy(e,n)()||qt(n[e.index]);{const r=ik(n,e);return null!==r?Array.isArray(r)?r[0]:ef(Lc(n[16]),r):ef(n,e.next)}}return null}function ik(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Ry(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return ef(r,i)}return e[7]}function Ny(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&dn(qt(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)Ny(n,e,t.child,r,i,s,!1),Da(e,n,i,a,s);else if(32&l){const c=Cy(t,r);let u;for(;u=c();)Da(e,n,i,u,s);Da(e,n,i,a,s)}else 16&l?sk(n,e,r,t,i,s):Da(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Vc(n,e,t,r,i,s){Ny(t,r,n.firstChild,e,i,s,!1)}function sk(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Da(e,n,i,l[c],s);else Ny(n,e,l,o[3],i,s,!0)}function ok(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ak(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&ay(n,e,r),null!==i&&ok(n,e,i),null!==s&&function O3(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}class hk{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const sf=new k("ENVIRONMENT_INITIALIZER"),Dk=new k("INJECTOR",-1),Ek=new k("INJECTOR_DEF_TYPES");class Ck{get(e,t=yc){if(t===yc){const r=new Error(`NullInjectorError: No provider for ${Ue(e)}!`);throw r.name="NullInjectorError",r}return t}}function o8(...n){return{\u0275providers:Ik(0,n),\u0275fromNgModule:!0}}function Ik(n,...e){const t=[],r=new Set;let i;return js(e,s=>{const o=s;jy(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&Sk(i,t),t}function Sk(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Hy(i,s=>{e.push(s)})}}function jy(n,e,t,r){if(!(n=Q(n)))return!1;let i=null,s=xM(n);const o=!s&&Oe(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=xM(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)jy(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{js(s.imports,u=>{jy(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&Sk(c,e)}if(!a){const c=Bs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Me},{provide:Ek,useValue:i,multi:!0},{provide:sf,useValue:()=>E(i),multi:!0})}const l=s.providers;null==l||a||Hy(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function Hy(n,e){for(let t of n)U_(t)&&(t=t.\u0275providers),Array.isArray(t)?Hy(t,e):e(t)}const a8=Be({provide:String,useValue:Be});function zy(n){return null!==n&&"object"==typeof n&&a8 in n}function Gs(n){return"function"==typeof n}const Gy=new k("Set Injector scope."),af={},c8={};let qy;function lf(){return void 0===qy&&(qy=new Ck),qy}class wi{}class Mk extends wi{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ky(e,o=>this.processProvider(o)),this.records.set(Dk,Ea(void 0,this)),i.has("environment")&&this.records.set(wi,Ea(void 0,this));const s=this.records.get(Gy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ek.multi,Me,X.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=oa(this),r=dr(void 0);try{return e()}finally{oa(t),dr(r)}}get(e,t=yc,r=X.Default){this.assertNotDestroyed(),r=xh(r);const i=oa(this),s=dr(void 0);try{if(!(r&X.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function p8(n){return"function"==typeof n||"object"==typeof n&&n instanceof k}(e)&&Th(e);a=l&&this.injectableDefInScope(l)?Ea(Wy(e),af):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&X.Self?lf():this.parent).get(e,t=r&X.Optional&&t===yc?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Mh]=o[Mh]||[]).unshift(Ue(e)),i)throw o;return function Bq(n,e,t,r){const i=n[Mh];throw e[OM]&&i.unshift(e[OM]),n.message=function Uq(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ue(e);if(Array.isArray(e))i=e.map(Ue).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ue(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Pq,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Mh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{dr(s),oa(i)}}resolveInjectorInitializers(){const e=oa(this),t=dr(void 0);try{const r=this.get(sf.multi,Me,X.Self);for(const i of r)i()}finally{oa(e),dr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ue(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){let t=Gs(e=Q(e))?e:Q(e&&e.provide);const r=function d8(n){return zy(n)?Ea(void 0,n.useValue):Ea(xk(n),af)}(e);if(Gs(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ea(void 0,af,!0),i.factory=()=>z_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===af&&(t.value=c8,t.value=t.factory()),"object"==typeof t.value&&t.value&&function f8(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Q(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Wy(n){const e=Th(n),t=null!==e?e.factory:Bs(n);if(null!==t)return t;if(n instanceof k)throw new I(204,!1);if(n instanceof Function)return function u8(n){const e=n.length;if(e>0)throw Rc(e,"?"),new I(204,!1);const t=function xq(n){const e=n&&(n[Ah]||n[kM]);if(e){const t=function kq(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new I(204,!1)}function xk(n,e,t){let r;if(Gs(n)){const i=Q(n);return Bs(i)||Wy(i)}if(zy(n))r=()=>Q(n.useValue);else if(function Ak(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...z_(n.deps||[]));else if(function Tk(n){return!(!n||!n.useExisting)}(n))r=()=>E(Q(n.useExisting));else{const i=Q(n&&(n.useClass||n.provide));if(!function h8(n){return!!n.deps}(n))return Bs(i)||Wy(i);r=()=>new i(...z_(n.deps))}return r}function Ea(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ky(n,e){for(const t of n)Array.isArray(t)?Ky(t,e):t&&U_(t)?Ky(t.\u0275providers,e):e(t)}class g8{}class kk{}class _8{resolveComponentFactory(e){throw function m8(n){const e=Error(`No component factory found for ${Ue(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let qs=(()=>{class n{}return n.NULL=new _8,n})();function y8(){return Ca(Wt(),S())}function Ca(n,e){return new Ne(Kn(n,e))}let Ne=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=y8,n})();function v8(n){return n instanceof Ne?n.nativeElement:n}class jc{}let bi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function w8(){const n=S(),t=Yn(Wt().index,n);return(Wn(t)?t:n)[11]}(),n})(),b8=(()=>{class n{}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>null}),n})();class ts{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Ok=new ts("15.1.2"),Yy={};function Xy(n){return n.ngOriginalError}class Ia{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Xy(e);for(;t&&Xy(t);)t=Xy(t);return t||null}}function Di(n){return n instanceof Function?n():n}function Pk(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const Fk="ng-template";function R8(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==Pk(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Lk(n){return 4===n.type&&n.value!==Fk}function O8(n,e,t){return e===(4!==n.type||t?n.value:Fk)}function N8(n,e,t){let r=4;const i=n.attrs||[],s=function L8(n){for(let e=0;e<n.length;e++)if(ux(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!O8(n,l,t)||""===l&&1===e.length){if(xr(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!R8(n.attrs,c,t)){if(xr(r))return!1;o=!0}continue}const d=P8(8&r?"class":l,i,Lk(n),t);if(-1===d){if(xr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Pk(f,c,0)||2&r&&c!==h){if(xr(r))return!1;o=!0}}}}else{if(!o&&!xr(r)&&!xr(l))return!1;if(o&&xr(l))continue;o=!1,r=l|1&r}}return xr(r)||o}function xr(n){return 0==(1&n)}function P8(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function V8(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Vk(n,e,t=!1){for(let r=0;r<e.length;r++)if(N8(n,e[r],t))return!0;return!1}function B8(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Bk(n,e){return n?":not("+e.trim()+")":e}function U8(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!xr(o)&&(e+=Bk(s,i),i=""),r=o,s=s||!xr(r);t++}return""!==i&&(e+=Bk(s,i)),e}const oe={};function Ws(n){Uk(De(),S(),Dn()+n,!1)}function Uk(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Uh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&$h(e,s,0,t)}Us(t)}function zk(n,e=null,t=null,r){const i=Gk(n,e,t,r);return i.resolveInjectorInitializers(),i}function Gk(n,e=null,t=null,r,i=new Set){const s=[t||Me,o8(n)];return r=r||("object"==typeof n?void 0:Ue(n)),new Mk(s,e||lf(),r||null,i)}let vt=(()=>{class n{static create(t,r){if(Array.isArray(t))return zk({name:""},r,t,"");{const i=t.name??"";return zk({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=yc,n.NULL=new Ck,n.\u0275prov=P({token:n,providedIn:"any",factory:()=>E(Dk)}),n.__NG_ELEMENT_ID__=-1,n})();function y(n,e=X.Default){const t=S();return null===t?E(n,e):vx(Wt(),t,Q(n),e)}function nv(){throw new Error("invalid")}function Zk(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];ny(t[r]),o.contentQueries(2,e[s],s)}}}function uf(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),QM(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=s,d[20]=function a3(){return o3++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function Aa(n,e,t,r,i){let s=n.data[e];if(null===s)s=function rv(n,e,t,r,i){const s=JM(),o=Z_(),l=n.data[e]=function hK(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),function uW(){return se.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Sc(){const n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ur(s,!0),s}function Hc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function iv(n,e,t){ry(e);try{const r=n.viewQuery;null!==r&&pv(1,r,t);const i=n.template;null!==i&&Jk(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Zk(n,e),n.staticViewQueries&&pv(2,n.viewQuery,t);const s=n.components;null!==s&&function cK(n,e){for(let t=0;t<e.length;t++)kK(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,iy()}}function df(n,e,t,r){const i=e[2];if(128!=(128&i)){ry(e);try{QM(e),function tx(n){return se.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Jk(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Uh(e,c,null)}else{const c=n.preOrderHooks;null!==c&&$h(e,c,0,null),sy(e,0)}if(function MK(n){for(let e=Iy(n);null!==e;e=Sy(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r];512&i[2]||X_(i[3],1),i[2]|=512}}}(e),function AK(n){for(let e=Iy(n);null!==e;e=Sy(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Vh(r)&&df(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&Zk(n,e),o){const c=n.contentCheckHooks;null!==c&&Uh(e,c)}else{const c=n.contentHooks;null!==c&&$h(e,c,1),sy(e,1)}!function aK(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Us(~i);else{const s=i,o=t[++r],a=t[++r];dW(o,s),a(2,e[s])}}}finally{Us(-1)}}(n,e);const a=n.components;null!==a&&function lK(n,e){for(let t=0;t<e.length;t++)xK(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&pv(2,l,r),o){const c=n.viewCheckHooks;null!==c&&Uh(e,c)}else{const c=n.viewHooks;null!==c&&$h(e,c,2),sy(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,X_(e[3],-1))}finally{iy()}}}function Jk(n,e,t,r,i){const s=Dn(),o=2&r;try{Us(-1),o&&e.length>22&&Uk(n,e,22,!1),t(r,i)}finally{Us(s)}}function sv(n,e,t){if(Y_(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function ov(n,e,t){ZM()&&(function yK(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Ic(t)&&function IK(n,e,t){const r=Kn(e,n),i=eR(t),s=n[10],o=hf(n,uf(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Gh(t,e),dn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=$s(e,n,a,t);dn(c,e),null!==o&&SK(0,a-i,c,l,0,o),Mr(l)&&(Yn(t.index,e)[8]=$s(e,n,a,t))}}(n,e,t,Kn(t,e)),64==(64&t.flags)&&oR(n,e,t))}function av(n,e,t=Kn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function eR(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=lv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function lv(n,e,t,r,i,s,o,a,l,c){const u=22+r,d=u+i,h=function uK(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:oe);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function tR(n,e,t,r){const i=lR(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&cR(n).push(r,i.length-1))}function nR(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?rR(t,e,i,s):r.hasOwnProperty(i)&&rR(t,e,r[i],s)}return t}function rR(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Xn(n,e,t,r,i,s,o,a){const l=Kn(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(gv(n,t,u,r,i),Ic(e)&&iR(t,e.index)):3&e.type&&(r=function pK(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function iR(n,e){const t=Yn(e,n);16&t[2]||(t[2]|=32)}function cv(n,e,t,r){let i=!1;if(ZM()){const s=null===r?null:{"":-1},o=function wK(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(Vk(e,o.selectors,!1))if(r||(r=[]),Mr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),uv(n,e,a.length)}else r.unshift(o),uv(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let a,l;null===o?a=l=null:[a,l]=o,null!==a&&(i=!0,sR(n,e,t,a,s,l)),s&&function bK(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new I(-301,!1);r.push(e[i],s)}}}(t,r,s)}return t.mergedAttrs=Ac(t.mergedAttrs,t.attrs),i}function sR(n,e,t,r,i,s){for(let c=0;c<r.length;c++)dy(Gh(t,e),n,r[c].type);!function EK(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Hc(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=Ac(t.mergedAttrs,u.hostAttrs),CK(n,t,e,l,u),DK(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function fK(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;l=nR(d.inputs,u,l,h?h.inputs:null),c=nR(d.outputs,u,c,p);const g=null===l||null===o||Lk(e)?null:TK(l,u,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function oR(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function hW(){return se.lFrame.currentDirectiveIndex}();try{Us(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];ey(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&vK(l,c)}}finally{Us(-1),ey(o)}}function vK(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function uv(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function DK(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Mr(e)&&(t[""]=n)}}function CK(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Bs(i.type)),o=new Tc(s,Mr(i),y);n.blueprint[r]=o,t[r]=o,function mK(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function _K(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Hc(n,t,i.hostVars,oe),i)}function jr(n,e,t,r,i,s){const o=Kn(n,e);!function dv(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ie(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],o,s,n.value,t,r,i)}function SK(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function TK(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function aR(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function xK(n,e){const t=Yn(e,n);if(Vh(t)){const r=t[1];48&t[2]?df(r,t,r.template,t[8]):t[5]>0&&hv(t)}}function hv(n){for(let r=Iy(n);null!==r;r=Sy(r))for(let i=10;i<r.length;i++){const s=r[i];if(Vh(s))if(512&s[2]){const o=s[1];df(o,s,o.template,s[8])}else s[5]>0&&hv(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Yn(t[r],n);Vh(i)&&i[5]>0&&hv(i)}}function kK(n,e){const t=Yn(e,n),r=t[1];(function RK(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),iv(r,t,t[8])}function hf(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function fv(n){for(;n;){n[2]|=32;const e=Lc(n);if(zq(n)&&!e)return n;n=e}return null}function ff(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{df(n,e,n.template,t)}catch(o){throw r&&dR(e,o),o}finally{i.end&&i.end()}}function pv(n,e,t){ny(0),e(n,t)}function lR(n){return n[7]||(n[7]=[])}function cR(n){return n.cleanup||(n.cleanup=[])}function dR(n,e){const t=n[9],r=t?t.get(Ia,null):null;r&&r.handleError(e)}function gv(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function pf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=V_(i,a):2==s&&(r=V_(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function gf(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(qt(s)),Ar(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&gf(l[1],l,c,r)}const o=t.type;if(8&o)gf(n,e,t.child,r);else if(32&o){const a=Cy(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=ik(e,t);if(Array.isArray(a))r.push(...a);else{const l=Lc(e[16]);gf(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class zc{get rootNodes(){const e=this._lView,t=e[1];return gf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ar(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(My(e,r),Wh(t,r))}this._attachedToViewContainer=!1}Yx(this._lView[1],this._lView)}onDestroy(e){tR(this._lView[1],this._lView,null,e)}markForCheck(){fv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ff(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function D3(n,e){Vc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e}}class OK extends zc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ff(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class hR extends qs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Oe(e);return new Gc(t,this.ngModule)}}function fR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class PK{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=xh(r);const i=this.injector.get(e,Yy,r);return i!==Yy||t===Yy?i:this.parentInjector.get(e,t,r)}}class Gc extends kk{get inputs(){return fR(this.componentDef.inputs)}get outputs(){return fR(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function $8(n){return n.map(U8).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof wi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new PK(e,s):e,a=o.get(jc,null);if(null===a)throw new I(407,!1);const l=o.get(b8,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function dK(n,e,t){return n.selectRootElement(e,t===Sr.ShadowDom)}(c,r,this.componentDef.encapsulation):Ay(c,u,function NK(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=lv(0,null,null,1,0,null,null,null,null,null),p=uf(null,f,null,h,null,null,a,c,l,o,null);let g,_;ry(p);try{const v=this.componentDef;let C,w=null;v.findHostDirectiveDefs?(C=[],w=new Map,v.findHostDirectiveDefs(v,C,w),C.push(v)):C=[v];const x=function LK(n,e){const t=n[1];return n[22]=e,Aa(t,22,2,"#host",null)}(p,d),$=function VK(n,e,t,r,i,s,o,a){const l=i[1];!function BK(n,e,t,r){for(const i of n)e.mergedAttrs=Ac(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(pf(e,e.mergedAttrs,!0),null!==t&&ak(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),u=uf(i,eR(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return l.firstCreatePass&&uv(l,n,r.length-1),hf(i,u),i[n.index]=u}(x,d,v,C,p,a,c);_=YM(f,22),d&&function $K(n,e,t,r){if(r)ay(n,t,["ng-version",Ok.full]);else{const{attrs:i,classes:s}=function j8(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!xr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&ay(n,t,i),s&&s.length>0&&ok(n,t,s.join(" "))}}(c,v,d,r),void 0!==t&&function jK(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,t),g=function UK(n,e,t,r,i,s){const o=Wt(),a=i[1],l=Kn(o,i);sR(a,i,o,t,null,r);for(let u=0;u<t.length;u++)dn($s(i,a,o.directiveStart+u,o),i);oR(a,i,o),l&&dn(l,i);const c=$s(i,a,o.directiveStart+o.componentOffset,o);if(n[8]=i[8]=c,null!==s)for(const u of s)u(c,e);return sv(a,o,n),c}($,v,C,w,p,[HK]),iv(f,p,null)}finally{iy()}return new FK(this.componentType,g,Ca(_,p),p,_)}}class FK extends g8{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new OK(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;gv(s[1],s,i,e,t),iR(s,this._tNode.index)}}get injector(){return new ga(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function HK(){const n=Wt();Bh(S()[1],n)}function G(n){let e=function pR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Mr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=mv(n.inputs),o.declaredInputs=mv(n.declaredInputs),o.outputs=mv(n.outputs);const a=i.hostBindings;a&&WK(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&GK(n,l),c&&qK(n,c),L_(n.inputs,i.inputs),L_(n.declaredInputs,i.declaredInputs),L_(n.outputs,i.outputs),Mr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===G&&(t=!1)}}e=Object.getPrototypeOf(e)}!function zK(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ac(i.hostAttrs,t=Ac(t,i.hostAttrs))}}(r)}function mv(n){return n===pi?{}:n===Me?[]:n}function GK(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function qK(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function WK(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let mf=null;function Ks(){if(!mf){const n=je.Symbol;if(n&&n.iterator)mf=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(mf=r)}}}return mf}function hn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function gr(n,e,t,r){const i=S();return hn(i,fa(),e)&&(De(),jr(Je(),i,n,e,t,r)),gr}function Qs(n,e,t,r,i,s,o,a){const l=S(),c=De(),u=n+22,d=c.firstCreatePass?function r4(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Aa(e,n,4,o||null,Ji(c,a));cv(e,t,u,Ji(c,l)),Bh(e,u);const d=u.tViews=lv(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Ur(d,!1);const h=l[11].createComment("");Jh(c,l,h,d),dn(h,l),hf(l,l[u]=aR(h,l,h,d)),Fh(d)&&ov(c,l,d),null!=o&&av(l,d,a)}function yv(n,e,t){const r=S();return hn(r,fa(),e)&&Xn(De(),Je(),r,n,e,r[11],t,!1),yv}function vv(n,e,t,r,i){const o=i?"class":"style";gv(n,t,e.inputs[o],o,r)}function He(n,e,t,r){const i=S(),s=De(),o=22+n,a=i[11],l=i[o]=Ay(a,e,function wW(){return se.lFrame.currentNamespace}()),c=s.firstCreatePass?function o4(n,e,t,r,i,s,o){const a=e.consts,c=Aa(e,n,2,i,Ji(a,s));return cv(e,t,c,Ji(a,o)),null!==c.attrs&&pf(c,c.attrs,!1),null!==c.mergedAttrs&&pf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];return Ur(c,!0),ak(a,l,c),32!=(32&c.flags)&&Jh(s,i,l,c),0===function nW(){return se.lFrame.elementDepthCount}()&&dn(l,i),function rW(){se.lFrame.elementDepthCount++}(),Fh(c)&&(ov(s,i,c),sv(s,c,i)),null!==r&&av(i,c),He}function ze(){let n=Wt();Z_()?J_():(n=n.parent,Ur(n,!1));const e=n;!function iW(){se.lFrame.elementDepthCount--}();const t=De();return t.firstCreatePass&&(Bh(t,n),Y_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function CW(n){return 0!=(8&n.flags)}(e)&&vv(t,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function IW(n){return 0!=(16&n.flags)}(e)&&vv(t,e,S(),e.stylesWithoutHost,!1),ze}function Zn(n,e,t,r){return He(n,e,t,r),ze(),Zn}function Yc(n){return!!n&&"function"==typeof n.then}const wv=function TR(n){return!!n&&"function"==typeof n.subscribe};function Pn(n,e,t,r){const i=S(),s=De(),o=Wt();return function MR(n,e,t,r,i,s,o){const a=Fh(r),c=n.firstCreatePass&&cR(n),u=e[8],d=lR(e);let h=!0;if(3&r.type||o){const g=Kn(r,e),_=o?o(g):g,v=d.length,C=o?x=>o(qt(x[r.index])):r.index;let w=null;if(!o&&a&&(w=function c4(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,h=!1;else{s=kR(r,e,u,s,!1);const x=t.listen(_,i,s);d.push(s,x),c&&c.push(i,C,v,v+1)}}else s=kR(r,e,u,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const $=e[p[_]][p[_+1]].subscribe(s),B=d.length;d.push(s,$),c&&c.push(i,r.index,B,-(B+1))}}}(s,i,i[11],o,n,e,r),Pn}function xR(n,e,t,r){try{return!1!==t(r)}catch(i){return dR(n,i),!1}}function kR(n,e,t,r,i){return function s(o){if(o===Function)return r;fv(n.componentOffset>-1?Yn(n.index,e):e);let l=xR(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=xR(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function u4(n,e){let t=null;const r=function F8(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Vk(n,s,!0):B8(r,s))return i}else t=i}return t}function wf(n,e){return n<<17|e<<2}function ns(n){return n>>17&32767}function Dv(n){return 2|n}function Xs(n){return(131068&n)>>2}function Ev(n,e){return-131069&n|e<<2}function Cv(n){return 1|n}function $R(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?ns(s):Xs(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];m4(n[a],e)&&(l=!0,n[a+1]=r?Cv(u):Dv(u)),a=r?ns(u):Xs(u)}l&&(n[t+1]=r?Dv(s):Cv(s))}function m4(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&wa(n,e)>=0}function Zs(n,e,t){return kr(n,e,t,!1),Zs}function rs(n,e){return kr(n,e,null,!0),rs}function kr(n,e,t,r){const i=S(),s=De(),o=function yi(n){const e=se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function YR(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Dn()],o=function KR(n,e){return e>=n.expandoStartIndex}(n,t);(function JR(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function I4(n,e,t,r){const i=function ty(n){const e=se.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Xc(t=Iv(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Iv(i,n,e,t,r),null===s){let l=function S4(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Xs(r))return n[ns(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=Iv(null,n,e,l[1],r),l=Xc(l,e.attrs,r),function T4(n,e,t,r){n[ns(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function A4(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Xc(r,n[s].hostAttrs,t);return Xc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function p4(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ns(o),l=Xs(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||wa(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const h=ns(n[a+1]);n[r+1]=wf(h,a),0!==h&&(n[h+1]=Ev(n[h+1],r)),n[a+1]=function h4(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=wf(a,0),0!==a&&(n[a+1]=Ev(n[a+1],r)),a=r;else n[r+1]=wf(l,0),0===a?a=r:n[l+1]=Ev(n[l+1],r),l=r;c&&(n[r+1]=Dv(n[r+1])),$R(n,u,r,!0),$R(n,u,r,!1),function g4(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&wa(s,e)>=0&&(t[r+1]=Cv(t[r+1]))}(e,u,n,r,s),o=wf(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==oe&&hn(i,o,e)&&function XR(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function f4(n){return 1==(1&n)}(c)?ZR(l,e,t,i,Xs(c),o):void 0;bf(u)||(bf(s)||function d4(n){return 2==(2&n)}(c)&&(s=ZR(l,null,t,i,a,o)),function R3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:On.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=On.Important),n.setStyle(t,r,i,s))}}(r,o,function Lh(n,e){return qt(e[n])}(Dn(),t),i,s))}(s,s.data[Dn()],i,i[11],n,i[o+1]=function k4(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ue(function es(n){return n instanceof hk?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),r,o)}function Iv(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Xc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Xc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Qn(n,o,!!t||e[++s]))}return void 0===n?null:n}function ZR(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===oe&&(h=d?Me:void 0);let f=d?gy(h,r):u===r?h:void 0;if(c&&!bf(f)&&(f=gy(l,r)),bf(f)&&(a=f,o))return a;const p=n[i+1];i=o?ns(p):Xs(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=gy(l,r))}return a}function bf(n){return void 0!==n}function Tt(n,e=""){const t=S(),r=De(),i=n+22,s=r.firstCreatePass?Aa(r,i,1,e,null):r.data[i],o=t[i]=function Ty(n,e){return n.createText(e)}(t[11],e);Jh(r,t,o,s),Ur(s,!1)}function Sv(n,e,t){const r=S();return hn(r,fa(),e)&&Xn(De(),Je(),r,n,e,r[11],t,!0),Sv}const $a="en-US";let bO=$a;function Mv(n,e,t,r,i){if(n=Q(n),Array.isArray(n))for(let s=0;s<n.length;s++)Mv(n[s],e,t,r,i);else{const s=De(),o=S();let a=Gs(n)?n:Q(n.provide),l=xk(n);const c=Wt(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Gs(n)||!n.multi){const f=new Tc(l,i,y),p=kv(a,e,i?u:u+h,d);-1===p?(dy(Gh(c,o),s,a),xv(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=kv(a,e,u+h,d),p=kv(a,e,u,u+h),_=p>=0&&t[p];if(i&&!_||!i&&!(f>=0&&t[f])){dy(Gh(c,o),s,a);const v=function Q5(n,e,t,r,i){const s=new Tc(n,t,y);return s.multi=[],s.index=e,s.componentProviders=0,qO(s,i,r&&!t),s}(i?Y5:K5,t.length,i,r,l);!i&&_&&(t[p].providerFactory=v),xv(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(v),o.push(v)}else xv(s,n,f>-1?f:p,qO(t[i?p:f],l,!i&&r));!i&&r&&_&&t[p].componentProviders++}}}function xv(n,e,t,r){const i=Gs(e),s=function l8(n){return!!n.useClass}(e);if(i||s){const l=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function qO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function kv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function K5(n,e,t,r){return Rv(this.multi,[])}function Y5(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=$s(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),Rv(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Rv(i,s);return s}function Rv(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ue(n,e=[]){return t=>{t.providersResolver=(r,i)=>function W5(n,e,t){const r=De();if(r.firstCreatePass){const i=Mr(n);Mv(t,r.data,r.blueprint,i,!0),Mv(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ja{}class WO{}class KO extends ja{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hR(this);const r=qn(e);this._bootstrapComponents=Di(r.bootstrap),this._r3Injector=Gk(e,t,[{provide:ja,useValue:this},{provide:qs,useValue:this.componentFactoryResolver}],Ue(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ov extends WO{constructor(e){super(),this.moduleType=e}create(e){return new KO(this.moduleType,e)}}class Z5 extends ja{constructor(e,t,r){super(),this.componentFactoryResolver=new hR(this),this.instance=null;const i=new Mk([...e,{provide:ja,useValue:this},{provide:qs,useValue:this.componentFactoryResolver}],t||lf(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Sf(n,e,t=null){return new Z5(n,e,t).injector}let J5=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=Ik(0,t.type),i=r.length>0?Sf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=P({token:n,providedIn:"environment",factory:()=>new n(E(wi))}),n})();function Nv(n){n.getStandaloneInjector=e=>e.get(J5).getOrCreateStandaloneInjector(n)}function Fv(n){return e=>{setTimeout(n,void 0,e)}}const Ge=class I6 extends Ae{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Fv(s),i&&(i=Fv(i)),o&&(o=Fv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Gt&&e.add(a),a}};function S6(){return this._results[Ks()]()}class Lv{get changes(){return this._changes||(this._changes=new Ge)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ks(),r=Lv.prototype;r[t]||(r[t]=S6)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function fr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function PW(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Lt=(()=>{class n{}return n.__NG_ELEMENT_ID__=M6,n})();const T6=Lt,A6=class extends T6{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=uf(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),iv(r,i,e),new zc(i)}};function M6(){return Tf(Wt(),S())}function Tf(n,e){return 4&n.type?new A6(e,n,Ca(n,e)):null}let Yt=(()=>{class n{}return n.__NG_ELEMENT_ID__=x6,n})();function x6(){return lN(Wt(),S())}const k6=Yt,oN=class extends k6{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ca(this._hostTNode,this._hostLView)}get injector(){return new ga(this._hostTNode,this._hostLView)}get parentInjector(){const e=uy(this._hostTNode,this._hostLView);if(fx(e)){const t=Hh(e,this._hostLView),r=jh(e);return new ga(t[1].data[r+8],t)}return new ga(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=aN(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function kc(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new Gc(Oe(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(wi,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function tW(n){return Ar(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new oN(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function C3(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],Ix(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function I3(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=Ry(s,o),l=r[11],c=Zh(l,o[7]);return null!==c&&function b3(n,e,t,r,i,s){r[0]=i,r[6]=e,Vc(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),Ix(Vv(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=aN(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=My(this._lContainer,t);r&&(Wh(Vv(this._lContainer),t),Yx(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=My(this._lContainer,t);return r&&null!=Wh(Vv(this._lContainer),t)?new zc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function aN(n){return n[8]}function Vv(n){return n[8]||(n[8]=[])}function lN(n,e){let t;const r=e[n.index];if(Ar(r))t=r;else{let i;if(8&n.type)i=qt(r);else{const s=e[11];i=s.createComment("");const o=Kn(n,e);Hs(s,Zh(s,o),i,function M3(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=aR(r,e,i,n),hf(e,t)}return new oN(t,n,e)}class Bv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Bv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Uv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==fN(e,t).matches&&this.queries[t].setDirty()}}class cN{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class $v{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new $v(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class jv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new jv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,R6(t,s)),this.matchTNodeWithReadOption(e,t,qh(t,e,s,!1,!1))}else r===Lt?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,qh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ne||i===Yt||i===Lt&&4&t.type)this.addMatch(t.index,-2);else{const s=qh(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function R6(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function N6(n,e,t,r){return-1===t?function O6(n,e){return 11&n.type?Ca(n,e):4&n.type?Tf(n,e):null}(e,n):-2===t?function P6(n,e,t){return t===Ne?Ca(e,n):t===Lt?Tf(e,n):t===Yt?lN(e,n):void 0}(n,e,r):$s(n,n[1],t,e)}function uN(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:N6(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function Hv(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=uN(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Hv(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];Hv(f[1],f,c,r)}}}}}return r}function At(n){const e=S(),t=De(),r=rx();ny(r+1);const i=fN(t,r);if(n.dirty&&function eW(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Hv(t,e,r,[]):uN(t,e,i,r);n.reset(s,v8),n.notifyOnChanges()}return!0}return!1}function Wr(n,e,t){const r=De();r.firstCreatePass&&(function hN(n,e,t){null===n.queries&&(n.queries=new $v),n.queries.track(new jv(e,t))}(r,new cN(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function dN(n,e,t){const r=new Lv(4==(4&t));tR(n,e,r,r.destroy),null===e[19]&&(e[19]=new Uv),e[19].queries.push(new Bv(r))}(r,S(),e)}function Mt(){return function F6(n,e){return n[19].queries[e].queryList}(S(),rx())}function fN(n,e){return n.queries.getByIndex(e)}function Mf(...n){}const xf=new k("Application Initializer");let kf=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Mf,this.reject=Mf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Yc(s))t.push(s);else if(wv(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(E(xf,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ou=new k("AppId",{providedIn:"root",factory:function RN(){return`${Kv()}${Kv()}${Kv()}`}});function Kv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ON=new k("Platform Initializer"),au=new k("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),NN=new k("appBootstrapListener"),lu=new k("AnimationModuleType");let i7=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Yr=new k("LocaleId",{providedIn:"root",factory:()=>pe(Yr,X.Optional|X.SkipSelf)||function s7(){return typeof $localize<"u"&&$localize.locale||$a}()});class a7{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let PN=(()=>{class n{compileModuleSync(t){return new Ov(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Di(qn(t).declarations).reduce((o,a)=>{const l=Oe(a);return l&&o.push(new Gc(l)),o},[]);return new a7(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const u7=(()=>Promise.resolve(0))();function Yv(n){typeof Zone>"u"?u7.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function d7(){let n=je.requestAnimationFrame,e=je.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function p7(n){const e=()=>{!function f7(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(je,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Xv(n),n.isCheckStableRunning=!0,Qv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Xv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return VN(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),BN(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return VN(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),BN(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Xv(n),Qv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!te.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(te.isInAngularZone())throw new I(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,h7,Mf,Mf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const h7={};function Qv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Xv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function VN(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function BN(n){n._nesting--,Qv(n)}class g7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const UN=new k(""),Rf=new k("");let ew,Zv=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ew||(function m7(n){ew=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{te.assertNotInAngularZone(),Yv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(E(te),E(Jv),E(Rf))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Jv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return ew?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),is=null;const $N=new k("AllowMultipleToken"),tw=new k("PlatformDestroyListeners");class jN{constructor(e,t){this.name=e,this.token=t}}function zN(n,e,t=[]){const r=`Platform: ${e}`,i=new k(r);return(s=[])=>{let o=nw();if(!o||o.injector.get($N,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function v7(n){if(is&&!is.get($N,!1))throw new I(400,!1);is=n;const e=n.get(qN);(function HN(n){const e=n.get(ON,null);e&&e.forEach(t=>t())})(n)}(function GN(n=[],e){return vt.create({name:e,providers:[{provide:Gy,useValue:"platform"},{provide:tw,useValue:new Set([()=>is=null])},...n]})}(a,r))}return function b7(n){const e=nw();if(!e)throw new I(401,!1);return e}()}}function nw(){return is?.get(qN)??null}let qN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function KN(n,e){let t;return t="noop"===n?new g7:("zone.js"===n?void 0:n)||new te(e),t}(r?.ngZone,function WN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:te,useValue:i}];return i.run(()=>{const o=vt.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(Ia,null);if(!l)throw new I(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Of(this._modules,a),c.unsubscribe()})}),function YN(n,e,t){try{const r=t();return Yc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(kf);return c.runInitializers(),c.donePromise.then(()=>(function DO(n){ur(n,"Expected localeId to be defined"),"string"==typeof n&&(bO=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Yr,$a)||$a),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=QN({},r);return function _7(n,e,t){const r=new Ov(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ga);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new I(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(tw,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(E(vt))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function QN(n,e){return Array.isArray(e)?e.reduce(QN,n):{...n,...e}}let Ga=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new xe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new xe(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),Yv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=P_(s,o.pipe(function Dq(n={}){const{connector:e=(()=>new Ae),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return rt((g,_)=>{c++,!d&&!u&&h();const v=l=l??e();_.add(()=>{c--,0===c&&!d&&!u&&(a=F_(p,i))}),v.subscribe(_),!o&&c>0&&(o=new mc({next:C=>v.next(C),error:C=>{d=!0,h(),a=F_(f,t,C),v.error(C)},complete:()=>{u=!0,h(),a=F_(f,r),v.complete()}}),kn(g).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof kk;if(!this._injector.get(kf).done)throw!i&&function aa(n){const e=Oe(n)||ln(n)||yn(n);return null!==e&&e.standalone}(t),new I(405,false);let o;o=i?t:this._injector.get(qs).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function y7(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ja),c=o.create(vt.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(UN,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Of(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Of(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(NN,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Of(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(E(te),E(wi),E(Ia))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Of(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let qa=(()=>{class n{}return n.__NG_ELEMENT_ID__=E7,n})();function E7(n){return function C7(n,e,t){if(Ic(n)&&!t){const r=Yn(n.index,e);return new zc(r,r)}return 47&n.type?new zc(e[16],e):null}(Wt(),S(),16==(16&n))}const L7=zN(null,"core",[]);let V7=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(E(Ga))},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({}),n})(),aw=null;function Qr(){return aw}class $7{}const ye=new k("DocumentToken");let lw=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return function j7(){return E(aP)}()},providedIn:"platform"}),n})();const H7=new k("Location Initialized");let aP=(()=>{class n extends lw{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qr().getBaseHref(this._doc)}onPopState(t){const r=Qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){lP()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){lP()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(E(ye))},n.\u0275prov=P({token:n,factory:function(){return function z7(){return new aP(E(ye))}()},providedIn:"platform"}),n})();function lP(){return!!window.history.pushState}function cw(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function cP(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Si(n){return n&&"?"!==n[0]?"?"+n:n}let no=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return pe(dP)},providedIn:"root"}),n})();const uP=new k("appBaseHref");let dP=(()=>{class n extends no{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??pe(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cw(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Si(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Si(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Si(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(E(lw),E(uP,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G7=(()=>{class n extends no{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=cw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Si(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Si(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(E(lw),E(uP,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),uu=(()=>{class n{constructor(t){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function K7(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(cP(hP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Si(r))}normalize(t){return n.stripTrailingSlash(function W7(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,hP(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Si(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Si(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Si,n.joinWithSlash=cw,n.stripTrailingSlash=cP,n.\u0275fac=function(t){return new(t||n)(E(no))},n.\u0275prov=P({token:n,factory:function(){return function q7(){return new uu(E(no))}()},providedIn:"root"}),n})();function hP(n){return n.replace(/\/index.html$/,"")}let AP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({}),n})();const MP="browser";let fY=(()=>{class n{}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>new pY(E(ye),window)}),n})();class pY{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function gY(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xP(this.window.history)||xP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xP(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class HY extends $7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Sw extends HY{static makeCurrent(){!function U7(n){aw||(aw=n)}(new Sw)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function zY(){return pu=pu||document.querySelector("base"),pu?pu.getAttribute("href"):null}();return null==t?null:function GY(n){qf=qf||document.createElement("a"),qf.setAttribute("href",n);const e=qf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){pu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function k9(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let qf,pu=null;const FP=new k("TRANSITION_ID"),WY=[{provide:xf,useFactory:function qY(n,e,t){return()=>{t.get(kf).donePromise.then(()=>{const r=Qr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[FP,ye,vt],multi:!0}];let YY=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const Wf=new k("EventManagerPlugins");let Kf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(E(Wf),E(te))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class LP{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Qr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let VP=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),gu=(()=>{class n extends VP{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(BP),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(BP))}}return n.\u0275fac=function(t){return new(t||n)(E(ye))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function BP(n){Qr().remove(n)}const Tw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Aw=/%COMP%/g;function Mw(n,e){return e.flat(100).map(t=>t.replace(Aw,n))}function jP(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Yf=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new xw(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Sr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new tQ(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case Sr.ShadowDom:return new nQ(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Mw(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(E(Kf),E(gu),E(ou))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class xw{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Tw[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(zP(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(zP(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Tw[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Tw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(On.DashCase|On.Important)?e.style.setProperty(t,r,i&On.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&On.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,jP(r)):this.eventManager.addEventListener(e,t,jP(r))}}function zP(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class tQ extends xw{constructor(e,t,r,i){super(e),this.component=r;const s=Mw(i+"-"+r.id,r.styles);t.addStyles(s),this.contentAttr=function ZY(n){return"_ngcontent-%COMP%".replace(Aw,n)}(i+"-"+r.id),this.hostAttr=function JY(n){return"_nghost-%COMP%".replace(Aw,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class nQ extends xw{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Mw(i.id,i.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let rQ=(()=>{class n extends LP{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(E(ye))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const GP=["alt","control","meta","shift"],iQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let oQ=(()=>{class n extends LP{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),GP.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=iQ[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),GP.forEach(o=>{o!==i&&(0,sQ[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(E(ye))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const WP=[{provide:au,useValue:MP},{provide:ON,useValue:function aQ(){Sw.makeCurrent()},multi:!0},{provide:ye,useFactory:function cQ(){return function L3(n){Fy=n}(document),document},deps:[]}],uQ=zN(L7,"browser",WP),KP=new k(""),YP=[{provide:Rf,useClass:class KY{addToWindow(e){je.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},je.getAllAngularTestabilities=()=>e.getAllTestabilities(),je.getAllAngularRootElements=()=>e.getAllRootElements(),je.frameworkStabilizers||(je.frameworkStabilizers=[]),je.frameworkStabilizers.push(r=>{const i=je.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Qr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:UN,useClass:Zv,deps:[te,Jv,Rf]},{provide:Zv,useClass:Zv,deps:[te,Jv,Rf]}],QP=[{provide:Gy,useValue:"root"},{provide:Ia,useFactory:function lQ(){return new Ia},deps:[]},{provide:Wf,useClass:rQ,multi:!0,deps:[ye,te,au]},{provide:Wf,useClass:oQ,multi:!0,deps:[ye]},{provide:Yf,useClass:Yf,deps:[Kf,gu,ou]},{provide:jc,useExisting:Yf},{provide:VP,useExisting:gu},{provide:gu,useClass:gu,deps:[ye]},{provide:Kf,useClass:Kf,deps:[Wf,te]},{provide:class mY{},useClass:YY,deps:[]},[]];let XP=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ou,useValue:t.appId},{provide:FP,useExisting:ou},WY]}}}return n.\u0275fac=function(t){return new(t||n)(E(KP,12))},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({providers:[...QP,...YP],imports:[AP,V7]}),n})(),ZP=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(E(ye))},n.\u0275prov=P({token:n,factory:function(t){let r=null;return r=t?new t:function hQ(){return new ZP(E(ye))}(),r},providedIn:"root"}),n})();function W(...n){return ut(n,_c(n))}typeof window<"u"&&window;class Jn extends Ae{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Qf=gc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:wQ}=Array,{getPrototypeOf:bQ,prototype:DQ,keys:EQ}=Object;function t1(n){if(1===n.length){const e=n[0];if(wQ(e))return{args:e,keys:null};if(function CQ(n){return n&&"object"==typeof n&&bQ(n)===DQ}(e)){const t=EQ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:IQ}=Array;function Ow(n){return he(e=>function SQ(n,e){return IQ(e)?n(...e):n(e)}(n,e))}function n1(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Nw(...n){const e=_c(n),t=SM(n),{args:r,keys:i}=t1(n);if(0===r.length)return ut([],e);const s=new xe(function TQ(n,e,t=Qi){return r=>{r1(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)r1(e,()=>{const c=ut(n[l],e);let u=!1;c.subscribe(Qe(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>n1(i,o):Qi));return t?s.pipe(Ow(t)):s}function r1(n,e,t){n?fi(t,n,e):e()}function Xf(...n){return function AQ(){return sa(1)}()(ut(n,_c(n)))}function Zf(n){return new xe(e=>{kn(n()).subscribe(e)})}function mu(n,e){const t=we(n)?n:()=>n,r=i=>i.error(t());return new xe(e?i=>e.schedule(r,0,i):r)}function Pw(){return rt((n,e)=>{let t=null;n._refCount++;const r=Qe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Fw extends xe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,dM(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Gt;const t=this.getSubject();e.add(this.source.subscribe(Qe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Gt.EMPTY)}return e}refCount(){return Pw()(this)}}function Xr(n,e){return rt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Qe(r,l=>{i?.unsubscribe();let c=0;const u=s++;kn(n(l,u)).subscribe(i=Qe(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function er(n){return n<=0?()=>Vr:rt((e,t)=>{let r=0;e.subscribe(Qe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function _u(...n){const e=_c(n);return rt((t,r)=>{(e?Xf(n,t,e):Xf(n,t)).subscribe(r)})}function Ln(n,e){return rt((t,r)=>{let i=0;t.subscribe(Qe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Jf(n){return rt((e,t)=>{let r=!1;e.subscribe(Qe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function s1(n=MQ){return rt((e,t)=>{let r=!1;e.subscribe(Qe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function MQ(){return new Qf}function os(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ln((i,s)=>n(i,s,r)):Qi,er(1),t?Jf(e):s1(()=>new Qf))}function ro(n,e){return we(e)?Ft(n,e,1):Ft(n,1)}function Qt(n,e,t){const r=we(n)||e||t?{next:n,error:e,complete:t}:n;return r?rt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Qe(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Qi}function as(n){return rt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Qe(t,void 0,void 0,o=>{s=kn(n(o,as(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function xQ(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Qe(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function o1(n,e){return rt(xQ(n,e,arguments.length>=2,!0))}function Lw(n){return n<=0?()=>Vr:rt((e,t)=>{let r=[];e.subscribe(Qe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function a1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ln((i,s)=>n(i,s,r)):Qi,Lw(1),t?Jf(e):s1(()=>new Qf))}function Vw(n){return rt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ae="primary",yu=Symbol("RouteTitle");class OQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ka(n){return new OQ(n)}function NQ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Zr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!l1(n[i],e[i]))return!1;return!0}function l1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function c1(n){return Array.prototype.concat.apply([],n)}function u1(n){return n.length>0?n[n.length-1]:null}function Xt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ls(n){return wv(n)?n:Yc(n)?ut(Promise.resolve(n)):W(n)}const ep=!1,FQ={exact:function f1(n,e,t){if(!so(n.segments,e.segments)||!tp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!f1(n.children[r],e.children[r],t))return!1;return!0},subset:p1},d1={exact:function LQ(n,e){return Zr(n,e)},subset:function VQ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>l1(n[t],e[t]))},ignored:()=>!0};function h1(n,e,t){return FQ[t.paths](n.root,e.root,t.matrixParams)&&d1[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function p1(n,e,t){return g1(n,e,e.segments,t)}function g1(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!so(i,t)||e.hasChildren()||!tp(i,t,r))}if(n.segments.length===t.length){if(!so(n.segments,t)||!tp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!p1(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(so(n.segments,i)&&tp(n.segments,i,r)&&n.children[ae])&&g1(n.children[ae],e,s,r)}}function tp(n,e,t){return e.every((r,i)=>d1[t](n[i].parameters,r.parameters))}class io{constructor(e=new ge([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ka(this.queryParams)),this._queryParamMap}toString(){return $Q.serialize(this)}}class ge{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Xt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return np(this)}}class vu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ka(this.parameters)),this._parameterMap}toString(){return y1(this)}}function so(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let wu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return new Bw},providedIn:"root"}),n})();class Bw{parse(e){const t=new QQ(e);return new io(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${bu(e.root,!0)}`,r=function zQ(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${rp(t)}=${rp(i)}`).join("&"):`${rp(t)}=${rp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function jQ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const $Q=new Bw;function np(n){return n.segments.map(e=>y1(e)).join("/")}function bu(n,e){if(!n.hasChildren())return np(n);if(e){const t=n.children[ae]?bu(n.children[ae],!1):"",r=[];return Xt(n.children,(i,s)=>{s!==ae&&r.push(`${s}:${bu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function UQ(n,e){let t=[];return Xt(n.children,(r,i)=>{i===ae&&(t=t.concat(e(r,i)))}),Xt(n.children,(r,i)=>{i!==ae&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ae?[bu(n.children[ae],!1)]:[`${i}:${bu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ae]?`${np(n)}/${t[0]}`:`${np(n)}/(${t.join("//")})`}}function m1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rp(n){return m1(n).replace(/%3B/gi,";")}function Uw(n){return m1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ip(n){return decodeURIComponent(n)}function _1(n){return ip(n.replace(/\+/g,"%20"))}function y1(n){return`${Uw(n.path)}${function HQ(n){return Object.keys(n).map(e=>`;${Uw(e)}=${Uw(n[e])}`).join("")}(n.parameters)}`}const GQ=/^[^\/()?;=#]+/;function sp(n){const e=n.match(GQ);return e?e[0]:""}const qQ=/^[^=?&#]+/,KQ=/^[^&#]+/;class QQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ae]=new ge(e,t)),r}parseSegment(){const e=sp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new I(4009,ep);return this.capture(e),new vu(ip(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=sp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=sp(this.remaining);i&&(r=i,this.capture(r))}e[ip(t)]=ip(r)}parseQueryParam(e){const t=function WQ(n){const e=n.match(qQ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function YQ(n){const e=n.match(KQ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=_1(t),s=_1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=sp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new I(4010,ep);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ae);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ae]:new ge([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new I(4011,ep)}}function $w(n){return n.segments.length>0?new ge([],{[ae]:n}):n}function op(n){const e={};for(const r of Object.keys(n.children)){const s=op(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function XQ(n){if(1===n.numberOfChildren&&n.children[ae]){const e=n.children[ae];return new ge(n.segments.concat(e.segments),e.children)}return n}(new ge(n.segments,e))}function oo(n){return n instanceof io}function eX(n,e,t,r,i){if(0===t.length)return Ya(e.root,e.root,e.root,r,i);const s=function b1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new w1(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Xt(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new w1(t,e,r)}(t);return s.toRoot()?Ya(e.root,e.root,new ge([],{}),r,i):function o(l){const c=function nX(n,e,t,r){if(n.isAbsolute)return new Qa(e.root,!0,0);if(-1===r)return new Qa(t,t===e.root,0);return function D1(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new Qa(r,!1,i-s)}(t,r+(Du(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?Xa(c.segmentGroup,c.index,s.commands):Hw(c.segmentGroup,c.index,s.commands);return Ya(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Du(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Eu(n){return"object"==typeof n&&null!=n&&n.outlets}function Ya(n,e,t,r,i){let o,s={};r&&Xt(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:v1(n,e,t);const a=$w(op(o));return new io(a,s,i)}function v1(n,e,t){const r={};return Xt(n.children,(i,s)=>{r[s]=i===e?t:v1(i,e,t)}),new ge(n.segments,r)}class w1{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Du(r[0]))throw new I(4003,!1);const i=r.find(Eu);if(i&&i!==u1(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Hw(n,e,t){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return Xa(n,e,t);const r=function iX(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Eu(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!C1(l,c,o))return s;r+=2}else{if(!C1(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ge(n.segments.slice(0,r.pathIndex),{});return s.children[ae]=new ge(n.segments.slice(r.pathIndex),n.children),Xa(s,0,i)}return r.match&&0===i.length?new ge(n.segments,{}):r.match&&!n.hasChildren()?zw(n,e,t):r.match?Xa(n,0,i):zw(n,e,t)}function Xa(n,e,t){if(0===t.length)return new ge(n.segments,{});{const r=function rX(n){return Eu(n[0])?n[0].outlets:{[ae]:n}}(t),i={};return!r[ae]&&n.children[ae]&&1===n.numberOfChildren&&0===n.children[ae].segments.length?Xa(n.children[ae],e,t):(Xt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Hw(n.children[o],e,s))}),Xt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ge(n.segments,i))}}function zw(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Eu(s)){const l=sX(s.outlets);return new ge(r,l)}if(0===i&&Du(t[0])){r.push(new vu(n.segments[e].path,E1(t[0]))),i++;continue}const o=Eu(s)?s.outlets[ae]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Du(a)?(r.push(new vu(o,E1(a))),i+=2):(r.push(new vu(o,{})),i++)}return new ge(r,{})}function sX(n){const e={};return Xt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=zw(new ge([],{}),0,t))}),e}function E1(n){const e={};return Xt(n,(t,r)=>e[r]=`${t}`),e}function C1(n,e,t){return n==t.path&&Zr(e,t.parameters)}const Cu="imperative";class Jr{constructor(e,t){this.id=e,this.url=t}}class Gw extends Jr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ao extends Jr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ap extends Jr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class I1 extends Jr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class S1 extends Jr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oX extends Jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aX extends Jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lX extends Jr{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cX extends Jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uX extends Jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T1{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let yX=(()=>{class n{createUrlTree(t,r,i,s,o,a){return eX(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),vX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(e){return yX.\u0275fac(e)},providedIn:"root"}),n})();class A1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=qw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=qw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ww(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ww(e,this._root).map(t=>t.value)}}function qw(n,e){if(n===e.value)return e;for(const t of e.children){const r=qw(n,t);if(r)return r}return null}function Ww(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ww(n,t);if(r.length)return r.unshift(e),r}return[]}class Ai{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Za(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class M1 extends A1{constructor(e,t){super(e),this.snapshot=t,Kw(this,e)}toString(){return this.snapshot.toString()}}function x1(n,e){const t=function wX(n,e){const o=new lp([],{},{},"",{},ae,e,null,n.root,-1,{});return new R1("",new Ai(o,[]))}(n,e),r=new Jn([new vu("",{})]),i=new Jn({}),s=new Jn({}),o=new Jn({}),a=new Jn(""),l=new Ja(r,i,o,a,s,ae,e,t.root);return l.snapshot=t.root,new M1(new Ai(l,[]),t)}class Ja{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(he(c=>c[yu]))??W(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(he(e=>Ka(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(he(e=>Ka(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function k1(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function bX(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class lp{get title(){return this.data?.[yu]}constructor(e,t,r,i,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ka(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ka(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class R1 extends A1{constructor(e,t){super(t),this.url=e,Kw(this,t)}toString(){return O1(this._root)}}function Kw(n,e){e.value._routerState=n,e.children.forEach(t=>Kw(n,t))}function O1(n){const e=n.children.length>0?` { ${n.children.map(O1).join(", ")} } `:"";return`${n.value}${e}`}function Yw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Zr(e.params,t.params)||n.params.next(t.params),function PQ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Zr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Qw(n,e){const t=Zr(n.params,e.params)&&function BQ(n,e){return so(n,e)&&n.every((t,r)=>Zr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Qw(n.parent,e.parent))}function Iu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function EX(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Iu(n,r,i);return Iu(n,r)})}(n,e,t);return new Ai(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Iu(n,a)),o}}const r=function CX(n){return new Ja(new Jn(n.url),new Jn(n.params),new Jn(n.queryParams),new Jn(n.fragment),new Jn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Iu(n,s));return new Ai(r,i)}}const Xw="ngNavigationCancelingError";function N1(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=oo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=P1(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function P1(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Xw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function F1(n){return L1(n)&&oo(n.url)}function L1(n){return n&&n[Xw]}class IX{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Su,this.attachRef=null}}let Su=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new IX,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cp=!1;let Zw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=pe(Su),this.location=pe(Yt),this.changeDetector=pe(qa),this.environmentInjector=pe(wi)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,cp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,cp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,cp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new I(4013,cp);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new SX(t,a,i.injector);if(r&&function TX(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=R({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wn]}),n})();class SX{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ja?this.route:e===Su?this.childContexts:this.parent.get(e,t)}}let Jw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_t({type:n,selectors:[["ng-component"]],standalone:!0,features:[Nv],decls:1,vars:0,template:function(t,r){1&t&&Zn(0,"router-outlet")},dependencies:[Zw],encapsulation:2}),n})();function V1(n,e){return n.providers&&!n._injector&&(n._injector=Sf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function tb(n){const e=n.children&&n.children.map(tb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ae&&(t.component=Jw),t}function yr(n){return n.outlet||ae}function B1(n,e){const t=n.filter(r=>yr(r)===e);return t.push(...n.filter(r=>yr(r)!==e)),t}function Tu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class RX{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Yw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Za(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Xt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Za(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Za(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Za(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new mX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new pX(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Yw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Yw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Tu(i.snapshot),l=a?.get(qs)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class U1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class up{constructor(e,t){this.component=e,this.route=t}}function OX(n,e,t){const r=n._root;return Au(r,e?e._root:null,t,[r.value])}function el(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Mq(n){return null!==Th(n)}(n)?e.get(n):n:r}function Au(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Za(e);return n.children.forEach(o=>{(function PX(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function FX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!so(n.url,e.url);case"pathParamsOrQueryParamsChange":return!so(n.url,e.url)||!Zr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qw(n,e)||!Zr(n.queryParams,e.queryParams);default:return!Qw(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new U1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Au(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new up(a.outlet.component,o))}else o&&Mu(e,a,i),i.canActivateChecks.push(new U1(r)),Au(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Xt(s,(o,a)=>Mu(o,t.getContext(a),i)),i}function Mu(n,e,t){const r=Za(n),i=n.value;Xt(r,(s,o)=>{Mu(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new up(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function xu(n){return"function"==typeof n}function nb(n){return n instanceof Qf||"EmptyError"===n?.name}const dp=Symbol("INITIAL_VALUE");function tl(){return Xr(n=>Nw(n.map(e=>e.pipe(er(1),_u(dp)))).pipe(he(e=>{for(const t of e)if(!0!==t){if(t===dp)return dp;if(!1===t||t instanceof io)return t}return!0}),Ln(e=>e!==dp),er(1)))}function $1(n){return function QG(...n){return lM(n)}(Qt(e=>{if(oo(e))throw N1(0,e)}),he(e=>!0===e))}const rb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function j1(n,e,t,r,i){const s=ib(n,e,t);return s.matched?function JX(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(o=>{const a=el(o,n);return ls(function jX(n){return n&&xu(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(tl(),$1()):W(!0)}(r=V1(e,r),e,t).pipe(he(o=>!0===o?s:{...rb})):W(s)}function ib(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...rb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||NQ)(t,n,e);if(!i)return{...rb};const s={};Xt(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function hp(n,e,t,r){if(t.length>0&&function nZ(n,e,t){return t.some(r=>fp(n,e,r)&&yr(r)!==ae)}(n,t,r)){const s=new ge(e,function tZ(n,e,t,r){const i={};i[ae]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&yr(s)!==ae){const o=new ge([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[yr(s)]=o}return i}(n,e,r,new ge(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function rZ(n,e,t){return t.some(r=>fp(n,e,r))}(n,t,r)){const s=new ge(n.segments,function eZ(n,e,t,r,i){const s={};for(const o of r)if(fp(n,t,o)&&!i[yr(o)]){const a=new ge([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[yr(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new ge(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function fp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function H1(n,e,t,r){return!!(yr(n)===r||r!==ae&&fp(e,t,n))&&("**"===n.path||ib(e,n,t).matched)}function z1(n,e,t){return 0===e.length&&!n.children[t]}const pp=!1;class gp{constructor(e){this.segmentGroup=e||null}}class G1{constructor(e){this.urlTree=e}}function ku(n){return mu(new gp(n))}function q1(n){return mu(new G1(n))}class aZ{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=hp(this.urlTree.root,[],[],this.config).segmentGroup,t=new ge(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ae).pipe(he(s=>this.createUrlTree(op(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(as(s=>{if(s instanceof G1)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof gp?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ae).pipe(he(i=>this.createUrlTree(op(i),e.queryParams,e.fragment))).pipe(as(i=>{throw i instanceof gp?this.noMatchError(i):i}))}noMatchError(e){return new I(4002,pp)}createUrlTree(e,t,r){const i=$w(e);return new io(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(he(s=>new ge([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ut(i).pipe(ro(s=>{const o=r.children[s],a=B1(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(he(l=>({segment:l,outlet:s})))}),o1((s,o)=>(s[o.outlet]=o.segment,s),{}),a1())}expandSegment(e,t,r,i,s,o){return ut(r).pipe(ro(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(as(c=>{if(c instanceof gp)return W(null);throw c}))),os(a=>!!a),as((a,l)=>{if(nb(a))return z1(t,i,s)?W(new ge([],{})):ku(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return H1(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):ku(t):ku(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?q1(s):this.lineralizeSegments(r,s).pipe(Ft(o=>{const a=new ge(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=ib(t,i,s);if(!a)return ku(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?q1(d):this.lineralizeSegments(i,d).pipe(Ft(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=V1(r,e),r.loadChildren?(r._loadedRoutes?W({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(he(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ge(i,{})))):W(new ge(i,{}))):j1(t,r,i,e).pipe(Xr(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Ft(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=hp(t,a,l,h),g=new ge(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(he(w=>new ge(a,w)));if(0===h.length&&0===p.length)return W(new ge(a,{}));const _=yr(r)===s;return this.expandSegment(d,g,h,p,_?ae:s,!0).pipe(he(C=>new ge(a.concat(C.segments),C.children)))})):ku(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function ZX(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(o=>{const a=el(o,n);return ls(function VX(n){return n&&xu(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(tl(),$1())}(e,t,r).pipe(Ft(i=>i?this.configLoader.loadChildren(e,t).pipe(Qt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function sZ(n){return mu(P1(pp,3))}())):W({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[ae])return mu(new I(4e3,pp));i=i.children[ae]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new io(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Xt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Xt(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new ge(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new I(4001,pp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class cZ{}class hZ{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=hp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ae).pipe(he(t=>{if(null===t)return null;const r=new lp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ae,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ai(r,t),s=new R1(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=k1(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return ut(Object.keys(r.children)).pipe(ro(i=>{const s=r.children[i],o=B1(t,i);return this.processSegmentGroup(e,o,s,i)}),o1((i,s)=>i&&s?(i.push(...s),i):null),function kQ(n,e=!1){return rt((t,r)=>{let i=0;t.subscribe(Qe(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Jf(null),a1(),he(i=>{if(null===i)return null;const s=K1(i);return function fZ(n){n.sort((e,t)=>e.value.outlet===ae?-1:t.value.outlet===ae?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return ut(t).pipe(ro(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),os(o=>!!o),as(o=>{if(nb(o))return z1(r,i,s)?W([]):W(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!H1(t,r,i,s))return W(null);let o;if("**"===t.path){const a=i.length>0?u1(i).parameters:{},l=Q1(r)+i.length;o=W({snapshot:new lp(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,X1(t),yr(t),t.component??t._loadedComponent??null,t,Y1(r),l,Z1(t)),consumedSegments:[],remainingSegments:[]})}else o=j1(r,t,i,e).pipe(he(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=Q1(r)+l.length;return{snapshot:new lp(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,X1(t),yr(t),t.component??t._loadedComponent??null,t,Y1(r),d,Z1(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(Xr(a=>{if(null===a)return W(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function pZ(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=hp(r,c,u,h.filter(_=>void 0===_.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(he(_=>null===_?null:[new Ai(l,_)]));if(0===h.length&&0===p.length)return W([new Ai(l,[])]);const g=yr(t)===s;return this.processSegment(d,h,f,p,g?ae:s).pipe(he(_=>null===_?null:[new Ai(l,_)]))}))}}function gZ(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function K1(n){const e=[],t=new Set;for(const r of n){if(!gZ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=K1(r.children);e.push(new Ai(r.value,i))}return e.filter(r=>!t.has(r))}function Y1(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Q1(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function X1(n){return n.data||{}}function Z1(n){return n.resolve||{}}function J1(n){return"string"==typeof n.title||null===n.title}function sb(n){return Xr(e=>{const t=n(e);return t?ut(t).pipe(he(()=>e)):W(e)})}const nl=new k("ROUTES");let ob=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ls(t.loadComponent()).pipe(he(tF),Qt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Vw(()=>{this.componentLoaders.delete(t)})),i=new Fw(r,()=>new Ae).pipe(Pw());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(he(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=c1(l.get(nl,[],X.Self|X.Optional)));return{routes:c.map(tb),injector:l}}),Vw(()=>{this.childrenLoaders.delete(r)})),o=new Fw(s,()=>new Ae).pipe(Pw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return ls(t()).pipe(he(tF),Ft(i=>i instanceof WO||Array.isArray(i)?W(i):ut(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(E(vt),E(PN))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tF(n){return function CZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let _p=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ae,this.configLoader=pe(ob),this.environmentInjector=pe(wi),this.urlSerializer=pe(wu),this.rootContexts=pe(Su),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new hX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new dX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Jn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Cu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ln(r=>0!==r.id),he(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Xr(r=>{let i=!1,s=!1;return W(r).pipe(Qt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Xr(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new I1(o.id,t.serializeUrl(r.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Vr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return nF(o.source)&&(t.browserUrlTree=o.extractedUrl),W(o).pipe(Xr(u=>{const d=this.transitions?.getValue();return this.events.next(new Gw(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?Vr:Promise.resolve(u)}),function lZ(n,e,t,r){return Xr(i=>function oZ(n,e,t,r,i){return new aZ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(he(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Qt(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function _Z(n,e,t,r,i){return Ft(s=>function dZ(n,e,t,r,i,s,o="emptyOnly"){return new hZ(n,e,t,r,i,o,s).recognize().pipe(Xr(a=>null===a?function uZ(n){return new xe(e=>e.error(n))}(new cZ):W(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(he(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Qt(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new oX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new Gw(u,this.urlSerializer.serialize(d),h,f);this.events.next(g);const _=x1(d,this.rootComponentType).snapshot;return W(r={...o,targetSnapshot:_,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new I1(o.id,t.serializeUrl(r.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Vr}}),Qt(o=>{const a=new aX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),he(o=>r={...o,guards:OX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function zX(n,e){return Ft(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?W({...t,guardsResult:!0}):function GX(n,e,t,r){return ut(n).pipe(Ft(i=>function XX(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const l=Tu(e)??i,c=el(a,l);return ls(function $X(n){return n&&xu(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(os())})).pipe(tl()):W(!0)}(i.component,i.route,t,e,r)),os(i=>!0!==i,!0))}(o,r,i,n).pipe(Ft(a=>a&&function LX(n){return"boolean"==typeof n}(a)?function qX(n,e,t,r){return ut(e).pipe(ro(i=>Xf(function KX(n,e){return null!==n&&e&&e(new fX(n)),W(!0)}(i.route.parent,r),function WX(n,e){return null!==n&&e&&e(new gX(n)),W(!0)}(i.route,r),function QX(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function NX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Zf(()=>W(o.guards.map(l=>{const c=Tu(o.node)??t,u=el(l,c);return ls(function UX(n){return n&&xu(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(os())})).pipe(tl())));return W(s).pipe(tl())}(n,i.path,t),function YX(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(s=>Zf(()=>{const o=Tu(e)??t,a=el(s,o);return ls(function BX(n){return n&&xu(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(os())}));return W(i).pipe(tl())}(n,i.route,t))),os(i=>!0!==i,!0))}(r,s,n,e):W(a)),he(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Qt(o=>{if(r.guardsResult=o.guardsResult,oo(o.guardsResult))throw N1(0,o.guardsResult);const a=new lX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Ln(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),sb(o=>{if(o.guards.canActivateChecks.length)return W(o).pipe(Qt(a=>{const l=new cX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Xr(a=>{let l=!1;return W(a).pipe(function yZ(n,e){return Ft(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let s=0;return ut(i).pipe(ro(o=>function vZ(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!J1(i)&&(s[yu]=i.title),function wZ(n,e,t,r){const i=function bZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return W({});const s={};return ut(i).pipe(Ft(o=>function DZ(n,e,t,r){const i=Tu(e)??r,s=el(n,i);return ls(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(os(),Qt(a=>{s[o]=a}))),Lw(1),function RQ(n){return he(()=>n)}(s),as(o=>nb(o)?Vr:mu(o)))}(s,n,e,r).pipe(he(o=>(n._resolvedData=o,n.data=k1(n,t).resolve,i&&J1(i)&&(n.data[yu]=i.title),null)))}(o.route,r,n,e)),Qt(()=>s++),Lw(1),Ft(o=>s===i.length?W(t):Vr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Qt({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Qt(a=>{const l=new uX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),sb(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Qt(u=>{l.component=u}),he(()=>{})));for(const u of l.children)c.push(...a(u));return c};return Nw(a(o.targetSnapshot.root)).pipe(Jf(),er(1))}),sb(()=>this.afterPreactivation()),he(o=>{const a=function DX(n,e,t){const r=Iu(n,e._root,t?t._root:void 0);return new M1(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Qt(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>he(r=>(new RX(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Qt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ao(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Vw(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),as(o=>{if(s=!0,L1(o)){F1(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new ap(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),F1(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||nF(r.source)};t.scheduleNavigation(l,Cu,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new S1(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(l){r.reject(l)}}return Vr}))}))}cancelNavigationTransition(t,r,i){const s=new ap(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nF(n){return n!==Cu}let rF=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ae);return r}getResolvedTitleForRoute(t){return t.data[yu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return pe(IZ)},providedIn:"root"}),n})(),IZ=(()=>{class n extends rF{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(E(ZP))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return pe(AZ)},providedIn:"root"}),n})();class TZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let AZ=(()=>{class n extends TZ{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Se(n)))(r||n)}}(),n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yp=new k("",{providedIn:"root",factory:()=>({})});let xZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return pe(kZ)},providedIn:"root"}),n})(),kZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RZ(n){throw n}function OZ(n,e,t){return e.parse("/")}const NZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=pe(i7),this.isNgZoneEnabled=!1,this.options=pe(yp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||RZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||OZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=pe(xZ),this.routeReuseStrategy=pe(SZ),this.urlCreationStrategy=pe(vX),this.titleStrategy=pe(rF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=c1(pe(nl,{optional:!0})??[]),this.navigationTransitions=pe(_p),this.urlSerializer=pe(wu),this.location=pe(uu),this.isNgZoneEnabled=pe(te)instanceof te&&te.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new io,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=x1(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Cu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(tb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=oo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Cu,null,r)}navigate(t,r={skipLocationChange:!1}){return function FZ(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new I(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...NZ}:!1===r?{...PZ}:r,oo(t))return h1(this.currentUrlTree,t,i);const s=this.parseUrl(t);return h1(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h}),u="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sF{}let BZ=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ln(t=>t instanceof ao),ro(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Sf(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ut(i).pipe(sa())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):W(null);const s=i.pipe(Ft(o=>null===o?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?ut([s,this.loader.loadComponent(r)]).pipe(sa()):s})}}return n.\u0275fac=function(t){return new(t||n)(E(tr),E(PN),E(wi),E(sF),E(ob))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lb=new k("");let oF=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Gw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ao&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof T1&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new T1(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){nv()},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function lo(n,e){return{\u0275kind:n,\u0275providers:e}}function lF(){const n=pe(vt);return e=>{const t=n.get(Ga);if(e!==t.components[0])return;const r=n.get(tr),i=n.get(cF);1===n.get(ub)&&r.initialNavigation(),n.get(uF,null,X.Optional)?.setUpPreloading(),n.get(lb,null,X.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const cF=new k("",{factory:()=>new Ae}),ub=new k("",{providedIn:"root",factory:()=>1});const uF=new k("");function zZ(n){return lo(0,[{provide:uF,useExisting:BZ},{provide:sF,useExisting:n}])}const dF=new k("ROUTER_FORROOT_GUARD"),GZ=[uu,{provide:wu,useClass:Bw},tr,Su,{provide:Ja,useFactory:function aF(n){return n.routerState.root},deps:[tr]},ob,[]];function qZ(){return new jN("Router",tr)}let hF=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[GZ,[],{provide:nl,multi:!0,useValue:t},{provide:dF,useFactory:QZ,deps:[[tr,new Kt,new Oc]]},{provide:yp,useValue:r||{}},r?.useHash?{provide:no,useClass:G7}:{provide:no,useClass:dP},{provide:lb,useFactory:()=>{const n=pe(fY),e=pe(te),t=pe(yp),r=pe(_p),i=pe(wu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new oF(i,r,n,e,t)}},r?.preloadingStrategy?zZ(r.preloadingStrategy).\u0275providers:[],{provide:jN,multi:!0,useFactory:qZ},r?.initialNavigation?XZ(r):[],[{provide:fF,useFactory:lF},{provide:NN,multi:!0,useExisting:fF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:nl,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(E(dF,8))},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({imports:[Jw]}),n})();function QZ(n){return"guarded"}function XZ(n){return["disabled"===n.initialNavigation?lo(3,[{provide:xf,multi:!0,useFactory:()=>{const e=pe(tr);return()=>{e.setUpLocationChangeListener()}}},{provide:ub,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?lo(2,[{provide:ub,useValue:0},{provide:xf,multi:!0,deps:[vt],useFactory:e=>{const t=e.get(H7,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const s=e.get(tr),o=e.get(cF);(function r(i){e.get(tr).events.pipe(Ln(o=>o instanceof ao||o instanceof ap||o instanceof S1),he(o=>o instanceof ao||o instanceof ap&&(0===o.code||1===o.code)&&null),Ln(o=>null!==o),er(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(_p).afterPreactivation=()=>(i(!0),o.closed?W(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const fF=new k("");let pF=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(y(bi),y(Ne))},n.\u0275dir=R({type:n}),n})(),co=(()=>{class n extends pF{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Se(n)))(r||n)}}(),n.\u0275dir=R({type:n,features:[G]}),n})();const ei=new k("NgValueAccessor"),tJ={provide:ei,useExisting:$e(()=>vp),multi:!0},rJ=new k("CompositionEventMode");let vp=(()=>{class n extends pF{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nJ(){const n=Qr()?Qr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(y(bi),y(Ne),y(rJ,8))},n.\u0275dir=R({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Pn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ue([tJ]),G]}),n})();const fn=new k("NgValidators"),us=new k("NgAsyncValidators");function IF(n){return null!=n}function SF(n){return Yc(n)?ut(n):n}function TF(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function AF(n,e){return e.map(t=>t(n))}function MF(n){return n.map(e=>function oJ(n){return!n.validate}(e)?e:t=>e.validate(t))}function db(n){return null!=n?function xF(n){if(!n)return null;const e=n.filter(IF);return 0==e.length?null:function(t){return TF(AF(t,e))}}(MF(n)):null}function hb(n){return null!=n?function kF(n){if(!n)return null;const e=n.filter(IF);return 0==e.length?null:function(t){return function JZ(...n){const e=SM(n),{args:t,keys:r}=t1(n),i=new xe(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;kn(t[u]).subscribe(Qe(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?n1(r,a):a),s.complete())}))}});return e?i.pipe(Ow(e)):i}(AF(t,e).map(SF)).pipe(he(TF))}}(MF(n)):null}function RF(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function OF(n){return n._rawValidators}function NF(n){return n._rawAsyncValidators}function fb(n){return n?Array.isArray(n)?n:[n]:[]}function bp(n,e){return Array.isArray(n)?n.includes(e):n===e}function PF(n,e){const t=fb(e);return fb(n).forEach(i=>{bp(t,i)||t.push(i)}),t}function FF(n,e){return fb(e).filter(t=>!bp(n,t))}class LF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=db(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class In extends LF{get formDirective(){return null}get path(){return null}}class ds extends LF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VF{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let BF=(()=>{class n extends VF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(y(ds,2))},n.\u0275dir=R({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&rs("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[G]}),n})(),UF=(()=>{class n extends VF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(y(In,10))},n.\u0275dir=R({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&rs("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[G]}),n})();const Ou="VALID",Ep="INVALID",il="PENDING",Nu="DISABLED";function _b(n){return(Cp(n)?n.validators:n)||null}function yb(n,e){return(Cp(e)?e.asyncValidators:n)||null}function Cp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class zF{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ou}get invalid(){return this.status===Ep}get pending(){return this.status==il}get disabled(){return this.status===Nu}get enabled(){return this.status!==Nu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(PF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(PF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FF(e,this._rawAsyncValidators))}hasValidator(e){return bp(this._rawValidators,e)}hasAsyncValidator(e){return bp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=il,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ou,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ou||this.status===il)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nu:Ou}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=il,this._hasOwnPendingAsyncValidator=!0;const t=SF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?Nu:this.errors?Ep:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(il)?il:this._anyControlsHaveStatus(Ep)?Ep:Ou}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Cp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function fJ(n){return Array.isArray(n)?db(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function pJ(n){return Array.isArray(n)?hb(n):n||null}(this._rawAsyncValidators)}}class Ip extends zF{constructor(e,t,r){super(_b(t),yb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function HF(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new I(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function jF(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[t])throw new I(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const sl=new k("CallSetDisabledState",{providedIn:"root",factory:()=>Sp}),Sp="always";function Pu(n,e,t=Sp){vb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function _J(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&GF(n,e)})}(n,e),function vJ(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function yJ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&GF(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function mJ(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ap(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),xp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Mp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vb(n,e){const t=OF(n);null!==e.validator?n.setValidators(RF(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=NF(n);null!==e.asyncValidator?n.setAsyncValidators(RF(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Mp(e._rawValidators,i),Mp(e._rawAsyncValidators,i)}function xp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=OF(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=NF(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Mp(e._rawValidators,r),Mp(e._rawAsyncValidators,r),t}function GF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function KF(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function YF(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Lu=class extends zF{constructor(e=null,t,r){super(_b(t),yb(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=YF(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){YF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let eL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=R({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const AJ={provide:ei,useExisting:$e(()=>Cb),multi:!0};let Cb=(()=>{class n extends co{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Se(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&Pn("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[ue([AJ]),G]}),n})(),tL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({}),n})();const Ib=new k("NgModelWithFormControlWarning"),OJ={provide:In,useExisting:$e(()=>kp)};let kp=(()=>{class n extends In{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ge,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Pu(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ap(t.control||null,t,!1),function EJ(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function WF(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Ap(r||null,t),(n=>n instanceof Lu)(i)&&(Pu(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function qF(n,e){vb(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function wJ(n,e){return xp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vb(this.form,this),this._oldForm&&xp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(y(fn,10),y(us,10),y(sl,8))},n.\u0275dir=R({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Pn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ue([OJ]),G,wn]}),n})();const FJ={provide:ds,useExisting:$e(()=>Ab)};let Ab=(()=>{class n extends ds{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ge,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Db(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===vp?t=s:function DJ(n){return Object.getPrototypeOf(n.constructor)===co}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function bb(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Tp(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(y(In,13),y(fn,10),y(us,10),y(ei,10),y(Ib,8))},n.\u0275dir=R({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ue([FJ]),G,wn]}),n})(),_L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({imports:[tL]}),n})(),ZJ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sl,useValue:t.callSetDisabledState??Sp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({imports:[_L]}),n})(),JJ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ib,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:sl,useValue:t.callSetDisabledState??Sp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({imports:[_L]}),n})();function yL(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){yL(s,r,i,o,a,"next",l)}function a(l){yL(s,r,i,o,a,"throw",l)}o(void 0)})}}const vL=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vL(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Rp=function(n){return function(n){const e=vL(n);return Ob.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Op=function(n){try{return Ob.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Np=()=>{try{return function see(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Op(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},bL=n=>{var e,t;return null===(t=null===(e=Np())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},DL=n=>{var e;return null===(e=Np())||void 0===e?void 0:e[`_${n}`]};class Pp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Nb(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function ho(){try{return"object"==typeof indexedDB}catch{return!1}}function Vu(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function Pb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class vr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ti.prototype.create)}}class ti{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function _ee(n,e){return n.replace(yee,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new vr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const yee=/\{\$([^}]+)}/g;function Lp(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(CL(s)&&CL(o)){if(!Lp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function CL(n){return null!==n&&"object"==typeof n}function Vp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class bee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Dee(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Fb),void 0===i.error&&(i.error=Fb),void 0===i.complete&&(i.complete=Fb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fb(){}function Vb(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Vn(n){return n&&n._delegate?n._delegate:n}class pn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fo="[DEFAULT]";class Aee{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Pp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function xee(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===fo?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class kee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Aee(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Bb=[];var Ee=(()=>{return(n=Ee||(Ee={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Ee;var n})();const IL={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Ree=Ee.INFO,Oee={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},Nee=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Oee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class ol{constructor(e){this.name=e,this._logLevel=Ree,this._logHandler=Nee,this._userLogHandler=null,Bb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?IL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}let SL,TL;const AL=new WeakMap,Ub=new WeakMap,ML=new WeakMap,$b=new WeakMap,jb=new WeakMap;let Hb={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Ub.get(n);if("objectStoreNames"===e)return n.objectStoreNames||ML.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function jee(n){return"function"==typeof n?function $ee(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Lee(){return TL||(TL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(zb(this),e),Mi(AL.get(this))}:function(...e){return Mi(n.apply(zb(this),e))}:function(e,...t){const r=n.call(zb(this),e,...t);return ML.set(r,e.sort?e.sort():[e]),Mi(r)}}(n):(n instanceof IDBTransaction&&function Bee(n){if(Ub.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Ub.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Fee(){return SL||(SL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Hb):n)}function Mi(n){if(n instanceof IDBRequest)return function Vee(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Mi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&AL.set(t,n)}).catch(()=>{}),jb.set(e,n),e}(n);if($b.has(n))return $b.get(n);const e=jee(n);return e!==n&&($b.set(n,e),jb.set(e,n)),e}const zb=n=>jb.get(n);function Bp(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Mi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Mi(o.result),l.oldVersion,l.newVersion,Mi(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Gb(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Mi(t).then(()=>{})}const Hee=["get","getKey","getAll","getAllKeys","count"],zee=["put","add","delete","clear"],qb=new Map;function xL(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(qb.get(e))return qb.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=zee.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Hee.includes(t))return;const s=function(){var o=m(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return qb.set(e,s),s}!function Uee(n){Hb=n(Hb)}(n=>({...n,get:(e,t,r)=>xL(e,t)||n.get(e,t,r),has:(e,t)=>!!xL(e,t)||n.has(e,t)}));class Gee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function qee(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Wb="@firebase/app",po=new ol("@firebase/app"),Up="[DEFAULT]",yte={[Wb]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},go=new Map,$p=new Map;function vte(n,e){try{n.container.addComponent(e)}catch(t){po.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Sn(n){const e=n.name;if($p.has(e))return po.debug(`There were multiple attempts to register component ${e}.`),!1;$p.set(e,n);for(const t of go.values())vte(t,n);return!0}function al(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const xi=new ti("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bte{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}const ll="9.16.0";function RL(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Up,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw xi.create("bad-app-name",{appName:String(i)});if(t||(t=(()=>{var n;return null===(n=Np())||void 0===n?void 0:n.config})()),!t)throw xi.create("no-options");const s=go.get(i);if(s){if(Lp(t,s.options)&&Lp(r,s.config))return s;throw xi.create("duplicate-app",{appName:i})}const o=new kee(i);for(const l of $p.values())o.addComponent(l);const a=new bte(t,r,o);return go.set(i,a),a}function Kb(n=Up){const e=go.get(n);if(!e&&n===Up)return RL();if(!e)throw xi.create("no-app",{appName:n});return e}function OL(){return Array.from(go.values())}function ot(n,e,t){var r;let i=null!==(r=yte[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void po.warn(a.join(" "))}Sn(new pn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Bu="firebase-heartbeat-store";let Qb=null;function NL(){return Qb||(Qb=Bp("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Bu)}}).catch(n=>{throw xi.create("idb-open",{originalErrorMessage:n.message})})),Qb}function Xb(){return(Xb=m(function*(n){try{return(yield NL()).transaction(Bu).objectStore(Bu).get(FL(n))}catch(e){if(e instanceof vr)po.warn(e.message);else{const t=xi.create("idb-get",{originalErrorMessage:e?.message});po.warn(t.message)}}})).apply(this,arguments)}function PL(n,e){return Zb.apply(this,arguments)}function Zb(){return(Zb=m(function*(n,e){try{const r=(yield NL()).transaction(Bu,"readwrite");return yield r.objectStore(Bu).put(e,FL(n)),r.done}catch(t){if(t instanceof vr)po.warn(t.message);else{const r=xi.create("idb-set",{originalErrorMessage:t?.message});po.warn(r.message)}}})).apply(this,arguments)}function FL(n){return`${n.name}!${n.options.appId}`}class Tte{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Mte(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=LL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=LL(),{heartbeatsToSend:r,unsentEntries:i}=function Ate(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),VL(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),VL(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Rp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function LL(){return(new Date).toISOString().substring(0,10)}class Mte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!ho()&&Vu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Cte(n){return Xb.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return PL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return PL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function VL(n){return Rp(JSON.stringify({version:2,heartbeats:n})).length}!function xte(n){Sn(new pn("platform-logger",e=>new Gee(e),"PRIVATE")),Sn(new pn("heartbeat",e=>new Tte(e),"PRIVATE")),ot(Wb,"0.9.1",n),ot(Wb,"0.9.1","esm2017"),ot("fire-js","")}(""),ot("firebase","9.16.0","app");const BL="@firebase/installations",Jb="0.6.1",$L=`w:${Jb}`,jL="FIS_v2",ki=new ti("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function HL(n){return n instanceof vr&&n.code.includes("request-failed")}function eD({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function zL(n){return{token:n.token,requestStatus:2,expiresIn:Vte(n.expiresIn),creationTime:Date.now()}}function tD(n,e){return nD.apply(this,arguments)}function nD(){return(nD=m(function*(n,e){const r=(yield e.json()).error;return ki.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function GL({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function qL(n,{refreshToken:e}){const t=GL(n);return t.append("Authorization",function Bte(n){return`${jL} ${n}`}(e)),t}function rD(n){return iD.apply(this,arguments)}function iD(){return(iD=m(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Vte(n){return Number(n.replace("s","000"))}function Ute(n,e){return sD.apply(this,arguments)}function sD(){return(sD=m(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=eD(n),i=GL(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:jL,appId:n.appId,sdkVersion:$L})},l=yield rD(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:zL(c.authToken)}}throw yield tD("Create Installation",l)})).apply(this,arguments)}function WL(n){return new Promise(e=>{setTimeout(e,n)})}const jte=/^[cdef][\w-]{21}$/;function Hte(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function zte(n){return function $te(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return jte.test(t)?t:""}catch{return""}}function cl(n){return`${n.appName}!${n.appId}`}const ul=new Map;function KL(n,e){const t=cl(n);YL(t,e),function Wte(n,e){const t=function QL(){return!mo&&"BroadcastChannel"in self&&(mo=new BroadcastChannel("[Firebase] FID Change"),mo.onmessage=n=>{YL(n.data.key,n.data.fid)}),mo}();t&&t.postMessage({key:n,fid:e}),function XL(){0===ul.size&&mo&&(mo.close(),mo=null)}()}(t,e)}function YL(n,e){const t=ul.get(n);if(t)for(const r of t)r(e)}let mo=null;const _o="firebase-installations-store";let aD=null;function lD(){return aD||(aD=Bp("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(_o)}})),aD}function jp(n,e){return cD.apply(this,arguments)}function cD(){return(cD=m(function*(n,e){const t=cl(n),i=(yield lD()).transaction(_o,"readwrite"),s=i.objectStore(_o),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&KL(n,e.fid),e})).apply(this,arguments)}function uD(n){return dD.apply(this,arguments)}function dD(){return(dD=m(function*(n){const e=cl(n),r=(yield lD()).transaction(_o,"readwrite");yield r.objectStore(_o).delete(e),yield r.done})).apply(this,arguments)}function Uu(n,e){return hD.apply(this,arguments)}function hD(){return(hD=m(function*(n,e){const t=cl(n),i=(yield lD()).transaction(_o,"readwrite"),s=i.objectStore(_o),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&KL(n,a.fid),a})).apply(this,arguments)}function fD(n){return pD.apply(this,arguments)}function pD(){return(pD=m(function*(n){let e;const t=yield Uu(n.appConfig,r=>{const i=Qte(r),s=Xte(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function Qte(n){return JL(n||{fid:Hte(),registrationStatus:0})}function Xte(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ki.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Zte(n,e){return gD.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Jte(n)}:{installationEntry:e}}function gD(){return(gD=m(function*(n,e){try{const t=yield Ute(n,e);return jp(n.appConfig,t)}catch(t){throw HL(t)&&409===t.customData.serverCode?yield uD(n.appConfig):yield jp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function Jte(n){return mD.apply(this,arguments)}function mD(){return(mD=m(function*(n){let e=yield ZL(n.appConfig);for(;1===e.registrationStatus;)yield WL(100),e=yield ZL(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield fD(n);return r||t}return e})).apply(this,arguments)}function ZL(n){return Uu(n,e=>{if(!e)throw ki.create("installation-not-found");return JL(e)})}function JL(n){return function ene(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function tne(n,e){return _D.apply(this,arguments)}function _D(){return(_D=m(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=nne(n,t),i=qL(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:$L,appId:n.appId}})},l=yield rD(()=>fetch(r,a));if(l.ok)return zL(yield l.json());throw yield tD("Generate Auth Token",l)})).apply(this,arguments)}function nne(n,{fid:e}){return`${eD(n)}/${e}/authTokens:generate`}function yD(n){return vD.apply(this,arguments)}function vD(){return(vD=m(function*(n,e=!1){let t;const r=yield Uu(n.appConfig,s=>{if(!tV(s))throw ki.create("not-registered");const o=s.authToken;if(!e&&sne(o))return s;if(1===o.requestStatus)return t=rne(n,e),s;{if(!navigator.onLine)throw ki.create("app-offline");const a=ane(s);return t=ine(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function rne(n,e){return wD.apply(this,arguments)}function wD(){return(wD=m(function*(n,e){let t=yield eV(n.appConfig);for(;1===t.authToken.requestStatus;)yield WL(100),t=yield eV(n.appConfig);const r=t.authToken;return 0===r.requestStatus?yD(n,e):r})).apply(this,arguments)}function eV(n){return Uu(n,e=>{if(!tV(e))throw ki.create("not-registered");return function lne(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ine(n,e){return bD.apply(this,arguments)}function bD(){return(bD=m(function*(n,e){try{const t=yield tne(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield jp(n.appConfig,r),t}catch(t){if(!HL(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield jp(n.appConfig,r)}else yield uD(n.appConfig);throw t}})).apply(this,arguments)}function tV(n){return void 0!==n&&2===n.registrationStatus}function sne(n){return 2===n.requestStatus&&!function one(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function ane(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function DD(){return(DD=m(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield fD(e);return r?r.catch(console.error):yD(e).catch(console.error),t.fid})).apply(this,arguments)}function ED(){return(ED=m(function*(n,e=!1){const t=n;return yield dne(t),(yield yD(t,e)).token})).apply(this,arguments)}function dne(n){return CD.apply(this,arguments)}function CD(){return(CD=m(function*(n){const{registrationPromise:e}=yield fD(n);e&&(yield e)})).apply(this,arguments)}function TD(n){return ki.create("missing-app-config-values",{valueName:n})}const nV="installations",mne=n=>{const e=n.getProvider("app").getImmediate(),t=function pne(n){if(!n||!n.options)throw TD("App Configuration");if(!n.name)throw TD("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw TD(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:al(e,"heartbeat"),_delete:()=>Promise.resolve()}},_ne=n=>{const t=al(n.getProvider("app").getImmediate(),nV).getImmediate();return{getId:()=>function cne(n){return DD.apply(this,arguments)}(t),getToken:i=>function une(n){return ED.apply(this,arguments)}(t,i)}};(function yne(){Sn(new pn(nV,mne,"PUBLIC")),Sn(new pn("installations-internal",_ne,"PRIVATE"))})(),ot(BL,Jb),ot(BL,Jb,"esm2017");const AD="@firebase/remote-config",Bn=new ti("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Mne{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function xne(n=navigator){return n.languages&&n.languages[0]||n.language}class kne{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:xne()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((v,C)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",C(w)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(v){let C="fetch-client-network";throw"AbortError"===v?.name&&(C="fetch-timeout"),Bn.create(C,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let v;try{v=yield h.json()}catch(C){throw Bn.create("fetch-client-parse",{originalErrorMessage:C?.message})}g=v.entries,_=v.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw Bn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class Nne{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return m(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return m(function*(){yield function Rne(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function One(n){if(!(n instanceof vr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Vb(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Lne{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zp(n,e){const t=n.target.error||void 0;return Bn.create(e,{originalErrorMessage:t&&t?.message})}const yo="app_namespace_store";class $ne{constructor(e,t,r,i=function Une(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(zp(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(yo,{keyPath:"compositeKey"})}}catch(t){e(Bn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([yo],"readonly").objectStore(yo),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(zp(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){s(Bn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([yo],"readwrite").objectStore(yo),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{o(zp(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Bn.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([yo],"readwrite").objectStore(yo),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(zp(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Bn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class jne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function zne(){return OD.apply(this,arguments)}function OD(){return(OD=m(function*(){if(!ho())return!1;try{return yield Vu()}catch{return!1}})).apply(this,arguments)}!function Hne(){Sn(new pn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Bn.create("registration-window");if(!ho())throw Bn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Bn.create("registration-project-id");if(!o)throw Bn.create("registration-api-key");if(!a)throw Bn.create("registration-app-id");const l=new $ne(a,r.name,t=t||"firebase"),c=new jne(l),u=new ol(AD);u.logLevel=Ee.ERROR;const d=new kne(i,ll,t,s,o,a),h=new Nne(d,l),f=new Mne(h,l,c,u),p=new Lne(r,f,c,l,u);return function Sne(n){const e=Vn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ot(AD,"0.4.1"),ot(AD,"0.4.1","esm2017")}();const Gne="/firebase-messaging-sw.js",qne="/firebase-cloud-messaging-push-scope",oV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",aV="google.c.a.c_id",Kne="google.c.a.c_l",Yne="google.c.a.ts",Qne="google.c.a.e";var dl=(()=>{return(n=dl||(dl={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",dl;var n})();function Ri(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xne(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const ND="fcm_token_details_db",lV="fcm_token_object_Store";function Jne(n){return PD.apply(this,arguments)}function PD(){return PD=m(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(ND))return null;let e=null;return(yield Bp(ND,5,{upgrade:(r=m(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(lV))return;const c=a.objectStore(lV),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ri(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ri(d.auth),p256dh:Ri(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ri(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ri(d.auth),p256dh:Ri(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ri(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield Gb(ND),yield Gb("fcm_vapid_details_db"),yield Gb("undefined"),ere(e)?e:null;var r}),PD.apply(this,arguments)}function ere(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const vo="firebase-messaging-store";let FD=null;function LD(){return FD||(FD=Bp("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(vo)}})),FD}function cV(n){return VD.apply(this,arguments)}function VD(){return(VD=m(function*(n){const e=jD(n),r=yield(yield LD()).transaction(vo).objectStore(vo).get(e);if(r)return r;{const i=yield Jne(n.appConfig.senderId);if(i)return yield BD(n,i),i}})).apply(this,arguments)}function BD(n,e){return UD.apply(this,arguments)}function UD(){return(UD=m(function*(n,e){const t=jD(n),i=(yield LD()).transaction(vo,"readwrite");return yield i.objectStore(vo).put(e,t),yield i.done,e})).apply(this,arguments)}function rre(n){return $D.apply(this,arguments)}function $D(){return($D=m(function*(n){const e=jD(n),r=(yield LD()).transaction(vo,"readwrite");yield r.objectStore(vo).delete(e),yield r.done})).apply(this,arguments)}function jD({appConfig:n}){return n.appId}const Zt=new ti("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sre(n,e){return HD.apply(this,arguments)}function HD(){return(HD=m(function*(n,e){const t=yield WD(n),r=dV(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(qD(n.appConfig),i)).json()}catch(o){throw Zt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Zt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Zt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function ore(n,e){return zD.apply(this,arguments)}function zD(){return(zD=m(function*(n,e){const t=yield WD(n),r=dV(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${qD(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw Zt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Zt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Zt.create("token-update-no-token");return s.token})).apply(this,arguments)}function uV(n,e){return GD.apply(this,arguments)}function GD(){return(GD=m(function*(n,e){const r={method:"DELETE",headers:yield WD(n)};try{const s=yield(yield fetch(`${qD(n.appConfig)}/${e}`,r)).json();if(s.error)throw Zt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Zt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function qD({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function WD(n){return KD.apply(this,arguments)}function KD(){return(KD=m(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function dV({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==oV&&(i.web.applicationPubKey=r),i}function lre(n){return YD.apply(this,arguments)}function YD(){return(YD=m(function*(n){const e=yield ure(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ri(e.getKey("auth")),p256dh:Ri(e.getKey("p256dh"))},r=yield cV(n.firebaseDependencies);if(r){if(dre(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?cre(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield uV(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return fV(n.firebaseDependencies,t)}return fV(n.firebaseDependencies,t)})).apply(this,arguments)}function hV(n){return QD.apply(this,arguments)}function QD(){return(QD=m(function*(n){const e=yield cV(n.firebaseDependencies);e&&(yield uV(n.firebaseDependencies,e.token),yield rre(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function cre(n,e){return XD.apply(this,arguments)}function XD(){return(XD=m(function*(n,e){try{const t=yield ore(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield BD(n.firebaseDependencies,r),t}catch(t){throw yield hV(n),t}})).apply(this,arguments)}function fV(n,e){return ZD.apply(this,arguments)}function ZD(){return(ZD=m(function*(n,e){const r={token:yield sre(n,e),createTime:Date.now(),subscriptionOptions:e};return yield BD(n,r),r.token})).apply(this,arguments)}function ure(n,e){return JD.apply(this,arguments)}function JD(){return(JD=m(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xne(e)})})).apply(this,arguments)}function dre(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function pV(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function hre(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function fre(n,e){e.data&&(n.data=e.data)}(e,n),function pre(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function gre(n){return"object"==typeof n&&!!n&&aV in n}function gV(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function eE(n){return Zt.create("missing-app-config-values",{valueName:n})}gV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _re{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function mre(n){if(!n||!n.options)throw eE("App Configuration Object");if(!n.name)throw eE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw eE(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function mV(n){return tE.apply(this,arguments)}function tE(){return(tE=m(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Gne,{scope:qne}),n.swRegistration.update().catch(()=>{})}catch(e){throw Zt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function yre(n,e){return nE.apply(this,arguments)}function nE(){return(nE=m(function*(n,e){if(!e&&!n.swRegistration&&(yield mV(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Zt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function vre(n,e){return rE.apply(this,arguments)}function rE(){return(rE=m(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=oV)})).apply(this,arguments)}function iE(){return(iE=m(function*(n,e){if(!navigator)throw Zt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zt.create("permission-blocked");return yield vre(n,e?.vapidKey),yield yre(n,e?.serviceWorkerRegistration),lre(n)})).apply(this,arguments)}function wre(n,e,t){return sE.apply(this,arguments)}function sE(){return(sE=m(function*(n,e,t){const r=bre(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[aV],message_name:t[Kne],message_time:t[Yne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bre(n){switch(n){case dl.NOTIFICATION_CLICKED:return"notification_open";case dl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function oE(){return(oE=m(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===dl.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(pV(t)):n.onMessageHandler.next(pV(t)));const r=t.data;gre(r)&&"1"===r[Qne]&&(yield wre(n,t.messageType,r))})).apply(this,arguments)}const yV="@firebase/messaging",Ere=n=>{const e=new _re(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Dre(n,e){return oE.apply(this,arguments)}(e,t)),e},Cre=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function _V(n,e){return iE.apply(this,arguments)}(e,r)}};function wV(){return aE.apply(this,arguments)}function aE(){return(aE=m(function*(){try{yield Vu()}catch{return!1}return typeof window<"u"&&ho()&&Pb()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ire(){Sn(new pn("messaging",Ere,"PUBLIC")),Sn(new pn("messaging-internal",Cre,"PRIVATE")),ot(yV,"0.12.1"),ot(yV,"0.12.1","esm2017")}();const Gp="analytics",Are="firebase_id",kre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bV="https://www.googletagmanager.com/gtag/js",Jt=new ol("@firebase/analytics");function DV(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Rre(n,e){const t=document.createElement("script");t.src=`${bV}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Nre(n,e,t,r,i,s){return uE.apply(this,arguments)}function uE(){return(uE=m(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield DV(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){Jt.error(a)}n("config",i,s)})).apply(this,arguments)}function Pre(n,e,t,r,i){return dE.apply(this,arguments)}function dE(){return(dE=m(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield DV(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Jt.error(s)}})).apply(this,arguments)}function Vre(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(bV)&&t.src.includes(n))return t;return null}const nr=new ti("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),EV=new class jre{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Hre(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function zre(n){return hE.apply(this,arguments)}function hE(){return(hE=m(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Hre(r)},s=kre.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw nr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Gre(n){return fE.apply(this,arguments)}function fE(){return(fE=m(function*(n,e=EV,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw nr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw nr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Kre;return setTimeout(m(function*(){a.abort()}),void 0!==t?t:6e4),CV({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function CV(n,e,t){return pE.apply(this,arguments)}function pE(){return(pE=m(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=EV){var s;const{appId:o,measurementId:a}=n;try{yield qre(r,e)}catch(l){if(a)return Jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield zre(n);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!Wre(c)){if(i.deleteThrottleMetadata(o),a)return Jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw l}const u=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Vb(t,i.intervalMillis,30):Vb(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,d),Jt.debug(`Calling attemptFetch again in ${u} millis`),CV(n,d,r,i)}})).apply(this,arguments)}function qre(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Wre(n){if(!(n instanceof vr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Kre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let gE,bE;function mE(){return(mE=m(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function IV(n){bE=n}function SV(n){gE=n}function eie(){return DE.apply(this,arguments)}function DE(){return(DE=m(function*(){if(!ho())return Jt.warn(nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Vu()}catch(n){return Jt.warn(nr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function EE(){return(EE=m(function*(n,e,t,r,i,s,o){var a;const l=Gre(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Jt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Jt.error(f)),e.push(l);const c=eie().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);Vre(s)||Rre(s,u.measurementId),bE&&(i("consent","default",bE),IV(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Are]=d),i("config",u.measurementId,h),gE&&(i("set",gE),SV(void 0)),u.measurementId})).apply(this,arguments)}class nie{constructor(e){this.app=e}_delete(){return delete Oi[this.app.options.appId],Promise.resolve()}}let Oi={},TV=[];const AV={};let xV,Ni,qp="dataLayer",CE=!1;function iie(n,e,t){!function rie(){const n=[];if(Nb()&&n.push("This is a browser extension environment."),Pb()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=nr.create("invalid-analytics-context",{errorInfo:e});Jt.warn(t.message)}}();const r=n.options.appId;if(!r)throw nr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw nr.create("no-api-key");Jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Oi[r])throw nr.create("already-exists",{id:r});if(!CE){!function Ore(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(qp);const{wrappedGtag:s,gtagCore:o}=function Lre(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Fre(n,e,t,r){function s(){return(s=m(function*(o,a,l){try{"event"===o?yield Pre(n,e,t,a,l):"config"===o?yield Nre(n,e,t,r,a,l):"consent"===o?n("consent","update",l):n("set",a)}catch(c){Jt.error(c)}})).apply(this,arguments)}return function i(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Oi,TV,AV,qp,"gtag");Ni=s,xV=o,CE=!0}return Oi[r]=function tie(n,e,t,r,i,s,o){return EE.apply(this,arguments)}(n,TV,AV,e,xV,qp,t),new nie(n)}function oie(){return IE.apply(this,arguments)}function IE(){return(IE=m(function*(){if(Nb()||!Pb()||!ho())return!1;try{return yield Vu()}catch{return!1}})).apply(this,arguments)}const kV="@firebase/analytics";!function lie(){Sn(new pn(Gp,(e,{options:t})=>iie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Sn(new pn("analytics-internal",function n(e){try{const t=e.getProvider(Gp).getImmediate();return{logEvent:(r,i,s)=>function aie(n,e,t,r){n=Vn(n),function Yre(n,e,t,r,i){return mE.apply(this,arguments)}(Ni,Oi[n.app.options.appId],e,t,r).catch(i=>Jt.error(i))}(t,r,i,s)}}catch(t){throw nr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),ot(kV,"0.9.1"),ot(kV,"0.9.1","esm2017")}();class cie extends Gt{constructor(e,t){super()}schedule(e,t=0){return this}}const Wp={setInterval(n,e,...t){const{delegate:r}=Wp;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Wp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Kp extends cie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Wp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Wp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ia(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const OV={now:()=>(OV.delegate||Date).now(),delegate:void 0};class $u{constructor(e,t=$u.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}$u.now=OV.now;class Yp extends $u{constructor(e,t=$u.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const hie=new class die extends Yp{}(class uie extends Kp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Qp=new Yp(Kp),fie=Qp,Xp=new ts("7.5.0"),SE="__angularfire_symbol__analyticsIsSupportedValue",TE="__angularfire_symbol__analyticsIsSupported",AE="__angularfire_symbol__remoteConfigIsSupportedValue",ME="__angularfire_symbol__remoteConfigIsSupported",xE="__angularfire_symbol__messagingIsSupportedValue",kE="__angularfire_symbol__messagingIsSupported";function OE(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[TE]||(globalThis[TE]=oie().then(n=>globalThis[SE]=n).catch(()=>globalThis[SE]=!1)),globalThis[kE]||(globalThis[kE]=wV().then(n=>globalThis[xE]=n).catch(()=>globalThis[xE]=!1)),globalThis[ME]||(globalThis[ME]=zne().then(n=>globalThis[AE]=n).catch(()=>globalThis[AE]=!1));const NE=(n,e)=>{const t=e?[e]:OL(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function hl(){}class NV{constructor(e,t=hie){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class pie{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hl,{},hl,hl)),t.pipe(Qt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let PE=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new NV(Zone.current)),this.insideAngular=t.run(()=>new NV(Zone.current,Qp)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(E(te))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wo(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function gie(n){return wo().ngZone.runOutsideAngular(()=>n())}function bo(n){return wo().ngZone.run(()=>n())}function mie(n){return wo(),function _ie(n){return function(t){return(t=t.lift(new pie(n.ngZone))).pipe(Ch(n.outsideAngular),Eh(n.insideAngular))}}(wo())(n)}const yie=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),bo(()=>n.apply(void 0,r))},ju=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=bo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hl,{},hl,hl)))),r[s]=yie(r[s],t));const i=gie(()=>n.apply(this,r));if(!e){if(i instanceof xe){const s=wo();return i.pipe(Ch(s.outsideAngular),Eh(s.insideAngular))}return bo(()=>i)}return i instanceof xe?i.pipe(mie):i instanceof Promise?bo(()=>new Promise((s,o)=>i.then(a=>bo(()=>s(a)),a=>bo(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:bo(()=>i)};class fl{constructor(e){return e}}class FE{constructor(){return OL()}}const LE=new k("angularfire2._apps"),wie={provide:fl,useFactory:function vie(n){return n&&1===n.length?n[0]:new fl(Kb())},deps:[[new Kt,LE]]},bie={provide:FE,deps:[[new Kt,LE]]};function Die(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new fl(r)}}let Eie=(()=>{class n{constructor(t){ot("angularfire",Xp.full,"core"),ot("angularfire",Xp.full,"app"),ot("angular",Ok.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(E(au))},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({providers:[wie,bie]}),n})();const Iie=ju(RL,!0),VE=new Map,PV={activated:!1,tokenObservers:[]},Sie={initialized:!1,enabled:!1};function en(n){return VE.get(n)||Object.assign({},PV)}function Zp(){return Sie}class Rie{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return m(function*(){t.stop();try{t.pending=new Pp,yield function Oie(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Pp,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Tn=new ti("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function LV(n){if(!en(n).activated)throw Tn.create("use-before-activation",{appName:n.name})}function $E(n,e){return jE.apply(this,arguments)}function jE(){return(jE=m(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw Tn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Tn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Tn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function Lie(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Hu="firebase-app-check-store";let tg=null;function BV(){return tg||(tg=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Tn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Hu,{keyPath:"compositeKey"})}}catch(t){e(Tn.create("storage-open",{originalErrorMessage:t?.message}))}}),tg)}function HE(){return(HE=m(function*(n,e){const r=(yield BV()).transaction(Hu,"readwrite"),s=r.objectStore(Hu).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(Tn.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const zu=new ol("@firebase/app-check");function qE(n,e){return ho()?function $ie(n,e){return function UV(n,e){return HE.apply(this,arguments)}(function jV(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{zu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function HV(){return Zp().enabled}function zV(){return KE.apply(this,arguments)}function KE(){return(KE=m(function*(){const n=Zp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Wie={error:"UNKNOWN_ERROR"};function Kie(n){return Ob.encodeString(JSON.stringify(n),!1)}function ng(n){return YE.apply(this,arguments)}function YE(){return(YE=m(function*(n,e=!1){const t=n.app;LV(t);const r=en(t);let s,i=r.token;if(i&&!pl(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(pl(l)?i=l:yield qE(t,void 0))}if(!e&&i&&pl(i))return{token:i.token};let a,o=!1;if(HV()){r.exchangeTokenPromise||(r.exchangeTokenPromise=$E(Lie(t,yield zV()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=yield r.exchangeTokenPromise;return yield qE(t,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield en(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?zu.warn(l.message):zu.error(l),s=l}return i?s?a=pl(i)?{token:i.token,internalError:s}:WV(s):(a={token:i.token},r.token=i,yield qE(t,i)):a=WV(s),o&&qV(t,a),a})).apply(this,arguments)}function XE(n,e){const t=en(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function GV(n){const{app:e}=n,t=en(e);let r=t.tokenRefresher;r||(r=function Yie(n){const{app:e}=n;return new Rie(m(function*(){let r;if(r=en(e).token?yield ng(n,!0):yield ng(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=en(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function qV(n,e){const t=en(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function pl(n){return n.expireTimeMillis-Date.now()>0}function WV(n){return{token:Kie(Wie),error:n}}class Qie{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=en(this.app);for(const t of e)XE(this.app,t.next);return Promise.resolve()}}const tB="app-check-internal";!function use(){Sn(new pn("app-check",n=>function Xie(n,e){return new Qie(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(tB).initialize()})),Sn(new pn(tB,n=>function Zie(n){return{getToken:e=>ng(n,e),addTokenListener:e=>function QE(n,e,t,r){const{app:i}=n,s=en(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&pl(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),GV(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>GV(n))}(n,"INTERNAL",e),removeTokenListener:e=>XE(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ot("@firebase/app-check","0.6.1")}();class tC{constructor(){return NE("app-check")}}typeof window<"u"&&window;const gse=function rB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},iB=new ti("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),sB=new ol("@firebase/auth");function ig(n,...e){sB.logLevel<=Ee.ERROR&&sB.error(`Auth (${ll}): ${n}`,...e)}function Un(n,...e){throw rC(n,...e)}function ni(n,...e){return rC(n,...e)}function oB(n,e,t){const r=Object.assign(Object.assign({},gse()),{[e]:t});return new ti("auth","Firebase",r).create(e,{appName:n.name})}function rC(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return iB.create(n,...e)}function O(n,e,...t){if(!n)throw rC(e,...t)}function ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ig(e),new Error(e)}function hs(n,e){n||ri(e)}const aB=new Map;function Pi(n){hs(n instanceof Function,"Expected a class definition");let e=aB.get(n);return e?(hs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,aB.set(n,e),e)}function Gu(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function lB(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class qu{constructor(e,t){this.shortDelay=e,this.longDelay=t,hs(t>e,"Short delay should be less than long delay!"),this.isMobile=function hee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}()||function pee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function yse(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function iC(){return"http:"===lB()||"https:"===lB()}()||Nb()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sC(n,e){hs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class cB{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},bse=new qu(3e4,6e4);function Rt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Bt(n,e,t,r){return oC.apply(this,arguments)}function oC(){return(oC=m(function*(n,e,t,r,i={}){return uB(n,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Vp(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),cB.fetch()(dB(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function uB(n,e,t){return aC.apply(this,arguments)}function aC(){return(aC=m(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},wse),e);try{const i=new Dse(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Wu(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Wu(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Wu(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Wu(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw oB(n,u,c);Un(n,u)}}catch(i){if(i instanceof vr)throw i;Un(n,"network-request-failed")}})).apply(this,arguments)}function Fi(n,e,t,r){return lC.apply(this,arguments)}function lC(){return(lC=m(function*(n,e,t,r,i={}){const s=yield Bt(n,e,t,r,i);return"mfaPendingCredential"in s&&Un(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function dB(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?sC(n.config,i):`${n.config.apiScheme}://${i}`}class Dse{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),bse.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wu(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ni(n,e,r);return i.customData._tokenResponse=t,i}function cC(){return(cC=m(function*(n,e){return Bt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Ise(n,e){return dC.apply(this,arguments)}function dC(){return(dC=m(function*(n,e){return Bt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ku(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function hC(){return(hC=m(function*(n,e=!1){const t=Vn(n),r=yield t.getIdToken(e),i=sg(r);O(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ku(fC(i.auth_time)),issuedAtTime:Ku(fC(i.iat)),expirationTime:Ku(fC(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function fC(n){return 1e3*Number(n)}function sg(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return ig("JWT malformed, contained fewer than 3 sections"),null;try{const i=Op(t);return i?JSON.parse(i):(ig("Failed to decode base64 JWT payload"),null)}catch(i){return ig("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Li(n,e){return pC.apply(this,arguments)}function pC(){return(pC=m(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof vr&&Ase(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function Ase({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Mse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class hB{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yu(n){return gC.apply(this,arguments)}function gC(){return(gC=m(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Li(n,Ise(t,{idToken:r}));O(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?Rse(s.providerUserInfo):[],a=kse(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new hB(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function mC(){return(mC=m(function*(n){const e=Vn(n);yield Yu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function kse(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Rse(n){return n.map(e=>{var{providerId:t}=e,r=fM(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _C(){return(_C=m(function*(n,e){const t=yield uB(n,{},m(function*(){const r=Vp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=dB(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",cB.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Qu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Tse(n){const e=sg(n);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return m(function*(){return O(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Ose(n,e){return _C.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Qu;return r&&(O("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(O("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(O("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qu,this.toJSON())}_performRefresh(){return ri("not implemented")}}function fs(n,e){O("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Do{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=fM(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hB(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const r=yield Li(t,t.stsTokenManager.getToken(t.auth,e));return O(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Sse(n){return hC.apply(this,arguments)}(this,e)}reload(){return function xse(n){return mC.apply(this,arguments)}(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Do(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Yu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield Li(e,function Ese(n,e){return cC.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:x,isAnonymous:$,providerData:B,stsTokenManager:_e}=t;O(w&&_e,e,"internal-error");const an=Qu.fromJSON(this.name,_e);O("string"==typeof w,e,"internal-error"),fs(d,e.name),fs(h,e.name),O("boolean"==typeof x,e,"internal-error"),O("boolean"==typeof $,e,"internal-error"),fs(f,e.name),fs(p,e.name),fs(g,e.name),fs(_,e.name),fs(v,e.name),fs(C,e.name);const lr=new Do({uid:w,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:an,createdAt:v,lastLoginAt:C});return B&&Array.isArray(B)&&(lr.providerData=B.map(Lr=>Object.assign({},Lr))),_&&(lr._redirectEventId=_),lr}static _fromIdTokenResponse(e,t,r=!1){return m(function*(){const i=new Qu;i.updateFromServerResponse(t);const s=new Do({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Yu(s),s})()}}const fB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,r){var i=this;return m(function*(){i.storage[t]=r})()}_get(t){var r=this;return m(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return m(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function og(n,e,t){return`firebase:${n}:${e}:${t}`}class ml{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=og(this.userKey,i.apiKey,s),this.fullPersistenceKey=og("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Do._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return m(function*(){if(!t.length)return new ml(Pi(fB),e,r);const i=(yield Promise.all(t.map(function(){var c=m(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Pi(fB);const o=og(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=Do._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=m(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new ml(s,e,r)):new ml(s,e,r)})()}}function pB(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_B(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vB(e))return"Blackberry";if(wB(e))return"Webos";if(yC(e))return"Safari";if((e.includes("chrome/")||mB(e))&&!e.includes("edge/"))return"Chrome";if(yB(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function gB(n=Vt()){return/firefox\//i.test(n)}function yC(n=Vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mB(n=Vt()){return/crios\//i.test(n)}function _B(n=Vt()){return/iemobile/i.test(n)}function yB(n=Vt()){return/android/i.test(n)}function vB(n=Vt()){return/blackberry/i.test(n)}function wB(n=Vt()){return/webos/i.test(n)}function ag(n=Vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bB(n=Vt()){return ag(n)||yB(n)||wB(n)||vB(n)||/windows phone/i.test(n)||_B(n)}function DB(n,e=[]){let t;switch(n){case"Browser":t=pB(Vt());break;case"Worker":t=`${pB(Vt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ll}/${r}`}class Lse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return m(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Vse{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EB(this),this.idTokenSubscription=new EB(this),this.beforeStateQueue=new Lse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iB,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Pi(t)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ml.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return O(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){try{yield Yu(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function vse(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const r=e?Vn(e):null;return r&&O(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return m(function*(){if(!r._deleted)return e&&O(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(Pi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ti("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const r=e&&Pi(e)||t._popupRedirectResolver;O(r,t,"argument-error"),t.redirectPersistenceManager=yield ml.create(t,[Pi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var r,i;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return O(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function $n(n){return Vn(n)}class EB{constructor(e){this.auth=e,this.observer=null,this.addObserver=function wee(n,e){const t=new bee(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function CB(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function IB(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class jse{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,t){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}function Vi(n,e){return kC.apply(this,arguments)}function kC(){return(kC=m(function*(n,e){return Fi(n,"POST","/v1/accounts:signInWithIdp",Rt(n,e))})).apply(this,arguments)}class ps{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class soe extends ps{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class wr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return m(function*(){const s=yield Do._fromIdTokenResponse(e,r,i),o=xB(r);return new wr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=xB(r);return new wr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function xB(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class dg extends vr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new dg(e,t,r,i)}}function kB(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?dg._fromErrorAndOperation(n,s,e,r):s})}function UC(n,e){return $C.apply(this,arguments)}function $C(){return($C=m(function*(n,e,t=!1){const r=yield Li(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return wr._forOperation(n,"link",r)})).apply(this,arguments)}function HC(){return(HC=m(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Li(n,kB(r,i,e,n),t);O(s.idToken,r,"internal-error");const o=sg(s.idToken);O(o,r,"internal-error");const{sub:a}=o;return O(n.uid===a,r,"user-mismatch"),wr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Un(r,"user-mismatch"),s}})).apply(this,arguments)}function zC(){return(zC=m(function*(n,e,t=!1){const r="signIn",i=yield kB(n,r,e),s=yield wr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const pg="__sak";class FB{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pg,"1"),this.storage.removeItem(pg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Toe=(()=>{class n extends FB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Coe(){const n=Vt();return yC(n)||ag(n)}()&&function Fse(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bB(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Pse(){return function gee(){const n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),LB=(()=>{class n extends FB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Moe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return m(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Aoe(n){return Promise.all(n.map(function(){var e=m(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function vI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class xoe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=vI("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Ot(){return window}function wI(){return typeof Ot().WorkerGlobalScope<"u"&&"function"==typeof Ot().importScripts}function bI(){return(bI=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const VB="firebaseLocalStorageDb",gg="firebaseLocalStorage",BB="fbase_key";class ed{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mg(n,e){return n.transaction([gg],e?"readwrite":"readonly").objectStore(gg)}function DI(){const n=indexedDB.open(VB,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(gg,{keyPath:BB})}catch(i){t(i)}}),n.addEventListener("success",m(function*(){const r=n.result;r.objectStoreNames.contains(gg)?e(r):(r.close(),yield function Foe(){const n=indexedDB.deleteDatabase(VB);return new ed(n).toPromise()}(),e(yield DI()))}))})}function UB(n,e,t){return EI.apply(this,arguments)}function EI(){return(EI=m(function*(n,e,t){const r=mg(n,!0).put({[BB]:e,value:t});return new ed(r).toPromise()})).apply(this,arguments)}function CI(){return(CI=m(function*(n,e){const t=mg(n,!1).get(e),r=yield new ed(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function $B(n,e){const t=mg(n,!0).delete(e);return new ed(t).toPromise()}const Uoe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield DI()),t.db})()}_withRetries(t){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return wI()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){t.receiver=Moe._getInstance(function Noe(){return wI()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return m(function*(){var r,i;if(t.activeServiceWorker=yield function Roe(){return bI.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new xoe(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function Ooe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield DI();return yield UB(t,pg,"1"),yield $B(t,pg),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return m(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>UB(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return m(function*(){const i=yield r._withRetries(s=>function Loe(n,e){return CI.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>$B(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const r=yield t._withRetries(o=>{const a=mg(o,!1).getAll();return new ed(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function HB(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Co(n,e){return e?Pi(e):(O(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}HB("rcb"),new qu(3e4,6e4);class NI extends jse{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rae(n){return function NB(n,e){return zC.apply(this,arguments)}(n.auth,new NI(n),n.bypassAuthState)}function iae(n){const{auth:e,user:t}=n;return O(t,e,"internal-error"),function OB(n,e){return HC.apply(this,arguments)}(t,new NI(n),n.bypassAuthState)}function sae(n){return PI.apply(this,arguments)}function PI(){return(PI=m(function*(n){const{auth:e,user:t}=n;return O(t,e,"internal-error"),UC(t,new NI(n),n.bypassAuthState)})).apply(this,arguments)}class oae{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rae;case"linkViaPopup":case"linkViaRedirect":return sae;case"reauthViaPopup":case"reauthViaRedirect":return iae;default:Un(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new qu(2e3,1e4);const td=new Map;class lae extends oae{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let r=td.get(t.auth._key());if(!r){try{const s=(yield function cae(n,e){return UI.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}td.set(t.auth._key(),r)}return t.bypassAuthState||td.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function UI(){return(UI=m(function*(n,e){const t=qB(e),r=GB(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function uae(n,e){td.set(n._key(),e)}function GB(n){return Pi(n._redirectPersistence)}function qB(n){return og("pendingRedirect",n.config.apiKey,n.name)}function WB(n,e){return WI.apply(this,arguments)}function WI(){return(WI=m(function*(n,e,t=!1){const r=$n(n),i=Co(r,e),o=yield new lae(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class gae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function mae(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QB(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!QB(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(ni(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(YB(e))}saveEventToCache(e){this.cachedEventUids.add(YB(e)),this.lastProcessedEventTime=Date.now()}}function YB(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function QB({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function _ae(n){return YI.apply(this,arguments)}function YI(){return(YI=m(function*(n,e={}){return Bt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const yae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vae=/^https?/;function QI(){return(QI=m(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield _ae(n);for(const t of e)try{if(bae(t))return}catch{}Un(n,"unauthorized-domain")})).apply(this,arguments)}function bae(n){const e=Gu(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!vae.test(t))return!1;if(yae.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Dae=new qu(3e4,6e4);function XB(){const n=Ot().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let yg=null;function Cae(n){return yg=yg||function Eae(n){return new Promise((e,t)=>{var r,i,s;function o(){XB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XB(),t(ni(n,"network-request-failed"))},timeout:Dae.get()})}if(null!==(i=null===(r=Ot().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Ot().gapi)||void 0===s||!s.load){const a=HB("iframefcb");return Ot()[a]=()=>{gapi.load?o():t(ni(n,"network-request-failed"))},function jB(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ni("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function zoe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw yg=null,e})}(n),yg}const Iae=new qu(5e3,15e3),Aae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xae(n){const e=n.config;O(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?sC(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:ll},i=Mae.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Vp(r).slice(1)}`}function XI(){return XI=m(function*(n){const e=yield Cae(n),t=Ot().gapi;return O(t,n,"internal-error"),e.open({where:document.body,url:xae(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aae,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ni(n,"network-request-failed"),l=Ot().setTimeout(()=>{o(a)},Iae.get());function c(){Ot().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),XI.apply(this,arguments)}const Rae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ZB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JB(n,e,t,r,i,s){O(n.config.authDomain,n,"auth-domain-config-required"),O(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ll,eventId:i};if(e instanceof ps){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function vee(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof soe){const l=e.getScopes().filter(c=>""!==c);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function $ae({config:n}){return n.emulator?sC(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Vp(a).slice(1)}`}const ZI="webStorageSupport",Hae=class jae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LB,this._completeRedirectFn=WB,this._overrideRedirectResult=uae}_openPopup(e,t,r,i){var s=this;return m(function*(){var o;hs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=JB(e,t,r,Gu(),i);return function Lae(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Rae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Vt().toLowerCase();t&&(a=mB(c)?"_blank":t),gB(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Nse(n=Vt()){var e;return ag(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Vae(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new ZB(null);const d=window.open(e||"",a,u);O(d,n,"popup-blocked");try{d.focus()}catch{}return new ZB(d)}(e,a,vI())})()}_openRedirect(e,t,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function koe(n){Ot().location.href=n}(JB(e,t,r,Gu(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(hs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return m(function*(){const r=yield function kae(n){return XI.apply(this,arguments)}(e),i=new gae(e);return r.register("authEvent",s=>(O(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ZI,{type:ZI},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[ZI];void 0!==o&&t(!!o),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function wae(n){return QI.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bB()||yC()||ag()}};var tU="@firebase/auth";class zae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Kae=DL("authIdTokenMaxAge")||300;let rU=null;const Yae=n=>function(){var e=m(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Kae)return;const s=r?.token;rU!==s&&(rU=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Qae(n=Kb()){const e=al(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function mse(n,e){const t=al(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Lp(t.getOptions(),e??{}))return i;Un(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Hae,persistence:[Uoe,Toe,LB]}),r=DL("authTokenSyncURL");if(r){const s=Yae(r);(function woe(n,e,t){Vn(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function voe(n,e,t,r){Vn(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=bL("auth");return i&&function Bse(n,e,t){const r=$n(n);O(r._canInitEmulator,r,"emulator-config-failed"),O(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=CB(e),{host:o,port:a}=function Use(n){const e=CB(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:IB(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:IB(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function $se(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function qae(n){Sn(new pn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{O(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),O(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DB(n)},u=new Vse(a,l,c);return function _se(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Pi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Sn(new pn("auth-internal",e=>{const t=$n(e.getProvider("auth").getImmediate());return new zae(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(tU,"0.21.1",function Gae(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),ot(tU,"0.21.1","esm2017")}("Browser");class JI{constructor(e){return e}}class sU{constructor(){return NE("auth")}}const eS=new k("angularfire2.auth-instances");function Zae(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new JI(r)}}const Jae={provide:sU,deps:[[new Kt,eS]]},ele={provide:JI,useFactory:function Xae(n,e){const t=OE("auth",n,e);return t&&new JI(t)},deps:[[new Kt,eS],fl]};let tle=(()=>{class n{constructor(){ot("angularfire",Xp.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({providers:[ele,Jae]}),n})();const rle=ju(Qae,!0);var z,ile=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bi={},tS=tS||{},ne=ile||self;function vg(){}function wg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function nd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var nS="closure_uid_"+(1e9*Math.random()>>>0),ole=0;function ale(n,e,t){return n.call.apply(n.bind,arguments)}function lle(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function gn(n,e,t){return(gn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ale:lle).apply(null,arguments)}function bg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function tn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function gs(){this.s=this.s,this.o=this.o}gs.prototype.s=!1,gs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function sle(n){Object.prototype.hasOwnProperty.call(n,nS)&&n[nS]||(n[nS]=++ole)}(this)},gs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oU=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function rS(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function aU(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(wg(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function mn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}mn.prototype.h=function(){this.defaultPrevented=!0};var ule=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ne.addEventListener("test",vg,e),ne.removeEventListener("test",vg,e)}catch{}return n}();function Dg(n){return/^[\s\xa0]*$/.test(n)}var lU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function iS(n,e){return n<e?-1:n>e?1:0}function Eg(){var n=ne.navigator;return n&&(n=n.userAgent)?n:""}function ii(n){return-1!=Eg().indexOf(n)}function sS(n){return sS[" "](n),n}sS[" "]=vg;var Cg,n,hle=ii("Opera"),_l=ii("Trident")||ii("MSIE"),cU=ii("Edge"),oS=cU||_l,uU=ii("Gecko")&&!(-1!=Eg().toLowerCase().indexOf("webkit")&&!ii("Edge"))&&!(ii("Trident")||ii("MSIE"))&&!ii("Edge"),fle=-1!=Eg().toLowerCase().indexOf("webkit")&&!ii("Edge");function dU(){var n=ne.document;return n?n.documentMode:void 0}e:{var aS="",lS=(n=Eg(),uU?/rv:([^\);]+)(\)|;)/.exec(n):cU?/Edge\/([\d\.]+)/.exec(n):_l?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):fle?/WebKit\/(\S+)/.exec(n):hle?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(lS&&(aS=lS?lS[1]:""),_l){var cS=dU();if(null!=cS&&cS>parseFloat(aS)){Cg=String(cS);break e}}Cg=aS}var ple={};var mle=ne.document&&_l&&(dU()||parseInt(Cg,10))||void 0;function rd(n,e){if(mn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(uU){e:{try{sS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:_le[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&rd.X.h.call(this)}}tn(rd,mn);var _le={2:"touch",3:"pen",4:"mouse"};rd.prototype.h=function(){rd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var id="closure_listenable_"+(1e6*Math.random()|0),yle=0;function vle(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++yle,this.ba=this.ea=!1}function Ig(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function dS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function fU(n){const e={};for(const t in n)e[t]=n[t];return e}const pU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gU(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<pU.length;s++)t=pU[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Sg(n){this.src=n,this.g={},this.h=0}function hS(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=oU(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ig(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function fS(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}Sg.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=fS(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new vle(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var pS="closure_lm_"+(1e6*Math.random()|0),gS={};function mU(n,e,t,r,i){if(r&&r.once)return yU(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)mU(n,e[s],t,r,i);return null}return t=vS(t),n&&n[id]?n.N(e,t,nd(r)?!!r.capture:!!r,i):_U(n,e,t,!1,r,i)}function _U(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=nd(i)?!!i.capture:!!i,a=_S(n);if(a||(n[pS]=a=new Sg(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function wle(){const e=ble;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ule||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(wU(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function yU(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)yU(n,e[s],t,r,i);return null}return t=vS(t),n&&n[id]?n.O(e,t,nd(r)?!!r.capture:!!r,i):_U(n,e,t,!0,r,i)}function vU(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)vU(n,e[s],t,r,i);else r=nd(r)?!!r.capture:!!r,t=vS(t),n&&n[id]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=fS(s=n.g[e],t,r,i))&&(Ig(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=_S(n))&&(e=n.g[e.toString()],n=-1,e&&(n=fS(e,t,r,i)),(t=-1<n?e[n]:null)&&mS(t))}function mS(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[id])hS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(wU(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=_S(e))?(hS(t,n),0==t.h&&(t.src=null,e[pS]=null)):Ig(n)}}}function wU(n){return n in gS?gS[n]:gS[n]="on"+n}function ble(n,e){if(n.ba)n=!0;else{e=new rd(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&mS(n),n=t.call(r,e)}return n}function _S(n){return(n=n[pS])instanceof Sg?n:null}var yS="__closure_events_fn_"+(1e9*Math.random()>>>0);function vS(n){return"function"==typeof n?n:(n[yS]||(n[yS]=function(e){return n.handleEvent(e)}),n[yS])}function Ut(){gs.call(this),this.i=new Sg(this),this.P=this,this.I=null}function nn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new mn(e,n);else if(e instanceof mn)e.target=e.target||n;else{var i=e;gU(e=new mn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Tg(o,r,!0,e)&&i}if(i=Tg(o=e.g=n,r,!0,e)&&i,i=Tg(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Tg(o=e.g=t[s],r,!1,e)&&i}function Tg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,l=o.ha||o.src;o.ea&&hS(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}tn(Ut,gs),Ut.prototype[id]=!0,Ut.prototype.removeEventListener=function(n,e,t,r){vU(this,n,e,t,r)},Ut.prototype.M=function(){if(Ut.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ig(t[r]);delete n.g[e],n.h--}}this.I=null},Ut.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ut.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var wS=ne.JSON.stringify;function Dle(){var n=EU;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var bS,bU=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Cle,n=>n.reset());class Cle{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ile(n){ne.setTimeout(()=>{throw n},0)}function DU(n,e){bS||function Sle(){var n=ne.Promise.resolve(void 0);bS=function(){n.then(Tle)}}(),DS||(bS(),DS=!0),EU.add(n,e)}var DS=!1,EU=new class Ele{constructor(){this.h=this.g=null}add(e,t){const r=bU.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Tle(){for(var n;n=Dle();){try{n.h.call(n.g)}catch(t){Ile(t)}var e=bU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}DS=!1}function Ag(n,e){Ut.call(this),this.h=n||1,this.g=e||ne,this.j=gn(this.lb,this),this.l=Date.now()}function ES(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function CS(n,e,t){if("function"==typeof n)t&&(n=gn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=gn(n.handleEvent,n)}return 2147483647<Number(e)?-1:ne.setTimeout(n,e||0)}function CU(n){n.g=CS(()=>{n.g=null,n.i&&(n.i=!1,CU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}tn(Ag,Ut),(z=Ag.prototype).ca=!1,z.R=null,z.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),nn(this,"tick"),this.ca&&(ES(this),this.start()))}},z.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},z.M=function(){Ag.X.M.call(this),ES(this),delete this.g};class Ale extends gs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:CU(this)}M(){super.M(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sd(n){gs.call(this),this.h=n,this.g={}}tn(sd,gs);var IU=[];function SU(n,e,t,r){Array.isArray(t)||(t&&(IU[0]=t.toString()),t=IU);for(var i=0;i<t.length;i++){var s=mU(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function TU(n){dS(n.g,function(e,t){this.g.hasOwnProperty(t)&&mS(e)},n),n.g={}}function Mg(){this.g=!0}function yl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Rle(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return wS(t)}catch{return e}}(n,t)+(r?" "+r:"")})}sd.prototype.M=function(){sd.X.M.call(this),TU(this)},sd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mg.prototype.Aa=function(){this.g=!1},Mg.prototype.info=function(){};var Io={},AU=null;function xg(){return AU=AU||new Ut}function MU(n){mn.call(this,Io.Pa,n)}function od(n){const e=xg();nn(e,new MU(e))}function xU(n,e){mn.call(this,Io.STAT_EVENT,n),this.stat=e}function An(n){const e=xg();nn(e,new xU(e,n))}function kU(n,e){mn.call(this,Io.Qa,n),this.size=e}function ad(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){n()},e)}Io.Pa="serverreachability",tn(MU,mn),Io.STAT_EVENT="statevent",tn(xU,mn),Io.Qa="timingevent",tn(kU,mn);var kg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},RU={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function IS(){}function NU(){}IS.prototype.h=null;var AS,ld={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function SS(){mn.call(this,"d")}function TS(){mn.call(this,"c")}function Rg(){}function cd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new sd(this),this.O=Ole,this.T=new Ag(n=oS?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new PU}function PU(){this.i=null,this.g="",this.h=!1}tn(SS,mn),tn(TS,mn),tn(Rg,IS),Rg.prototype.g=function(){return new XMLHttpRequest},Rg.prototype.i=function(){return{}},AS=new Rg;var Ole=45e3,MS={},Og={};function xS(n,e,t){n.K=1,n.v=Lg(Ui(e)),n.s=t,n.P=!0,FU(n,null)}function FU(n,e){n.F=Date.now(),ud(n),n.A=Ui(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),qU(t.i,"t",r),n.C=0,t=n.l.H,n.h=new PU,n.g=_2(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Ale(gn(n.La,n,n.g),n.N)),SU(n.S,n.g,"readystatechange",n.ib),e=n.H?fU(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),od(),function Mle(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function LU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function VU(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Nle(n,t),i==Og){4==e&&(n.o=4,An(14),r=!1),yl(n.j,n.m,null,"[Incomplete Response]");break}if(i==MS){n.o=4,An(15),yl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}yl(n.j,n.m,i,null),kS(n,i)}LU(n)&&i!=Og&&i!=MS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,An(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),BS(e),e.K=!0,An(11))):(yl(n.j,n.m,t,"[Invalid Chunked Response]"),So(n),dd(n))}function Nle(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Og:(t=Number(e.substring(t,r)),isNaN(t)?MS:(r+=1)+t>e.length?Og:(e=e.substr(r,t),n.C=r+t,e))}function ud(n){n.V=Date.now()+n.O,BU(n,n.O)}function BU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ad(gn(n.gb,n),e)}function Ng(n){n.B&&(ne.clearTimeout(n.B),n.B=null)}function dd(n){0==n.l.G||n.I||f2(n.l,n)}function So(n){Ng(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ES(n.T),TU(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function kS(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||RS(t.h,n)))if(!n.J&&RS(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Hg(t),$g(t)}VS(t),An(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=ad(gn(t.cb,t),6e3));if(1>=YU(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ao(t,11)}else if((n.J||t.g==n)&&Hg(t),!Dg(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.T=c[0],c=c[1],2==t.G)if("c"==c[0]){t.I=c[1],t.ka=c[2];const u=c[3];null!=u&&(t.ma=u,t.j.info("VER="+t.ma));const d=c[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(OS(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,Xe(r.F,r.D,g))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=m2(r,r.H?r.ka:null,r.V),o.J){QU(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Ng(a),ud(a)),r.g=o}else d2(r);0<t.i.length&&jg(t)}else"stop"!=c[0]&&"close"!=c[0]||Ao(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ao(t,7):LS(t):"noop"!=c[0]&&t.l&&t.l.wa(c),t.A=0)}od()}catch{}}function UU(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(wg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Fle(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(wg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Ple(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(wg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(z=cd.prototype).setTimeout=function(n){this.O=n},z.ib=function(n){n=n.target;const e=this.L;e&&3==$i(n)?e.l():this.La(n)},z.La=function(n){try{if(n==this.g)e:{const u=$i(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>u)&&(3!=u||oS||this.g&&(this.h.h||this.g.fa()||s2(this.g)))){this.I||4!=u||7==e||od(),Ng(this);var t=this.g.aa();this.Y=t;t:if(LU(this)){var r=s2(this.g);n="";var i=r.length,s=4==$i(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){So(this),dd(this);var o="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function xle(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,u,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dg(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,An(12),So(this),dd(this);break e}yl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kS(this,t)}this.P?(VU(this,u,o),oS&&this.i&&3==u&&(SU(this.S,this.T,"tick",this.hb),this.T.start())):(yl(this.j,this.m,o,null),kS(this,o)),4==u&&So(this),this.i&&!this.I&&(4==u?f2(this.l,this):(this.i=!1,ud(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,An(12)):(this.o=0,An(13)),So(this),dd(this)}}}catch{}},z.hb=function(){if(this.g){var n=$i(this.g),e=this.g.fa();this.C<e.length&&(Ng(this),VU(this,n,e),this.i&&4!=n&&ud(this))}},z.cancel=function(){this.I=!0,So(this)},z.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function kle(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(od(),An(17)),So(this),this.o=2,dd(this)):BU(this,this.V-n)};var $U=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof To){this.h=void 0!==e?e:n.h,Pg(this,n.j),this.s=n.s,this.g=n.g,Fg(this,n.m),this.l=n.l,e=n.i;var t=new pd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),jU(this,t),this.o=n.o}else n&&(t=String(n).match($U))?(this.h=!!e,Pg(this,t[1]||"",!0),this.s=hd(t[2]||""),this.g=hd(t[3]||"",!0),Fg(this,t[4]),this.l=hd(t[5]||"",!0),jU(this,t[6]||"",!0),this.o=hd(t[7]||"")):(this.h=!!e,this.i=new pd(null,this.h))}function Ui(n){return new To(n)}function Pg(n,e,t){n.j=t?hd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function jU(n,e,t){e instanceof pd?(n.i=e,function Hle(n,e){e&&!n.j&&(ms(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(zU(this,r),qU(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=fd(e,$le)),n.i=new pd(e,n.h))}function Xe(n,e,t){n.i.set(e,t)}function Lg(n){return Xe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function hd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function fd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Vle),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Vle(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}To.prototype.toString=function(){var n=[],e=this.j;e&&n.push(fd(e,HU,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(fd(e,HU,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(fd(t,"/"==t.charAt(0)?Ule:Ble,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",fd(t,jle)),n.join("")};var HU=/[#\/\?@]/g,Ble=/[#\?:]/g,Ule=/[#\?]/g,$le=/[#\?@]/g,jle=/#/g;function pd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ms(n){n.g||(n.g=new Map,n.h=0,n.i&&function Lle(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function zU(n,e){ms(n),e=vl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function GU(n,e){return ms(n),e=vl(n,e),n.g.has(e)}function qU(n,e,t){zU(n,e),0<t.length&&(n.i=null,n.g.set(vl(n,e),rS(t)),n.h+=t.length)}function vl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function WU(n){this.l=n||Gle,n=ne.PerformanceNavigationTiming?0<(n=ne.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ne.g&&ne.g.Ga&&ne.g.Ga()&&ne.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(z=pd.prototype).add=function(n,e){ms(this),this.i=null,n=vl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},z.forEach=function(n,e){ms(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},z.oa=function(){ms(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},z.W=function(n){ms(this);let e=[];if("string"==typeof n)GU(this,n)&&(e=e.concat(this.g.get(vl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},z.set=function(n,e){return ms(this),this.i=null,GU(this,n=vl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},z.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Gle=10;function KU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function YU(n){return n.h?1:n.g?n.g.size:0}function RS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function OS(n,e){n.g?n.g.add(e):n.h=e}function QU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function XU(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return rS(n.i)}function NS(){}function qle(){this.g=new NS}function Wle(n,e,t){const r=t||"";try{UU(n,function(i,s){let o=i;nd(i)&&(o=wS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function gd(n){this.l=n.ac||null,this.j=n.jb||!1}function Bg(n,e){Ut.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=PS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}WU.prototype.cancel=function(){if(this.i=XU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},NS.prototype.stringify=function(n){return ne.JSON.stringify(n,void 0)},NS.prototype.parse=function(n){return ne.JSON.parse(n,void 0)},tn(gd,IS),gd.prototype.g=function(){return new Bg(this.l,this.j)},gd.prototype.i=function(n){return function(){return n}}({}),tn(Bg,Ut);var PS=0;function ZU(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function md(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_d(n)}function _d(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(z=Bg.prototype).open=function(n,e){if(this.readyState!=PS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,_d(this)},z.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||ne).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,md(this)),this.readyState=PS},z.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_d(this)),this.g&&(this.readyState=3,_d(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZU(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},z.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?md(this):_d(this),3==this.readyState&&ZU(this)}},z.Va=function(n){this.g&&(this.response=this.responseText=n,md(this))},z.Ua=function(n){this.g&&(this.response=n,md(this))},z.ga=function(){this.g&&md(this)},z.setRequestHeader=function(n,e){this.v.append(n,e)},z.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},z.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Bg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Yle=ne.JSON.parse;function at(n){Ut.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=JU,this.K=this.L=!1}tn(at,Ut);var JU="",Qle=/^https?$/i,Xle=["POST","PUT"];function e2(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,t2(n),Ug(n)}function t2(n){n.D||(n.D=!0,nn(n,"complete"),nn(n,"error"))}function n2(n){if(n.h&&typeof tS<"u"&&(!n.C[1]||4!=$i(n)||2!=n.aa()))if(n.v&&4==$i(n))CS(n.Ha,0,n);else if(nn(n,"readystatechange"),4==$i(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match($U)[1]||null;if(!i&&ne.self&&ne.self.location){var s=ne.self.location.protocol;i=s.substr(0,s.length-1)}r=!Qle.test(i?i.toLowerCase():"")}t=r}if(t)nn(n,"complete"),nn(n,"success");else{n.m=6;try{var o=2<$i(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",t2(n)}}finally{Ug(n)}}}function Ug(n,e){if(n.g){r2(n);const t=n.g,r=n.C[0]?vg:null;n.g=null,n.C=null,e||nn(n,"ready");try{t.onreadystatechange=r}catch{}}}function r2(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ne.clearTimeout(n.A),n.A=null)}function $i(n){return n.g?n.g.readyState:0}function s2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case JU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function o2(n){let e="";return dS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function FS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=o2(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Xe(n,e,t))}function yd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function a2(n){this.Ca=0,this.i=[],this.j=new Mg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=yd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=yd("baseRetryDelayMs",5e3,n),this.bb=yd("retryDelaySeedMs",1e4,n),this.$a=yd("forwardChannelMaxRetries",2,n),this.ta=yd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new WU(n&&n.concurrentRequestLimit),this.Fa=new qle,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function LS(n){if(l2(n),3==n.G){var e=n.U++,t=Ui(n.F);Xe(t,"SID",n.I),Xe(t,"RID",e),Xe(t,"TYPE","terminate"),vd(n,t),(e=new cd(n,n.j,e,void 0)).K=2,e.v=Lg(Ui(t)),t=!1,ne.navigator&&ne.navigator.sendBeacon&&(t=ne.navigator.sendBeacon(e.v.toString(),"")),!t&&ne.Image&&((new Image).src=e.v,t=!0),t||(e.g=_2(e.l,null),e.g.da(e.v)),e.F=Date.now(),ud(e)}g2(n)}function $g(n){n.g&&(BS(n),n.g.cancel(),n.g=null)}function l2(n){$g(n),n.u&&(ne.clearTimeout(n.u),n.u=null),Hg(n),n.h.cancel(),n.m&&("number"==typeof n.m&&ne.clearTimeout(n.m),n.m=null)}function jg(n){KU(n.h)||n.m||(n.m=!0,DU(n.Ja,n),n.C=0)}function c2(n,e){var t;t=e?e.m:n.U++;const r=Ui(n.F);Xe(r,"SID",n.I),Xe(r,"RID",t),Xe(r,"AID",n.T),vd(n,r),n.o&&n.s&&FS(r,n.o,n.s),t=new cd(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=u2(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),OS(n.h,t),xS(t,r,e)}function vd(n,e){n.ia&&dS(n.ia,function(t,r){Xe(e,r,t)}),n.l&&UU({},function(t,r){Xe(e,r,t)})}function u2(n,e,t){t=Math.min(n.i.length,t);var r=n.l?gn(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{Wle(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function d2(n){n.g||n.u||(n.Z=1,DU(n.Ia,n),n.A=0)}function VS(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=ad(gn(n.Ia,n),p2(n,n.A)),n.A++,0))}function BS(n){null!=n.B&&(ne.clearTimeout(n.B),n.B=null)}function h2(n){n.g=new cd(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ui(n.sa);Xe(e,"RID","rpc"),Xe(e,"SID",n.I),Xe(e,"CI",n.L?"0":"1"),Xe(e,"AID",n.T),Xe(e,"TYPE","xmlhttp"),vd(n,e),n.o&&n.s&&FS(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Lg(Ui(e)),t.s=null,t.P=!0,FU(t,n)}function Hg(n){null!=n.v&&(ne.clearTimeout(n.v),n.v=null)}function f2(n,e){var t=null;if(n.g==e){Hg(n),BS(n),n.g=null;var r=2}else{if(!RS(n.h,e))return;t=e.D,QU(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;nn(r=xg(),new kU(r,t)),jg(n)}else d2(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Jle(n,e){return!(YU(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=ad(gn(n.Ja,n,e),p2(n,n.C)),n.C++,0)))}(n,e)||2==r&&VS(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Ao(n,5);break;case 4:Ao(n,10);break;case 3:Ao(n,6);break;default:Ao(n,2)}}function p2(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Ao(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=gn(n.kb,n);t||(t=new To("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||Pg(t,"https"),Lg(t)),function Kle(n,e){const t=new Mg;if(ne.Image){const r=new Image;r.onload=bg(Vg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=bg(Vg,t,r,"TestLoadImage: error",!1,e),r.onabort=bg(Vg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=bg(Vg,t,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else An(2);n.G=0,n.l&&n.l.va(e),g2(n),l2(n)}function g2(n){if(n.G=0,n.la=[],n.l){const e=XU(n.h);(0!=e.length||0!=n.i.length)&&(aU(n.la,e),aU(n.la,n.i),n.h.i.length=0,rS(n.i),n.i.length=0),n.l.ua()}}function m2(n,e,t){var r=t instanceof To?Ui(t):new To(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Fg(r,r.m);else{var i=ne.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new To(null,void 0);r&&Pg(s,r),e&&(s.g=e),i&&Fg(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&Xe(r,t,e),Xe(r,"VER",n.ma),vd(n,r),r}function _2(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new at(t&&n.Da&&!n.ra?new gd({jb:!0}):n.ra)).Ka(n.H),e}function y2(){}function zg(){if(_l&&!(10<=Number(mle)))throw Error("Environmental error: no available transport.")}function rr(n,e){Ut.call(this),this.g=new a2(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Dg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new wl(this)}function v2(n){SS.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function w2(){TS.call(this),this.status=1}function wl(n){this.g=n}(z=at.prototype).Ka=function(n){this.L=n},z.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():AS.g(),this.C=function OU(n){return n.h||(n.h=n.i())}(this.u?this.u:AS),this.g.onreadystatechange=gn(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void e2(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=ne.FormData&&n instanceof ne.FormData,!(0<=oU(Xle,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{r2(this),0<this.B&&((this.K=function Zle(n){return _l&&function gle(){return function dle(n){var e=ple;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=lU(String(Cg)).split("."),t=lU("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=iS(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||iS(0==i[2].length,0==s[2].length)||iS(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.qa,this)):this.A=CS(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){e2(this,s)}},z.qa=function(){typeof tS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nn(this,"timeout"),this.abort(8))},z.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,nn(this,"complete"),nn(this,"abort"),Ug(this))},z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ug(this,!0)),at.X.M.call(this)},z.Ha=function(){this.s||(this.F||this.v||this.l?n2(this):this.fb())},z.fb=function(){n2(this)},z.aa=function(){try{return 2<$i(this)?this.g.status:-1}catch{return-1}},z.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},z.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Yle(e)}},z.Ea=function(){return this.m},z.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(z=a2.prototype).ma=8,z.G=1,z.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new cd(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=fU(s),gU(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=u2(this,i,e),Xe(t=Ui(this.F),"RID",n),Xe(t,"CVER",22),this.D&&Xe(t,"X-HTTP-Session-Id",this.D),vd(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(o2(s)))+"&"+e:this.o&&FS(t,this.o,s)),OS(this.h,i),this.Ya&&Xe(t,"TYPE","init"),this.O?(Xe(t,"$req",e),Xe(t,"SID","null"),i.Z=!0,xS(i,t,null)):xS(i,t,e),this.G=2}}else 3==this.G&&(n?c2(this,n):0==this.i.length||KU(this.h)||c2(this))},z.Ia=function(){if(this.u=null,h2(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=ad(gn(this.eb,this),n)}},z.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,An(10),$g(this),h2(this))},z.cb=function(){null!=this.v&&(this.v=null,$g(this),VS(this),An(19))},z.kb=function(n){n?(this.j.info("Successfully pinged google.com"),An(2)):(this.j.info("Failed to ping google.com"),An(1))},(z=y2.prototype).xa=function(){},z.wa=function(){},z.va=function(){},z.ua=function(){},z.Ra=function(){},zg.prototype.g=function(n,e){return new rr(n,e)},tn(rr,Ut),rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;An(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=m2(n,null,n.V),jg(n)},rr.prototype.close=function(){LS(this.g)},rr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=wS(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&jg(e)},rr.prototype.M=function(){this.g.l=null,delete this.j,LS(this.g),delete this.g,rr.X.M.call(this)},tn(v2,SS),tn(w2,TS),tn(wl,y2),wl.prototype.xa=function(){nn(this.g,"a")},wl.prototype.wa=function(n){nn(this.g,new v2(n))},wl.prototype.va=function(n){nn(this.g,new w2)},wl.prototype.ua=function(){nn(this.g,"b")},zg.prototype.createWebChannel=zg.prototype.g,rr.prototype.send=rr.prototype.u,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,kg.NO_ERROR=0,kg.TIMEOUT=8,kg.HTTP_ERROR=6,RU.COMPLETE="complete",NU.EventType=ld,ld.OPEN="a",ld.CLOSE="b",ld.ERROR="c",ld.MESSAGE="d",Ut.prototype.listen=Ut.prototype.N,at.prototype.listenOnce=at.prototype.O,at.prototype.getLastError=at.prototype.Oa,at.prototype.getLastErrorCode=at.prototype.Ea,at.prototype.getStatus=at.prototype.aa,at.prototype.getResponseJson=at.prototype.Sa,at.prototype.getResponseText=at.prototype.fa,at.prototype.send=at.prototype.da,at.prototype.setWithCredentials=at.prototype.Ka;var ece=Bi.createWebChannelTransport=function(){return new zg},tce=Bi.getStatEventTarget=function(){return xg()},US=Bi.ErrorCode=kg,nce=Bi.EventType=RU,rce=Bi.Event=Io,b2=Bi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ice=Bi.FetchXmlHttpFactory=gd,Gg=Bi.WebChannel=NU,sce=Bi.XhrIo=at;const D2="@firebase/firestore";class $t{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let bl="9.16.0";const _s=new ol("@firebase/firestore");function $S(){return _s.logLevel}function M(n,...e){if(_s.logLevel<=Ee.DEBUG){const t=e.map(jS);_s.debug(`Firestore (${bl}): ${n}`,...t)}}function ft(n,...e){if(_s.logLevel<=Ee.ERROR){const t=e.map(jS);_s.error(`Firestore (${bl}): ${n}`,...t)}}function Dl(n,...e){if(_s.logLevel<=Ee.WARN){const t=e.map(jS);_s.warn(`Firestore (${bl}): ${n}`,...t)}}function jS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function U(n="Unexpected state"){const e=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: `+n;throw ft(e),new Error(e)}function H(n,e){n||U()}function F(n,e){return n}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class E2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($t.UNAUTHENTICATED))}shutdown(){}}class ace{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lce{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(H("string"==typeof r.accessToken),new E2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return H(null===e||"string"==typeof e),new $t(e)}}class cce{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(H(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class uce{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new cce(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dce{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(H("string"==typeof t.token),this.A=t.token,new C2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hce(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class I2{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hce(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function re(n,e){return n<e?-1:n>e?1:0}function El(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class tt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new T(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new T(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new T(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new tt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new tt(0,0))}static max(){return new q(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wd{constructor(e,t,r){void 0===t?t=0:t>e.length&&U(),void 0===r?r=e.length-t:r>e.length-t&&U(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===wd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ce extends wd{construct(e,t,r){return new Ce(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ce(t)}static emptyPath(){return new Ce([])}}const fce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends wd{construct(e,t,r){return new pt(e,t,r)}static isValidIdentifier(e){return fce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new T(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(t)}static emptyPath(){return new pt([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(Ce.fromString(e))}static fromName(e){return new N(Ce.fromString(e).popFirst(5))}static empty(){return new N(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ce.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ce.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new Ce(e.slice()))}}function A2(n){return new ir(n.readTime,n.key,-1)}class ir{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ir(q.min(),N.empty(),-1)}static max(){return new ir(q.max(),N.empty(),-1)}}function zS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=N.comparator(n.documentKey,e.documentKey),0!==t?t:re(n.largestBatchId,e.largestBatchId))}const M2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ys(n){return GS.apply(this,arguments)}function GS(){return GS=m(function*(n){if(n.code!==D.FAILED_PRECONDITION||n.message!==M2)throw n;M("LocalStore","Unexpectedly lost primary lease")}),GS.apply(this,arguments)}class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof b?t:b.resolve(t)}catch(t){return b.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):b.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):b.reject(t)}static resolve(e){return new b((t,r)=>{t(e)})}static reject(e){return new b((t,r)=>{r(e)})}static waitFor(e){return new b((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=b.resolve(!1);for(const r of e)t=t.next(i=>i?b.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new b((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new b((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function vs(n){return"IndexedDbTransactionError"===n.name}let sr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class bce{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ko{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ko("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ko&&e.projectId===this.projectId&&e.database===this.database}}function k2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ro(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function R2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ed(n){return null==n}function Cd(n){return 0===n&&1/n==-1/0}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Pt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const Dce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(n){if(H(!!n),"string"==typeof n){let e=0;const t=Dce.exec(n);if(H(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(n.seconds),nanos:lt(n.nanos)}}function lt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Oo(n){return"string"==typeof n?Pt.fromBase64String(n):Pt.fromUint8Array(n)}function WS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function N2(n){const e=n.mapValue.fields.__previous_value__;return WS(e)?N2(e):e}function Id(n){const e=ws(n.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}const bs_mapValue={fields:{__type__:{stringValue:"__max__"}}};function No(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?WS(n)?4:V2(n)?9007199254740991:10:U()}function si(n,e){if(n===e)return!0;const t=No(n);if(t!==No(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Id(n).isEqual(Id(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ws(r.timestampValue),o=ws(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Oo(n.bytesValue).isEqual(Oo(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return lt(r.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(r.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lt(r.integerValue)===lt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=lt(r.doubleValue),o=lt(i.doubleValue);return s===o?Cd(s)===Cd(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return El(n.arrayValue.values||[],e.arrayValue.values||[],si);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(k2(s)!==k2(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!si(s[a],o[a])))return!1;return!0}(n,e);default:return U()}var i}function Sd(n,e){return void 0!==(n.values||[]).find(t=>si(t,e))}function Ds(n,e){if(n===e)return 0;const t=No(n),r=No(e);if(t!==r)return re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return re(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=lt(i.integerValue||i.doubleValue),a=lt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return P2(n.timestampValue,e.timestampValue);case 4:return P2(Id(n),Id(e));case 5:return re(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Oo(i),a=Oo(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=re(o[l],a[l]);if(0!==c)return c}return re(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=re(lt(i.latitude),lt(s.latitude));return 0!==o?o:re(lt(i.longitude),lt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Ds(o[l],a[l]);if(c)return c}return re(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===bs_mapValue&&s===bs_mapValue)return 0;if(i===bs_mapValue)return 1;if(s===bs_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=re(a[u],c[u]);if(0!==d)return d;const h=Ds(o[a[u]],l[c[u]]);if(0!==h)return h}return re(a.length,c.length)}(n.mapValue,e.mapValue);default:throw U()}}function P2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return re(n,e);const t=ws(n),r=ws(e),i=re(t.seconds,r.seconds);return 0!==i?i:re(t.nanos,r.nanos)}function Cl(n){return KS(n)}function KS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ws(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Oo(n.bytesValue).toBase64():"referenceValue"in n?N.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=KS(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${KS(r.fields[a])}`;return s+"}"}(n.mapValue):U();var e}function YS(n){return!!n&&"integerValue"in n}function Td(n){return!!n&&"arrayValue"in n}function F2(n){return!!n&&"nullValue"in n}function L2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qg(n){return!!n&&"mapValue"in n}function Ad(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ro(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ad(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ad(n.arrayValue.values[t]);return e}return Object.assign({},n)}function V2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Es{constructor(e,t){this.position=e,this.inclusive=t}}function $2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?N.comparator(N.fromName(o.referenceValue),t.key):Ds(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function j2(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!si(n.position[t],e.position[t]))return!1;return!0}class H2{}class ve extends H2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Ice(e,t,r):"array-contains"===t?new Ace(e,r):"in"===t?new Y2(e,r):"not-in"===t?new Mce(e,r):"array-contains-any"===t?new xce(e,r):new ve(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Sce(e,r):new Tce(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ds(t,this.value)):null!==t&&No(this.value)===No(t)&&this.matchesComparison(Ds(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Fe extends H2{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Fe(e,t)}matches(e){return Il(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Il(n){return"and"===n.op}function XS(n){return function z2(n){for(const e of n.filters)if(e instanceof Fe)return!1;return!0}(n)&&Il(n)}function ZS(n){if(n instanceof ve)return n.field.canonicalString()+n.op.toString()+Cl(n.value);if(XS(n))return n.filters.map(e=>ZS(e)).join(",");{const e=n.filters.map(t=>ZS(t)).join(",");return`${n.op}(${e})`}}function G2(n,e){return n instanceof ve?(t=n,(r=e)instanceof ve&&t.op===r.op&&t.field.isEqual(r.field)&&si(t.value,r.value)):n instanceof Fe?function(t,r){return r instanceof Fe&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&G2(s,r.filters[o]),!0)}(n,e):void U();var t,r}function W2(n){return n instanceof ve?`${(e=n).field.canonicalString()} ${e.op} ${Cl(e.value)}`:n instanceof Fe?function(e){return e.op.toString()+" {"+e.getFilters().map(W2).join(" ,")+"}"}(n):"Filter";var e}class Ice extends ve{constructor(e,t,r){super(e,t,r),this.key=N.fromName(r.referenceValue)}matches(e){const t=N.comparator(e.key,this.key);return this.matchesComparison(t)}}class Sce extends ve{constructor(e,t){super(e,"in",t),this.keys=K2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Tce extends ve{constructor(e,t){super(e,"not-in",t),this.keys=K2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function K2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>N.fromName(r.referenceValue))}class Ace extends ve{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Td(t)&&Sd(t.arrayValue,this.value)}}class Y2 extends ve{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sd(this.value.arrayValue,t)}}class Mce extends ve{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sd(this.value.arrayValue,t)}}class xce extends ve{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Td(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Sd(this.value.arrayValue,r))}}class Sl{constructor(e,t="asc"){this.field=e,this.dir=t}}function kce(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ct{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xg(this.root,e,this.comparator,!0)}}class Xg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??rn.RED,this.left=i??rn.EMPTY,this.right=s??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new rn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1,rn.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(n,e,t,r,i){return this}insert(n,e,t){return new rn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Q2(this.data.getIterator())}getIteratorFrom(e){return new Q2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ve(this.comparator);return t.data=e,t}}class Q2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new jn([])}unionWith(e){let t=new Ve(pt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ad(t)}setAll(e){let t=pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Ad(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Qg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ro(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new sn(Ad(this.value))}}function X2(n){const e=[];return Ro(n.fields,(t,r)=>{const i=new pt([t]);if(Qg(r)){const s=X2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jn(e)}class Ke{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ke(e,0,q.min(),q.min(),q.min(),sn.empty(),0)}static newFoundDocument(e,t,r,i){return new Ke(e,1,t,q.min(),r,i,0)}static newNoDocument(e,t){return new Ke(e,2,t,q.min(),q.min(),sn.empty(),0)}static newUnknownDocument(e,t){return new Ke(e,3,t,q.min(),q.min(),sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rce{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function JS(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Rce(n,e,t,r,i,s,o)}function Fo(n){const e=F(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ZS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ed(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Cl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Cl(r)).join(",")),e.ft=t}return e.ft}function Md(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kce(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!G2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!j2(n.startAt,e.startAt)&&j2(n.endAt,e.endAt)}function Zg(n){return N.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ji{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null}}function Al(n){return new ji(n)}function t$(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Lo(n){const e=F(n);if(null===e.dt){e.dt=[];const t=function em(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function e0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Sl(t)),e.dt.push(new Sl(pt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Sl(pt.keyField(),s))}}}return e.dt}function Mn(n){const e=F(n);if(!e._t)if("F"===e.limitType)e._t=JS(e.path,e.collectionGroup,Lo(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Lo(e))t.push(new Sl(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Es(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Es(e.startAt.position,e.startAt.inclusive):null;e._t=JS(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function tm(n,e,t){return new ji(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xd(n,e){return Md(Mn(n),Mn(e))&&n.limitType===e.limitType}function n$(n){return`${Fo(Mn(n))}|lt:${n.limitType}`}function r0(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>W2(r)).join(", ")}]`),Ed(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Cl(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Cl(r)).join(",")),`Target(${t})`}(Mn(n))}; limitType=${n.limitType})`}function s0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):N.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Lo(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=$2(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Lo(t),r)||t.endAt&&!function(i,s,o){const a=$2(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Lo(t),r)));var t,r}function i$(n){return(e,t)=>{let r=!1;for(const i of Lo(n)){const s=Oce(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Oce(n,e,t){const r=n.field.isKeyField()?N.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?Ds(a,l):U()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}function s$(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cd(e)?"-0":e}}function o$(n){return{integerValue:""+n}}function a$(n,e){return function O2(n){return"number"==typeof n&&Number.isInteger(n)&&!Cd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?o$(e):s$(n,e)}class nm{constructor(){this._=void 0}}function Nce(n,e,t){return n instanceof Ml?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Vo?c$(n,e):n instanceof Bo?u$(n,e):function(r,i){const s=l$(r,i),o=d$(s)+d$(r.gt);return YS(s)&&YS(r.gt)?o$(o):s$(r.yt,o)}(n,e)}function Pce(n,e,t){return n instanceof Vo?c$(n,e):n instanceof Bo?u$(n,e):t}function l$(n,e){return n instanceof xl?YS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ml extends nm{}class Vo extends nm{constructor(e){super(),this.elements=e}}function c$(n,e){const t=h$(e);for(const r of n.elements)t.some(i=>si(i,r))||t.push(r);return{arrayValue:{values:t}}}class Bo extends nm{constructor(e){super(),this.elements=e}}function u$(n,e){let t=h$(e);for(const r of n.elements)t=t.filter(i=>!si(i,r));return{arrayValue:{values:t}}}class xl extends nm{constructor(e,t){super(),this.yt=e,this.gt=t}}function d$(n){return lt(n.integerValue||n.doubleValue)}function h$(n){return Td(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Lce{constructor(e,t){this.version=e,this.transformResults=t}}class Ze{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ze}static exists(e){return new Ze(void 0,e)}static updateTime(e){return new Ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class im{}function f$(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Rl(n.key,Ze.none()):new kl(n.key,n.data,Ze.none());{const t=n.data,r=sn.empty();let i=new Ve(pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Hi(n.key,r,new jn(i.toArray()),Ze.none())}}function Vce(n,e,t){n instanceof kl?function(r,i,s){const o=r.value.clone(),a=m$(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Hi?function(r,i,s){if(!rm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=m$(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(g$(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Rd(n,e,t,r){return n instanceof kl?function(i,s,o,a){if(!rm(i.precondition,s))return o;const l=i.value.clone(),c=_$(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Hi?function(i,s,o,a){if(!rm(i.precondition,s))return o;const l=_$(i.fieldTransforms,a,s),c=s.data;return c.setAll(g$(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,rm(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Bce(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=l$(r.transform,i||null);null!=s&&(null===t&&(t=sn.empty()),t.set(r.field,s))}return t||null}function p$(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&El(t,r,(i,s)=>function Fce(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Vo&&r instanceof Vo||t instanceof Bo&&r instanceof Bo?El(t.elements,r.elements,si):t instanceof xl&&r instanceof xl?si(t.gt,r.gt):t instanceof Ml&&r instanceof Ml);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class kl extends im{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hi extends im{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function g$(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function m$(n,e,t){const r=new Map;H(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Pce(o,a,t[i]))}return r}function _$(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Nce(s,o,e))}return r}class Rl extends im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o0 extends im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Uce{constructor(e){this.count=e}}var Dt,Ie;function y$(n){switch(n){default:return U();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function v$(n){if(void 0===n)return ft("GRPC error has no .code"),D.UNKNOWN;switch(n){case Dt.OK:return D.OK;case Dt.CANCELLED:return D.CANCELLED;case Dt.UNKNOWN:return D.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return D.INTERNAL;case Dt.UNAVAILABLE:return D.UNAVAILABLE;case Dt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Dt.NOT_FOUND:return D.NOT_FOUND;case Dt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Dt.ABORTED:return D.ABORTED;case Dt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Dt.DATA_LOSS:return D.DATA_LOSS;default:return U()}}(Ie=Dt||(Dt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class Cs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return R2(this.inner)}size(){return this.innerSize}}const $ce=new ct(N.comparator);function Hn(){return $ce}const w$=new ct(N.comparator);function Od(...n){let e=w$;for(const t of n)e=e.insert(t.key,t);return e}function b$(n){let e=w$;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function oi(){return Nd()}function D$(){return Nd()}function Nd(){return new Cs(n=>n.toString(),(n,e)=>n.isEqual(e))}const jce=new ct(N.comparator),Hce=new Ve(N.comparator);function le(...n){let e=Hce;for(const t of n)e=e.add(t);return e}const zce=new Ve(re);function sm(){return zce}class Pd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Fd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Pd(q.min(),i,sm(),Hn(),le())}}class Fd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Fd(r,t,le(),le(),le())}}class om{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class E${constructor(e,t){this.targetId=e,this.Et=t}}class C${constructor(e,t,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class I${constructor(){this.At=0,this.Rt=T$(),this.bt=Pt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=le(),t=le(),r=le();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:U()}}),new Fd(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=T$()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Gce{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Hn(),this.qt=S$(),this.Ut=new Ve(re)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:U()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const s=i.target;if(Zg(s))if(0===r){const o=new N(s.path);this.Qt(t,o,Ke.newNoDocument(o,q.min()))}else H(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Zg(a.target)){const l=new N(a.target.path);null!==this.Lt.get(l)||this.te(o,l)||this.Qt(o,l,Ke.newNoDocument(l,e))}s.St&&(t.set(o,s.Ct()),s.xt())}});let r=le();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Yt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Pd(e,t,this.Ut,this.Lt,r);return this.Lt=Hn(),this.qt=S$(),this.Ut=new Ve(re),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new I$,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Ve(re),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||M("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new I$),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function S$(){return new ct(N.comparator)}function T$(){return new ct(N.comparator)}const qce={asc:"ASCENDING",desc:"DESCENDING"},Wce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kce={and:"AND",or:"OR"};class Yce{constructor(e,t){this.databaseId=e,this.wt=t}}function Ol(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A$(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Qce(n,e){return Ol(n,e.toTimestamp())}function gt(n){return H(!!n),q.fromTimestamp(function(e){const t=ws(e);return new tt(t.seconds,t.nanos)}(n))}function a0(n,e){return(t=n,new Ce(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function M$(n){const e=Ce.fromString(n);return H(V$(e)),e}function Ld(n,e){return a0(n.databaseId,e.path)}function ai(n,e){const t=M$(e);if(t.get(1)!==n.databaseId.projectId)throw new T(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new T(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new N(k$(t))}function l0(n,e){return a0(n.databaseId,e)}function Vd(n){return new Ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function k$(n){return H(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function R$(n,e,t){return{name:Ld(n,e),fields:t.value.mapValue.fields}}function N$(n,e){return{documents:[l0(n,e.path)]}}function u0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=l0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=l0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return L$(Fe.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Nl((u=c).field),direction:tue(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.wt||Ed(c)?c:{value:c});var c,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function P$(n){let e=function x$(n){const e=M$(n);return 4===e.length?Ce.emptyPath():k$(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){H(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const d=F$(u);return d instanceof Fe&&XS(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new Sl(Pl((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Ed(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new Es((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new Es(u.values||[],!u.before)}(t.endAt)),function e$(n,e,t,r,i,s,o,a){return new ji(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function F$(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Pl(e.unaryFilter.field);return ve.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Pl(e.unaryFilter.field);return ve.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Pl(e.unaryFilter.field);return ve.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Pl(e.unaryFilter.field);return ve.create(s,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(n):void 0!==n.fieldFilter?ve.create(Pl((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Fe.create(e.compositeFilter.filters.map(t=>F$(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return U()}}(e.compositeFilter.op))}(n):U();var e}function tue(n){return qce[n]}function nue(n){return Wce[n]}function rue(n){return Kce[n]}function Nl(n){return{fieldPath:n.canonicalString()}}function Pl(n){return pt.fromServerFormat(n.fieldPath)}function L$(n){return n instanceof ve?function(e){if("=="===e.op){if(L2(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NAN"}};if(F2(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(L2(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NOT_NAN"}};if(F2(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(e.field),op:nue(e.op),value:e.value}}}(n):n instanceof Fe?function(e){const t=e.getFilters().map(r=>L$(r));return 1===t.length?t[0]:{compositeFilter:{op:rue(e.op),filters:t}}}(n):U()}function iue(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function V$(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class h0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Vce(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Rd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=D$();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=f$(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(t,r)=>p$(t,r))&&El(this.baseMutations,e.baseMutations,(t,r)=>p$(t,r))}}class f0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){H(e.mutations.length===r.length);let i=jce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new f0(e,t,r,i)}}class p0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Is{constructor(e,t,r,i,s=q.min(),o=q.min(),a=Pt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class G${constructor(e){this.ie=e}}function g0(n){const e=P$({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?tm(e,e.limit,"L"):e}class Ho{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(lt(e.integerValue));else if("doubleValue"in e){const r=lt(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),Cd(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Oo(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?V2(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):U()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),N.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}Ho.Ie=new Ho;class kue{constructor(){this.Je=new b0}addToCollectionParentIndex(e,t){return this.Je.add(t),b.resolve()}getCollectionParents(e,t){return b.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return b.resolve()}deleteFieldIndex(e,t){return b.resolve()}getDocumentsMatchingTarget(e,t){return b.resolve(null)}getIndexType(e,t){return b.resolve(0)}getFieldIndexes(e,t){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,t){return b.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,t){return b.resolve(ir.min())}updateCollectionGroup(e,t,r){return b.resolve()}updateIndexEntries(e,t){return b.resolve()}}class b0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ve(Ce.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(Ce.comparator)).toArray()}}new Uint8Array(0);class zn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(41943040,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);class Go{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Go(0)}static vn(){return new Go(-1)}}class Vue{constructor(){this.changes=new Cs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?b.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $ue{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gj{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Rd(r.mutation,i,jn.empty(),tt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){const i=oi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Od();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=oi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Hn();const o=Nd(),a=Nd();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof Hi)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),Rd(u.mutation,c,u.mutation.getFieldMask(),tt.now())):o.set(c.key,jn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new $ue(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Nd();let i=new ct((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||jn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||le()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=D$();u.forEach(h=>{if(!s.has(h)){const f=f$(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return b.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return N.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function t0(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):b.resolve(oi());let a=-1,l=s;return o.next(c=>b.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,le())).next(u=>({batchId:a,changes:b$(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new N(t)).next(r=>{let i=Od();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Od();return this.indexManager.getCollectionParents(e,i).next(o=>b.forEach(o,a=>{const l=(c=t,u=a.child(i),new ji(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const c=l.getKey();null===i.get(c)&&(i=i.insert(c,Ke.newInvalidDocument(c)))});let o=Od();return i.forEach((a,l)=>{const c=s.get(a);void 0!==c&&Rd(c.mutation,l,jn.empty(),tt.now()),s0(t,l)&&(o=o.insert(a,l))}),o})}}class jue{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return b.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:gt(r.createTime)}),b.resolve()}getNamedQuery(e,t){return b.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:g0(r.bundledQuery),readTime:gt(r.readTime)}),b.resolve();var r}}class Hue{constructor(){this.overlays=new ct(N.comparator),this.es=new Map}getOverlay(e,t){return b.resolve(this.overlays.get(t))}getOverlays(e,t){const r=oi();return b.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.oe(e,t,s)}),b.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),b.resolve()}getOverlaysForCollection(e,t,r){const i=oi(),s=t.length+1,o=new N(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return b.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ct((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=oi(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=oi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return b.resolve(a)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new p0(t,r));let s=this.es.get(t);void 0===s&&(s=le(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class D0{constructor(){this.ns=new Ve(Ht.ss),this.rs=new Ve(Ht.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ht(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ht(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new N(new Ce([])),r=new Ht(t,e),i=new Ht(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new N(new Ce([])),r=new Ht(t,e),i=new Ht(t,e+1);let s=le();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ht(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ht{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return N.comparator(e.key,t.key)||re(e._s,t._s)}static os(e,t){return re(e._s,t._s)||N.comparator(e.key,t.key)}}class zue{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ve(Ht.ss)}checkEmpty(e){return b.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new h0(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Ht(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,t){return b.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ht(t,0),i=new Ht(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ve(re);return t.forEach(i=>{const s=new Ht(i,0),o=new Ht(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),b.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;N.isDocumentKey(s)||(s=s.child(""));const o=new Ht(new N(s),0);let a=new Ve(re);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l._s)),!0)},o),b.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){H(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return b.forEach(t.mutations,i=>{const s=new Ht(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ht(t,0),i=this.gs.firstAfterOrEqual(r);return b.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return b.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Gue{constructor(e){this.Es=e,this.docs=new ct(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return b.resolve(r?r.document.mutableCopy():Ke.newInvalidDocument(t))}getEntries(e,t){let r=Hn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ke.newInvalidDocument(i))}),b.resolve(r)}getAllFromCollection(e,t,r){let i=Hn();const s=new N(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||zS(A2(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return b.resolve(i)}getAllFromCollectionGroup(e,t,r,i){U()}As(e,t){return b.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new que(this)}getSize(e){return b.resolve(this.size)}}class que extends Vue{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),b.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Wue{constructor(e){this.persistence=e,this.Rs=new Cs(t=>Fo(t),Md),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.bs=0,this.Ps=new D0,this.targetCount=0,this.vs=Go.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),b.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Go(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,b.resolve()}updateTargetData(e,t){return this.Dn(t),b.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return b.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),b.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),b.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return b.resolve(r)}containsKey(e,t){return b.resolve(this.Ps.containsKey(t))}}class mj{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new sr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Wue(this),this.indexManager=new kue,this.remoteDocumentCache=new Gue(r=>this.referenceDelegate.xs(r)),this.yt=new G$(t),this.Ns=new jue(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hue,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new zue(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){M("MemoryPersistence","Starting transaction:",e);const i=new Kue(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return b.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Kue extends mce{constructor(e){super(),this.currentSequenceNumber=e}}class mm{constructor(e){this.persistence=e,this.Fs=new D0,this.$s=null}static Bs(e){return new mm(e)}get Ls(){if(this.$s)return this.$s;throw U()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),b.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),b.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Ls,r=>{const i=N.fromPath(r);return this.qs(e,i).next(s=>{s||t.removeEntry(i,q.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return b.or([()=>b.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class S0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=le(),i=le();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new S0(e,t.fromCache,r,i)}}class yj{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(t$(t))return b.resolve(null);let r=Mn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=tm(t,null,"F"),r=Mn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Fi(t,a);return this.$i(t,c,o,l.readTime)?this.ki(e,tm(t,null,"F")):this.Bi(e,c,t,l)}))})))}Oi(e,t,r,i){return t$(t)||i.isEqual(q.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):($S()<=Ee.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),r0(t)),this.Bi(e,o,t,function T2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new tt(t+1,0):new tt(t,r));return new ir(i,N.empty(),e)}(i,-1)))})}Fi(e,t){let r=new Ve(i$(e));return t.forEach((i,s)=>{s0(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return $S()<=Ee.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",r0(t)),this.Ni.getDocumentsMatchingQuery(e,t,ir.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Que{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new ct(re),this.Ui=new Cs(s=>Fo(s),Md),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gj(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function wj(n,e){return T0.apply(this,arguments)}function T0(){return T0=m(function*(n,e){const t=F(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=le();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),T0.apply(this,arguments)}function Xue(n,e){const t=F(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=b.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);H(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=le();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function bj(n){const e=F(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Zue(n,e){const t=F(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,_;e.targetMismatches.has(d)?f=f.withResumeToken(Pt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),g=f,_=u,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,f))});let l=Hn(),c=le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function Dj(n,e,t){let r=le(),i=le();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Hn();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!r.isEqual(q.min())){const u=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return b.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.qi=i,s))}function Jue(n,e){const t=F(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Vl(n,e){const t=F(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,b.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new Is(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function Bl(n,e,t){return A0.apply(this,arguments)}function A0(){return A0=m(function*(n,e,t){const r=F(n),i=r.qi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!vs(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),A0.apply(this,arguments)}function ym(n,e,t){const r=F(n);let i=q.min(),s=le();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=F(a),d=u.Ui.get(c);return void 0!==d?b.resolve(u.qi.get(d)):u.Cs.getTargetData(l,c)}(r,o,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:q.min(),t?s:le())).next(a=>(function Ij(n,e,t){let r=n.Ki.get(e)||q.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function r$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class O0{constructor(){this.activeTargetIds=sm()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Aj{constructor(){this.Lr=new O0,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new O0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nde{Ur(e){}shutdown(){}}class Mj{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ide{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class sde extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);M("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(M("RestConnection","Received: ",l),l),l=>{throw Dl("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+bl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${rde[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new sce;a.setWithCredentials(!0),a.listenOnce(nce.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case US.NO_ERROR:const c=a.getResponseJson();M("Connection","XHR received:",JSON.stringify(c)),s(c);break;case US.TIMEOUT:M("Connection",'RPC "'+e+'" timed out'),o(new T(D.DEADLINE_EXCEEDED,"Request time out"));break;case US.HTTP_ERROR:const u=a.getStatus();if(M("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const g=p.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(g)>=0?g:D.UNKNOWN}(h.status);o(new T(f,h.message))}else o(new T(D.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new T(D.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{M("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(t,"POST",l,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ece(),o=tce(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new ice({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const l=i.join("");M("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,d=!1;const h=new ide({Hr:p=>{d?M("Connection","Not sending because WebChannel is closed:",p):(u||(M("Connection","Opening WebChannel transport."),c.open(),u=!0),M("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,g,_)=>{p.listen(g,v=>{try{_(v)}catch(C){setTimeout(()=>{throw C},0)}})};return f(c,Gg.EventType.OPEN,()=>{d||M("Connection","WebChannel transport opened.")}),f(c,Gg.EventType.CLOSE,()=>{d||(d=!0,M("Connection","WebChannel transport closed"),h.io())}),f(c,Gg.EventType.ERROR,p=>{d||(d=!0,Dl("Connection","WebChannel transport errored:",p),h.io(new T(D.UNAVAILABLE,"The operation could not be completed")))}),f(c,Gg.EventType.MESSAGE,p=>{var g;if(!d){const _=p.data[0];H(!!_);const C=_.error||(null===(g=_[0])||void 0===g?void 0:g.error);if(C){M("Connection","WebChannel received error:",C);const w=C.status;let x=function(B){const _e=Dt[B];if(void 0!==_e)return v$(_e)}(w),$=C.message;void 0===x&&(x=D.INTERNAL,$="Unknown error status: "+w+" with message "+C.message),d=!0,h.io(new T(x,$)),c.close()}else M("Connection","WebChannel received:",_),h.ro(_)}}),f(o,rce.STAT_EVENT,p=>{p.stat===b2.PROXY?M("Connection","Detected buffering proxy"):p.stat===b2.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function bm(){return typeof document<"u"?document:null}function Kd(n){return new Yce(n,!0)}class P0{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class kj{constructor(e,t,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new P0(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return m(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return m(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return m(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===D.RESOURCE_EXHAUSTED?(ft(t.toString()),ft("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===D.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new T(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(m(function*(){e.state=0,e.start()}))}Qo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ode extends kj{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.yt=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Zce(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:U(),i=e.targetChange.targetIds||[],s=function(l,c){return l.wt?(H(void 0===c||"string"==typeof c),Pt.fromBase64String(c||"")):(H(void 0===c||c instanceof Uint8Array),Pt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?D.UNKNOWN:v$(l.code);return new T(c,l.message||"")}(o);t=new C$(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ai(n,r.document.name),s=gt(r.document.updateTime),o=r.document.createTime?gt(r.document.createTime):q.min(),a=new sn({mapValue:{fields:r.document.fields}}),l=Ke.newFoundDocument(i,s,o,a);t=new om(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=ai(n,r.document),s=r.readTime?gt(r.readTime):q.min(),o=Ke.newNoDocument(i,s);t=new om([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ai(n,r.document);t=new om([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return U();{const r=e.filter,s=new Uce(r.count||0);t=new E$(r.targetId,s)}}var l;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?gt(s.readTime):q.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Vd(this.yt),t.addTarget=function(i,s){let o;const a=s.target;return o=Zg(a)?{documents:N$(i,a)}:{query:u0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=A$(i,s.resumeToken):s.snapshotVersion.compareTo(q.min())>0&&(o.readTime=Ol(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function eue(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return U()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Vd(this.yt),t.removeTarget=e,this.Bo(t)}}class ade extends kj{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(H(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Jce(n,e){return n&&n.length>0?(H(void 0!==e),n.map(t=>function(r,i){let s=gt(r.updateTime?r.updateTime:i);return s.isEqual(q.min())&&(s=gt(i)),new Lce(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=gt(e.commitTime);return this.listener.Zo(r,t)}return H(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Vd(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Bd(n,e){let t;if(e instanceof kl)t={update:R$(n,e.key,e.value)};else if(e instanceof Rl)t={delete:Ld(n,e.key)};else if(e instanceof Hi)t={update:R$(n,e.key,e.data),updateMask:iue(e.fieldMask)};else{if(!(e instanceof o0))return U();t={verify:Ld(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ml)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Vo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof xl)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw U()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Qce(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:U()),t;var i}(this.yt,r))};this.Bo(t)}}class lde extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new T(D.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(D.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(D.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class ude{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ft(t),this.ou=!1):M("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class dde{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{r.enqueueAndForget(m(function*(){var l;zi(o)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(l=m(function*(c){const u=F(c);u._u.add(4),yield Ul(u),u.gu.set("Unknown"),u._u.delete(4),yield Yd(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.gu=new ude(r,i)}}function Yd(n){return L0.apply(this,arguments)}function L0(){return L0=m(function*(n){if(zi(n))for(const e of n.wu)yield e(!0)}),L0.apply(this,arguments)}function Ul(n){return V0.apply(this,arguments)}function V0(){return V0=m(function*(n){for(const e of n.wu)yield e(!1)}),V0.apply(this,arguments)}function Dm(n,e){const t=F(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),$0(t)?U0(t):jl(t).ko()&&B0(t,e))}function Qd(n,e){const t=F(n),r=jl(t);t.du.delete(e),r.ko()&&Rj(t,e),0===t.du.size&&(r.ko()?r.Fo():zi(t)&&t.gu.set("Unknown"))}function B0(n,e){n.yu.Ot(e.targetId),jl(n).zo(e)}function Rj(n,e){n.yu.Ot(e),jl(n).Ho(e)}function U0(n){n.yu=new Gce({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),jl(n).start(),n.gu.uu()}function $0(n){return zi(n)&&!jl(n).No()&&n.du.size>0}function zi(n){return 0===F(n)._u.size}function Oj(n){n.yu=void 0}function hde(n){return j0.apply(this,arguments)}function j0(){return j0=m(function*(n){n.du.forEach((e,t)=>{B0(n,e)})}),j0.apply(this,arguments)}function fde(n,e){return H0.apply(this,arguments)}function H0(){return H0=m(function*(n,e){Oj(n),$0(n)?(n.gu.hu(e),U0(n)):n.gu.set("Unknown")}),H0.apply(this,arguments)}function pde(n,e,t){return z0.apply(this,arguments)}function z0(){return z0=m(function*(n,e,t){if(n.gu.set("Online"),e instanceof C$&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Em(n,r)}else if(e instanceof om?n.yu.Kt(e):e instanceof E$?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(q.min()))try{const r=yield bj(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(l);c&&i.du.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Pt.EMPTY_BYTE_STRING,l.snapshotVersion)),Rj(i,a);const c=new Is(l.target,a,1,l.sequenceNumber);B0(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){M("RemoteStore","Failed to raise snapshot:",r),yield Em(n,r)}var r}),z0.apply(this,arguments)}function Em(n,e,t){return G0.apply(this,arguments)}function G0(){return G0=m(function*(n,e,t){if(!vs(e))throw e;n._u.add(1),yield Ul(n),n.gu.set("Offline"),t||(t=()=>bj(n.localStore)),n.asyncQueue.enqueueRetryable(m(function*(){M("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Yd(n)}))}),G0.apply(this,arguments)}function Nj(n,e){return e().catch(t=>Em(n,t,e))}function $l(n){return q0.apply(this,arguments)}function q0(){return q0=m(function*(n){const e=F(n),t=Ms(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;gde(e);)try{const i=yield Jue(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,mde(e,i)}catch(i){yield Em(e,i)}Pj(e)&&Fj(e)}),q0.apply(this,arguments)}function gde(n){return zi(n)&&n.fu.length<10}function mde(n,e){n.fu.push(e);const t=Ms(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Pj(n){return zi(n)&&!Ms(n).No()&&n.fu.length>0}function Fj(n){Ms(n).start()}function _de(n){return W0.apply(this,arguments)}function W0(){return W0=m(function*(n){Ms(n).eu()}),W0.apply(this,arguments)}function yde(n){return K0.apply(this,arguments)}function K0(){return K0=m(function*(n){const e=Ms(n);for(const t of n.fu)e.Xo(t.mutations)}),K0.apply(this,arguments)}function vde(n,e,t){return Y0.apply(this,arguments)}function Y0(){return Y0=m(function*(n,e,t){const r=n.fu.shift(),i=f0.from(r,e,t);yield Nj(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield $l(n)}),Y0.apply(this,arguments)}function wde(n,e){return Q0.apply(this,arguments)}function Q0(){return Q0=m(function*(n,e){var t;e&&Ms(n).Yo&&(yield(t=m(function*(r,i){if(y$(s=i.code)&&s!==D.ABORTED){const o=r.fu.shift();Ms(r).Mo(),yield Nj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield $l(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),Pj(n)&&Fj(n)}),Q0.apply(this,arguments)}function Lj(n,e){return X0.apply(this,arguments)}function X0(){return X0=m(function*(n,e){const t=F(n);t.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=zi(t);t._u.add(3),yield Ul(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Yd(t)}),X0.apply(this,arguments)}function J0(){return J0=m(function*(n,e){const t=F(n);e?(t._u.delete(2),yield Yd(t)):e||(t._u.add(2),yield Ul(t),t.gu.set("Unknown"))}),J0.apply(this,arguments)}function jl(n){return n.pu||(n.pu=function(e,t,r){const i=F(e);return i.su(),new ode(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:hde.bind(null,n),Zr:fde.bind(null,n),Wo:pde.bind(null,n)}),n.wu.push(function(){var e=m(function*(t){t?(n.pu.Mo(),$0(n)?U0(n):n.gu.set("Unknown")):(yield n.pu.stop(),Oj(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ms(n){return n.Iu||(n.Iu=function(e,t,r){const i=F(e);return i.su(),new ade(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:_de.bind(null,n),Zr:wde.bind(null,n),tu:yde.bind(null,n),Zo:vde.bind(null,n)}),n.wu.push(function(){var e=m(function*(t){t?(n.Iu.Mo(),yield $l(n)):(yield n.Iu.stop(),n.fu.length>0&&(M("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class eT{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new eT(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hl(n,e){if(ft("AsyncQueue",`${e}: ${n}`),vs(n))return new T(D.UNAVAILABLE,`${e}: ${n}`);throw n}class zl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||N.comparator(t.key,r.key):(t,r)=>N.comparator(t.key,r.key),this.keyedMap=Od(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new zl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Vj{constructor(){this.Tu=new ct(N.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):U():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Gl{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Gl(e,t,zl.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class bde{constructor(){this.Au=void 0,this.listeners=[]}}class Dde{constructor(){this.queries=new Cs(e=>n$(e),xd),this.onlineState="Unknown",this.Ru=new Set}}function nT(){return nT=m(function*(n,e){const t=F(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new bde),i)try{s.Au=yield t.onListen(r)}catch(o){const a=Hl(o,`Initialization of query '${r0(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&sT(t)}),nT.apply(this,arguments)}function iT(){return iT=m(function*(n,e){const t=F(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),iT.apply(this,arguments)}function Ede(n,e){const t=F(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&sT(t)}function Cde(n,e,t){const r=F(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function sT(n){n.Ru.forEach(e=>{e.next()})}class oT{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Gl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class $j{constructor(e){this.key=e}}class jj{constructor(e){this.key=e}}class Hj{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=le(),this.mutatedKeys=le(),this.Gu=i$(e),this.Qu=new zl(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new Vj,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=s0(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.Gu(f,l)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return f(d)-f(h)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(r);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,0!==s.length||l?{snapshot:new Gl(this.query,e.Qu,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Vj,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=le(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new jj(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new $j(r))}),t}tc(e){this.qu=e.Hi,this.Ku=le();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Gl.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Tde{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ade{constructor(e){this.key=e,this.nc=!1}}class Mde{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Cs(a=>n$(a),xd),this.rc=new Map,this.oc=new Set,this.uc=new ct(N.comparator),this.cc=new Map,this.ac=new D0,this.hc={},this.lc=new Map,this.fc=Go.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function xde(n,e){return aT.apply(this,arguments)}function aT(){return aT=m(function*(n,e){const t=xT(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield Vl(t.localStore,Mn(e));t.isPrimaryClient&&Dm(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield lT(t,e,r,"current"===a,o.resumeToken)}return i}),aT.apply(this,arguments)}function lT(n,e,t,r,i){return cT.apply(this,arguments)}function cT(){return cT=m(function*(n,e,t,r,i){n._c=(d,h,f)=>{return(p=m(function*(g,_,v,C){let w=_.view.Wu(v);w.$i&&(w=yield ym(g.localStore,_.query,!1).then(({documents:B})=>_.view.Wu(B,w)));const x=C&&C.targetChanges.get(_.targetId),$=_.view.applyChanges(w,g.isPrimaryClient,x);return vT(g,_.targetId,$.Xu),$.snapshot}),function(g,_,v,C){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield ym(n.localStore,e,!0),o=new Hj(e,s.Hi),a=o.Wu(s.documents),l=Fd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);vT(n,t,c.Xu);const u=new Tde(e,t,o);return n.ic.set(e,u),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),c.snapshot}),cT.apply(this,arguments)}function kde(n,e){return uT.apply(this,arguments)}function uT(){return uT=m(function*(n,e){const t=F(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!xd(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Bl(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Qd(t.remoteStore,r.targetId),ql(t,r.targetId)}).catch(ys))):(ql(t,r.targetId),yield Bl(t.localStore,r.targetId,!0))}),uT.apply(this,arguments)}function dT(){return dT=m(function*(n,e,t){const r=kT(n);try{const i=yield function(s,o){const a=F(s),l=tt.now(),c=o.reduce((h,f)=>h.add(f.key),le());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Hn(),p=le();return a.Gi.getEntries(h,c).next(g=>{f=g,f.forEach((_,v)=>{v.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{u=g;const _=[];for(const v of o){const C=Bce(v,u.get(v.key).overlayedDocument);null!=C&&_.push(new Hi(v.key,C,X2(C.value.mapValue),Ze.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,_,o)}).next(g=>{d=g;const _=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,_)})}).then(()=>({batchId:d.batchId,changes:b$(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new ct(re)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Gi(r,i.changes),yield $l(r.remoteStore)}catch(i){const s=Hl(i,"Failed to persist write");t.reject(s)}}),dT.apply(this,arguments)}function zj(n,e){return hT.apply(this,arguments)}function hT(){return hT=m(function*(n,e){const t=F(n);try{const r=yield Zue(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&(H(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?H(o.nc):i.removedDocuments.size>0&&(H(o.nc),o.nc=!1))}),yield Gi(t,r,e)}catch(r){yield ys(r)}}),hT.apply(this,arguments)}function Gj(n,e,t){const r=F(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=F(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.bu(o)&&(l=!0)}),l&&sT(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ode(n,e,t){return fT.apply(this,arguments)}function fT(){return fT=m(function*(n,e,t){const r=F(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new ct(N.comparator);o=o.insert(s,Ke.newNoDocument(s,q.min()));const a=le().add(s),l=new Pd(q.min(),new Map,new Ve(re),o,a);yield zj(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),wT(r)}else yield Bl(r.localStore,e,!1).then(()=>ql(r,e,t)).catch(ys)}),fT.apply(this,arguments)}function Nde(n,e){return pT.apply(this,arguments)}function pT(){return pT=m(function*(n,e){const t=F(n),r=e.batch.batchId;try{const i=yield Xue(t.localStore,e);yT(t,r,null),_T(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Gi(t,i)}catch(i){yield ys(i)}}),pT.apply(this,arguments)}function Pde(n,e,t){return gT.apply(this,arguments)}function gT(){return gT=m(function*(n,e,t){const r=F(n);try{const i=yield function(s,o){const a=F(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(H(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);yT(r,e,t),_T(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Gi(r,i)}catch(i){yield ys(i)}}),gT.apply(this,arguments)}function _T(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function yT(n,e,t){const r=F(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function ql(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||qj(n,r)})}function qj(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Qd(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),wT(n))}function vT(n,e,t){for(const r of t)r instanceof $j?(n.ac.addReference(r.key,e),Lde(n,r)):r instanceof jj?(M("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||qj(n,r.key)):U()}function Lde(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(M("SyncEngine","New document in limbo: "+t),n.oc.add(r),wT(n))}function wT(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new N(Ce.fromString(e)),r=n.fc.next();n.cc.set(r,new Ade(t)),n.uc=n.uc.insert(t,r),Dm(n.remoteStore,new Is(Mn(Al(t.path)),r,2,sr.at))}}function Gi(n,e,t){return bT.apply(this,arguments)}function bT(){return bT=m(function*(n,e,t){const r=F(n),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=S0.Ci(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=m(function*(l,c){const u=F(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(c,h=>b.forEach(h.Si,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>b.forEach(h.Di,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!vs(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.qi.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.qi=u.qi.insert(h,g)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),bT.apply(this,arguments)}function Vde(n,e){return DT.apply(this,arguments)}function DT(){return DT=m(function*(n,e){const t=F(n);if(!t.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=yield wj(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(o=>{o.forEach(a=>{a.reject(new T(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gi(t,r.ji)}var i}),DT.apply(this,arguments)}function Bde(n,e){const t=F(n),r=t.cc.get(e);if(r&&r.nc)return le().add(r.key);{let i=le();const s=t.rc.get(e);if(!s)return i;for(const o of s){const a=t.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function xT(n){const e=F(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ode.bind(null,e),e.sc.Wo=Ede.bind(null,e.eventManager),e.sc.wc=Cde.bind(null,e.eventManager),e}function kT(n){const e=F(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pde.bind(null,e),e}class Kde{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.yt=Kd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function vj(n,e,t,r){return new Que(n,e,t,r)}(this.persistence,new yj,e.initialUser,this.yt)}yc(e){return new mj(mm.Bs,this.yt)}gc(e){return new Aj}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class RT{initialize(e,t){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Gj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Vde.bind(null,r.syncEngine),yield function Z0(n,e){return J0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Dde}createDatastore(e){const t=Kd(e.databaseInfo.databaseId),r=new sde(e.databaseInfo);return new lde(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Gj(this.syncEngine,a,0),o=Mj.C()?new Mj:new nde,new dde(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new Mde(r,i,s,o,a,l);return c&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=m(function*(t){const r=F(t);M("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Ul(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function OT(n,e,t){if(!t)throw new T(D.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Yj(n){if(!N.isDocumentKey(n))throw new T(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Qj(n){if(N.isDocumentKey(n))throw new T(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Cm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":U()}function be(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new T(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cm(n);throw new T(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const Zj=new Map;class Jj{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new T(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Xde(n,e,t,r){if(!0===e&&!0===r)throw new T(D.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jj(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new oce;switch(t.type){case"gapi":return new uce(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new T(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Zj.get(e);t&&(M("ComponentProvider","Removing Datastore"),Zj.delete(e),t.terminate())}(this),Promise.resolve()}}class mt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}}class on{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new on(this.firestore,e,this._query)}}class ci extends on{constructor(e,t,r){super(e,t,Al(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new N(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function eH(n,e,...t){if(n=Vn(n),OT("collection","path",e),n instanceof Xd){const r=Ce.fromString(e,...t);return Qj(r),new ci(n,null,r)}{if(!(n instanceof mt||n instanceof ci))throw new T(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ce.fromString(e,...t));return Qj(r),new ci(n.firestore,null,r)}}function tH(n,e,...t){if(n=Vn(n),1===arguments.length&&(e=I2.R()),OT("doc","path",e),n instanceof Xd){const r=Ce.fromString(e,...t);return Yj(r),new mt(n,null,new N(r))}{if(!(n instanceof mt||n instanceof ci))throw new T(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ce.fromString(e,...t));return Yj(r),new mt(n.firestore,n instanceof ci?n.converter:null,new N(r))}}class Im{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ft("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ihe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=I2.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){M("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Hl(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function iH(n,e){return NT.apply(this,arguments)}function NT(){return NT=m(function*(n,e){n.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield wj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),NT.apply(this,arguments)}function sH(n,e){return PT.apply(this,arguments)}function PT(){return PT=m(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield FT(n);M("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Lj(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Lj(e.remoteStore,s)),n.onlineComponents=e}),PT.apply(this,arguments)}function FT(n){return LT.apply(this,arguments)}function LT(){return LT=m(function*(n){return n.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),yield iH(n,new Kde)),n.offlineComponents}),LT.apply(this,arguments)}function Sm(n){return VT.apply(this,arguments)}function VT(){return VT=m(function*(n){return n.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),yield sH(n,new RT)),n.onlineComponents}),VT.apply(this,arguments)}function Wl(n){return $T.apply(this,arguments)}function $T(){return $T=m(function*(n){const e=yield Sm(n),t=e.eventManager;return t.onListen=xde.bind(null,e.syncEngine),t.onUnlisten=kde.bind(null,e.syncEngine),t}),$T.apply(this,arguments)}class hhe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new P0(this,"async_queue_retry"),this.Wc=()=>{const t=bm();t&&M("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=bm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=bm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Nt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return m(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!vs(t))throw t;M("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,ft("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=eT.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&U()}verifyOperationInProgress(){}Xc(){var e=this;return m(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function jT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Ye extends Xd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new hhe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||uH(this),this._firestoreClient.terminate()}}function phe(n,e){const r="string"==typeof n?n:e||"(default)",i=al("object"==typeof n?n:Kb(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=bL("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();s&&function Zde(n,e,t,r={}){var i;const s=(n=be(n,Xd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Dl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=$t.MOCK_USER;else{o=function dee(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rp(JSON.stringify({alg:"none",type:"JWT"})),Rp(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new T(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new $t(l)}n._authCredentials=new ace(new E2(o,a))}}(i,...s)}return i}function Et(n){return n._firestoreClient||uH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function uH(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new bce(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new ihe(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(Pt.fromBase64String(e))}catch(t){throw new T(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wo(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Kl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new T(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fH{constructor(e){this._methodName=e}}class HT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new T(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new T(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}const ghe=/^__.*__$/;class mhe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Hi(e,this.data,this.fieldMask,t,this.fieldTransforms):new kl(e,this.data,t,this.fieldTransforms)}}function gH(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class Am{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return xm(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(gH(this.sa)&&ghe.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class _he{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Kd(e)}da(e,t,r,i=!1){return new Am({sa:e,methodName:t,fa:r,path:pt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Yl(n){const e=n._freezeSettings(),t=Kd(n._databaseId);return new _he(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zT(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);qT("Data must be an object, but it was:",o,r);const a=wH(r,o);let l,c;if(s.merge)l=new jn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=WT(e,d,t);if(!o.contains(h))throw new T(D.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);DH(u,h)||u.push(h)}l=new jn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new mhe(new sn(a),l,c)}function Ko(n,e){if(bH(n=Vn(n)))return qT("Unsupported field value:",e,n),wH(n,e);if(n instanceof fH)return function(t,r){if(!gH(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Ko(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Vn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return a$(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=tt.fromDate(t);return{timestampValue:Ol(r.yt,i)}}if(t instanceof tt){const i=new tt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ol(r.yt,i)}}if(t instanceof HT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wo)return{bytesValue:A$(r.yt,t._byteString)};if(t instanceof mt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:a0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Cm(t)}`)}(n,e)}function wH(n,e){const t={};return R2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(n,(r,i)=>{const s=Ko(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function bH(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof HT||n instanceof Wo||n instanceof mt||n instanceof fH)}function qT(n,e,t){if(!bH(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Cm(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function WT(n,e,t){if((e=Vn(e))instanceof Kl)return e._internalPath;if("string"==typeof e)return Mm(n,e);throw xm("Field path arguments must be of type string or ",n,!1,void 0,t)}const bhe=new RegExp("[~\\*/\\[\\]]");function Mm(n,e,t){if(e.search(bhe)>=0)throw xm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Kl(...e.split("."))._internalPath}catch{throw xm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xm(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new T(D.INVALID_ARGUMENT,a+n+l)}function DH(n,e){return n.some(t=>t.isEqual(e))}class KT{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(km("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Dhe extends KT{data(){return super.data()}}function km(n,e){return"string"==typeof e?Mm(n,e):e instanceof Kl?e._internalPath:e._delegate._internalPath}class Che{convertValue(e,t="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw U()}}convertObject(e,t){const r={};return Ro(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new HT(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=N2(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Id(e));default:return null}}convertTimestamp(e){const t=ws(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ce.fromString(e);H(V$(r));const i=new ko(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(t)||ft(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Yo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xl extends KT{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(km("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Pm extends Xl{data(e={}){return super.data(e)}}class Zl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Yo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Pm(this._firestore,this._userDataWriter,r.key,r,new Yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new T(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Pm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Yo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Pm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Yo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Ihe(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ihe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}class xs extends Che{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}function She(n){return eh(be(n.firestore,Ye),[new Rl(n._key,Ze.none())])}function eh(n,e){return function(t,r){const i=new Nt;return t.asyncQueue.enqueueAndForget(m(function*(){return function Rde(n,e,t){return dT.apply(this,arguments)}(yield function UT(n){return Sm(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Et(n),e)}!function(n,e=!0){bl=ll,Sn(new pn("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Ye(new lce(t.getProvider("auth-internal")),new dce(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ot(D2,"3.8.1",n),ot(D2,"3.8.1","esm2017")}();var Rhe={includeMetadataChanges:!1};function ZT(n,e){return void 0===e&&(e=Rhe),new xe(function(t){var r=function Ahe(n,...e){var t,r,i;n=Vn(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||jT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(jT(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof mt)c=be(n.firestore,Ye),u=Al(n._key.path),l={next:d=>{e[o]&&e[o](function XT(n,e,t){const r=t.docs.get(e._key),i=new xs(n);return new Xl(n,i,e._key,r,new Yo(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=be(n,on);c=be(d.firestore,Ye),u=d._query;const h=new xs(c);l={next:f=>{e[o]&&e[o](new Zl(c,h,d,f))},error:e[o+1],complete:e[o+2]},function EH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new T(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const g=new Im(p),_=new oT(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function tT(n,e){return nT.apply(this,arguments)}(yield Wl(d),_)})),()=>{g.bc(),d.asyncQueue.enqueueAndForget(m(function*(){return function rT(n,e){return iT.apply(this,arguments)}(yield Wl(d),_)}))}}(Et(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Bhe(n,e){return void 0===e&&(e={}),function Vhe(n){return ZT(n,{includeMetadataChanges:!0}).pipe(he(function(e){return e.docs}))}(n).pipe(he(function(t){return t.map(function(r){return function kH(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Lm{constructor(e){return e}}const PH="firestore",tA=new k("angularfire2.firestore-instances");function jhe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Lm(r)}}const Hhe={provide:class Uhe{constructor(){return NE(PH)}},deps:[[new Kt,tA]]},zhe={provide:Lm,useFactory:function $he(n,e){const t=OE(PH,n,e);return t&&new Lm(t)},deps:[[new Kt,tA],fl]};let Ghe=(()=>{class n{constructor(){ot("angularfire",Xp.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({providers:[zhe,Hhe]}),n})();const Whe=ju(Bhe,!0),Khe=ju(She,!0),Yhe=ju(phe,!0);class Jl{constructor(e){this.firestore=e}addProduct(e){return function The(n,e){const t=be(n.firestore,Ye),r=tH(n),i=function QT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return eh(t,[zT(Yl(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ze.exists(!1))]).then(()=>r)}(eH(this.firestore,"tienda"),e)}getFacrmacia(){const e=eH(this.firestore,"tienda");return Whe(e,{idField:"id"})}deletedFarmacia(e){const t=tH(this.firestore,`tienda/${e.id}`);return Khe(t)}}Jl.\u0275fac=function(e){return new(e||Jl)(E(Lm))},Jl.\u0275prov=P({token:Jl,factory:Jl.\u0275fac,providedIn:"root"});class ec{constructor(e){this.tienda=e,this.formRegister=new Ip({codigo:new Lu,producto:new Lu,costo:new Lu})}ngOnInit(){}registrar(){console.log(this.formRegister.value);const e=this.tienda.addProduct(this.formRegister.value);console.log(e)}}function FH(n,e=0){return function Qhe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Vm(n){return Array.isArray(n)?n:[n]}function Ct(n){return null==n?"":"string"==typeof n?n:`${n}px`}function tc(n){return n instanceof Ne?n.nativeElement:n}ec.\u0275fac=function(e){return new(e||ec)(y(Jl))},ec.\u0275cmp=_t({type:ec,selectors:[["app-registro"]],decls:33,vars:1,consts:[[1,"registro"],[1,"text-center","fs-1"],[3,"formGroup"],[1,"row"],[1,"col-2","col-ms-12"],["for","producto"],[1,"col-10"],["type","number","formControlName","codigo","id","codigo",1,"form-control"],["type","text","formControlName","producto","id","producto",1,"form-control"],[1,"col-2"],["for","costo"],["type","number","formControlName","costo","id","costo",1,"form-control"],[1,""],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(He(0,"div",0)(1,"h1",1),Tt(2,"Articulo"),ze(),Zn(3,"hr")(4,"br"),He(5,"form",2)(6,"div",3)(7,"div",4)(8,"label",5)(9,"b"),Tt(10,"Codigo:"),ze()()(),He(11,"div",6),Zn(12,"input",7),ze()(),Zn(13,"br"),He(14,"div",3)(15,"div",4)(16,"label",5)(17,"b"),Tt(18,"Producto:"),ze()()(),He(19,"div",6),Zn(20,"input",8),ze()(),Zn(21,"br"),He(22,"div",3)(23,"div",9)(24,"label",10)(25,"b"),Tt(26,"Costo:"),ze()()(),He(27,"div",6),Zn(28,"input",11),ze()(),Zn(29,"br"),He(30,"div",12)(31,"button",13),Pn("click",function(){return t.registrar()}),Tt(32,"Registrar"),ze()()()()),2&e&&(Ws(5),yv("formGroup",t.formRegister))},dependencies:[eL,vp,Cb,BF,UF,kp,Ab],styles:[".registro[_ngcontent-%COMP%]{background-color:#f0f8ff;padding:15px;width:1100px;height:900px}"]});const Xhe=["addListener","removeListener"],Zhe=["addEventListener","removeEventListener"],Jhe=["on","off"];function Bm(n,e,t,r){if(we(t)&&(r=t,t=void 0),r)return Bm(n,e,t).pipe(Ow(r));const[i,s]=function nfe(n){return we(n.addEventListener)&&we(n.removeEventListener)}(n)?Zhe.map(o=>a=>n[o](e,a,t)):function efe(n){return we(n.addListener)&&we(n.removeListener)}(n)?Xhe.map(LH(n,e)):function tfe(n){return we(n.on)&&we(n.off)}(n)?Jhe.map(LH(n,e)):[];if(!i&&O_(n))return Ft(o=>Bm(o,e,t))(kn(n));if(!i)throw new TypeError("Invalid event target");return new xe(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function LH(n,e){return t=>r=>n[t](e,r)}const nh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=nh;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Gt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=nh;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=nh;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},sfe=new class ife extends Yp{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class rfe extends Kp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=nh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(nh.cancelAnimationFrame(t),e._scheduled=void 0)}});let nA,ofe=1;const Um={};function VH(n){return n in Um&&(delete Um[n],!0)}const afe={setImmediate(n){const e=ofe++;return Um[e]=!0,nA||(nA=Promise.resolve()),nA.then(()=>VH(e)&&n()),e},clearImmediate(n){VH(n)}},{setImmediate:lfe,clearImmediate:cfe}=afe,$m={setImmediate(...n){const{delegate:e}=$m;return(e?.setImmediate||lfe)(...n)},clearImmediate(n){const{delegate:e}=$m;return(e?.clearImmediate||cfe)(n)},delegate:void 0},hfe=new class dfe extends Yp{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class ufe extends Kp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=$m.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&($m.clearImmediate(t),e._scheduled=void 0)}});function rA(n,e=Qp){return function ffe(n){return rt((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(Qe(t,c=>{r=!0,i=c,s||kn(n(c)).subscribe(s=Qe(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function gfe(n=0,e,t=fie){let r=-1;return null!=e&&(IM(e)?t=e:r=e),new xe(i=>{let s=function pfe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}function ui(n){return rt((e,t)=>{kn(n).subscribe(Qe(t,()=>t.complete(),S_)),!t.closed&&e.subscribe(t)})}let iA;try{iA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{iA=!1}let rh,Hm,Qo,sA,br=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function hY(n){return n===MP}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!iA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(E(au))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jm(n){return function mfe(){if(null==rh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>rh=!0}))}finally{rh=rh||!1}return rh}()?n:!!n.capture}function UH(){if(null==Qo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Qo=!1,Qo;if("scrollBehavior"in document.documentElement.style)Qo=!0;else{const n=Element.prototype.scrollTo;Qo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Qo}function ih(){if("object"!=typeof document||!document)return 0;if(null==Hm){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Hm=0,0===n.scrollLeft&&(n.scrollLeft=1,Hm=0===n.scrollLeft?1:2),n.remove()}return Hm}function oA(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function ks(n){return n.composedPath?n.composedPath()[0]:n.target}function aA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const vfe=new k("cdk-dir-doc",{providedIn:"root",factory:function wfe(){return pe(ye)}}),bfe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Xo=(()=>{class n{constructor(t){this.value="ltr",this.change=new Ge,t&&(this.value=function Dfe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?bfe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(E(vfe,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({}),n})();const Efe=["contentWrapper"],Cfe=["*"],Ife=new k("VIRTUAL_SCROLL_STRATEGY");let zm=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ae,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new xe(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(rA(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):W()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ln(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=tc(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Bm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(E(te),E(br),E(ye,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$H=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new Ae,this._elementScrolled=new xe(o=>this.ngZone.runOutsideAngular(()=>Bm(this.elementRef.nativeElement,"scroll").pipe(ui(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=ih()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==ih()?t.left=t.right:1==ih()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;UH()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?i:r:"end"==t&&(t=o?r:i),o&&2==ih()?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==ih()?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(zm),y(te),y(Xo,8))},n.\u0275dir=R({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Gm=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ae,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(rA(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(E(br),E(te),E(ye,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jH=new k("VIRTUAL_SCROLLABLE");let Afe=(()=>{class n extends $H{constructor(t,r,i,s){super(t,r,i,s)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(zm),y(te),y(Xo,8))},n.\u0275dir=R({type:n,features:[G]}),n})();const xfe=typeof requestAnimationFrame<"u"?sfe:hfe;let kfe=(()=>{class n extends Afe{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=function th(n){return null!=n&&"false"!=`${n}`}(t)}constructor(t,r,i,s,o,a,l,c){super(t,a,i,o),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=s,this.scrollable=c,this._platform=pe(br),this._detachedSubject=new Ae,this._renderedRangeSubject=new Ae,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new xe(u=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Gt.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(_u(null),rA(0,xfe)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(ui(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function Mfe(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const s="horizontal"==this.orientation,o=s?"X":"Y";let l=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",s="right",o="rtl"==this.dir?.value;r="start"==t?o?s:i:"end"==t?o?i:s:t||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-a}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(qa),y(te),y(Ife,8),y(Xo,8),y(zm),y(Gm),y(jH,8))},n.\u0275cmp=_t({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&Wr(Efe,7),2&t){let i;At(i=Mt())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&rs("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[ue([{provide:$H,useFactory:(e,t)=>e||t,deps:[[new Kt,new Yh(jH)],n]}]),G,Nv],ngContentSelectors:Cfe,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(function vf(n){const e=S()[16][6];if(!e.projection){const r=e.projection=Rc(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?u4(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),He(0,"div",0,1),function Va(n,e=0,t){const r=S(),i=De(),s=Aa(i,22+n,16,null,t||null);null===s.projection&&(s.projection=e),J_(),32!=(32&s.flags)&&function x3(n,e,t){sk(e[11],0,e,t,Qx(n,t,e),ek(t.parent||e[6],t,e))}(i,r,s)}(2),ze(),Zn(3,"div",2)),2&t&&(Ws(3),Zs("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),HH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({}),n})(),lA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({imports:[sh,HH,kfe,sh,HH]}),n})();class cA{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class uA extends cA{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class zH extends cA{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Rfe extends cA{constructor(e){super(),this.element=e instanceof Ne?e.nativeElement:e}}class dA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof uA?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof zH?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Rfe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ofe extends dA{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||vt.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let hA=(()=>{class n extends dA{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Ge,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(y(qs),y(Yt),y(ye))},n.\u0275dir=R({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[G]}),n})(),qm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({}),n})();const GH=UH();class Nfe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ct(-this._previousScrollPosition.left),e.style.top=Ct(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),GH&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),GH&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Pfe{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class qH{enable(){}disable(){}attach(){}}function fA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function WH(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Ffe{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();fA(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Lfe=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new qH,this.close=o=>new Pfe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Nfe(this._viewportRuler,this._document),this.reposition=o=>new Ffe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(E(zm),E(Gm),E(te),E(ye))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KH{constructor(e){if(this.scrollStrategy=new qH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Vfe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let YH=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(E(ye))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bfe=(()=>{class n extends YH{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(E(ye),E(te,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ufe=(()=>{class n extends YH{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ks(s)},this._clickListener=s=>{const o=ks(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(E(ye),E(br),E(te,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wm=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||aA()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),aA()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(E(ye),E(br))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class oh{constructor(e,t,r,i,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Ae,this._attachments=new Ae,this._detachments=new Ae,this._locationChanges=Gt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Ae,this._outsidePointerEvents=new Ae,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(er(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ct(this._config.width),e.height=Ct(this._config.height),e.minWidth=Ct(this._config.minWidth),e.minHeight=Ct(this._config.minHeight),e.maxWidth=Ct(this._config.maxWidth),e.maxHeight=Ct(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Vm(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ui(P_(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const QH="cdk-overlay-connected-position-bounding-box",$fe=/([A-Za-z%]+)$/;class jfe{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ae,this._resizeSubscription=Gt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(QH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(QH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=ZH(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),g=this._subtractOverflows(s.height,h,f),_=p*g;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=XH(this._overlayRef.getConfig().minHeight),a=XH(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=ZH(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Vfe(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Ct(r.height),i.top=Ct(r.top),i.bottom=Ct(r.bottom),i.width=Ct(r.width),i.left=Ct(r.left),i.right=Ct(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Ct(s)),o&&(i.maxWidth=Ct(o))}this._lastBoundingBoxSize=r,Zo(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Zo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Zo(r,this._getExactOverlayY(t,e,u)),Zo(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Ct(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Ct(o.maxWidth):s&&(r.maxWidth="")),Zo(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Ct(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Ct(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:WH(e,r),isOriginOutsideView:fA(e,r),isOverlayClipped:WH(t,r),isOverlayOutsideView:fA(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Vm(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ne)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Zo(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function XH(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split($fe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function ZH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const JH="cdk-global-overlay-wrapper";class Hfe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(JH),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",g="";l?g="flex-start":"center"===u?(g="center",h?p=d:f=d):h?"left"===u||"end"===u?(g="flex-end",f=d):("right"===u||"start"===u)&&(g="flex-start",p=d):"left"===u||"start"===u?(g="flex-start",f=d):("right"===u||"end"===u)&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=g,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(JH),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let zfe=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new Hfe}flexibleConnectedTo(t){return new jfe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(E(Gm),E(ye),E(br),E(Wm))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gfe=0,rc=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new KH(t);return o.direction=o.direction||this._directionality.value,new oh(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Gfe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Ga)),new Ofe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(E(Lfe),E(Wm),E(qs),E(zfe),E(Bfe),E(vt),E(te),E(ye),E(Xo),E(uu),E(Ufe),E(lu,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kfe={provide:new k("cdk-connected-overlay-scroll-strategy"),deps:[rc],useFactory:function Wfe(n){return()=>n.scrollStrategies.reposition()}};let ez=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({providers:[rc,Kfe],imports:[sh,qm,lA,lA]}),n})();function nz(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function rz(n){return Ln((e,t)=>n<=t)}function tpe(n,e){return n===e}let npe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({providers:[npe]}),n})();const iz=new Set;let ic,spe=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ape}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function ope(n){if(!iz.has(n))try{ic||(ic=document.createElement("style"),ic.setAttribute("type","text/css"),document.head.appendChild(ic)),ic.sheet&&(ic.sheet.insertRule(`@media ${n} {body{ }}`,0),iz.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(E(br))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ape(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let lpe=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ae}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return sz(Vm(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=Nw(sz(Vm(t)).map(o=>this._registerQuery(o).observable));return s=Xf(s.pipe(er(1)),s.pipe(rz(1),function ipe(n,e=Qp){return rt((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(Qe(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(he(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new xe(o=>{const a=l=>this._zone.run(()=>o.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(_u(r),he(({matches:o})=>({query:t,matches:o})),ui(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(E(spe),E(te))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sz(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let Km=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function hpe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function dpe(n){try{return n.frameElement}catch{return null}}(function wpe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===cz(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=cz(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function ype(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function vpe(n){return!function ppe(n){return function mpe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function fpe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function gpe(n){return function _pe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||lz(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(E(br))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lz(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function cz(n){if(!lz(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class bpe{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(er(1)).subscribe(e)}}let pA=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new bpe(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(E(Km),E(te),E(ye))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uz(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function dz(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Dpe=new k("cdk-input-modality-detector-options"),Epe={ignoreKeys:[18,17,224,91,16]},sc=jm({passive:!0,capture:!0});let Cpe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Jn(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ks(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(uz(o)?"keyboard":"mouse"),this._mostRecentTarget=ks(o))},this._onTouchstart=o=>{dz(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ks(o))},this._options={...Epe,...s},this.modalityDetected=this._modality.pipe(rz(1)),this.modalityChanged=this.modalityDetected.pipe(function epe(n,e=Qi){return n=n??tpe,rt((t,r)=>{let i,s=!0;t.subscribe(Qe(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,sc),i.addEventListener("mousedown",this._onMousedown,sc),i.addEventListener("touchstart",this._onTouchstart,sc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sc),document.removeEventListener("mousedown",this._onMousedown,sc),document.removeEventListener("touchstart",this._onTouchstart,sc))}}return n.\u0275fac=function(t){return new(t||n)(E(br),E(te),E(ye),E(Dpe,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Spe=new k("cdk-focus-monitor-default-options"),Ym=jm({passive:!0,capture:!0});let gA=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ae,this._rootNodeFocusAndBlurListener=a=>{for(let c=ks(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=tc(t);if(!this._platform.isBrowser||1!==i.nodeType)return W(null);const s=function yfe(n){if(function _fe(){if(null==sA){const n=typeof document<"u"?document.head:null;sA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return sA}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Ae,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=tc(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=tc(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=ks(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ym),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ym)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ui(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ym),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ym),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(E(te),E(br),E(Cpe),E(ye,8),E(Spe,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fz="cdk-high-contrast-black-on-white",pz="cdk-high-contrast-white-on-black",mA="cdk-high-contrast-active";let gz=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=pe(lpe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(mA,fz,pz),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(mA,fz):2===r&&t.add(mA,pz)}}}return n.\u0275fac=function(t){return new(t||n)(E(br),E(ye))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tpe=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(E(gz))},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({imports:[rpe]}),n})();function Ape(n,e){}class Qm{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let mz=(()=>{class n extends dA{constructor(t,r,i,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=o,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=oA(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=oA();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=oA())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(pA),y(ye,8),y(Qm),y(Km),y(te),y(oh),y(gA))},n.\u0275cmp=_t({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&Wr(hA,7),2&t){let i;At(i=Mt())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&gr("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[G],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&Qs(0,Ape,0,0,"ng-template",0)},dependencies:[hA],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class _A{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Ae,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!nz(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const _z=new k("DialogScrollStrategy"),Mpe=new k("DialogData"),xpe=new k("DefaultDialogConfig"),Rpe={provide:_z,deps:[rc],useFactory:function kpe(n){return()=>n.scrollStrategies.block()}};let Ope=0,yz=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,i,s,o,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ae,this._afterOpenedAtThisLevel=new Ae,this._ariaHiddenElements=new Map,this.afterAllClosed=Zf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(_u(void 0))),this._scrollStrategy=a}open(t,r){(r={...this._defaultOptions||new Qm,...r}).id=r.id||"cdk-dialog-"+Ope++,r.id&&this.getDialogById(r.id);const s=this._getOverlayConfig(r),o=this._overlay.create(s),a=new _A(o,r),l=this._attachContainer(o,a,r);return a.containerInstance=l,this._attachDialogContent(t,a,l,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){yA(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){yA(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),yA(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new KH({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const s=i.injector||i.viewContainerRef?.injector,o=[{provide:Qm,useValue:i},{provide:_A,useValue:r},{provide:oh,useValue:t}];let a;i.container?"function"==typeof i.container?a=i.container:(a=i.container.type,o.push(...i.container.providers(i))):a=mz;const l=new uA(a,i.viewContainerRef,vt.create({parent:s||this._injector,providers:o}),i.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,r,i,s){if(t instanceof Lt){const o=this._createInjector(s,r,i,void 0);let a={$implicit:s.data,dialogRef:r};s.templateContext&&(a={...a,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),i.attachTemplatePortal(new zH(t,null,a,o))}else{const o=this._createInjector(s,r,i,this._injector),a=i.attachComponentPortal(new uA(t,s.viewContainerRef,o,s.componentFactoryResolver));r.componentInstance=a.instance}}_createInjector(t,r,i,s){const o=t.injector||t.viewContainerRef?.injector,a=[{provide:Mpe,useValue:t.data},{provide:_A,useValue:r}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!o||!o.get(Xo,null,{optional:!0}))&&a.push({provide:Xo,useValue:{value:t.direction,change:W()}}),vt.create({parent:o||s,providers:a})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(E(rc),E(vt),E(xpe,8),E(n,12),E(Wm),E(_z))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function yA(n,e){let t=n.length;for(;t--;)e(n[t])}let Npe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({providers:[yz,Rpe],imports:[ez,qm,Tpe,qm]}),n})();const Fpe=new k("mat-sanity-checks",{providedIn:"root",factory:function Ppe(){return!0}});let Xm=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!aA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(E(gz),E(Fpe,8),E(ye))},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({imports:[sh,sh]}),n})();class Vpe{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const bz=jm({passive:!0,capture:!0});class Bpe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=ks(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,bz)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,bz)))}}const Dz={enterDuration:225,exitDuration:150},Ez=jm({passive:!0,capture:!0}),Cz=["mousedown","touchstart"],Iz=["mouseup","mouseleave","touchend","touchcancel"];class Zm{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=tc(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...Dz,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function $pe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===i.width&&0===i.height,g=new Vpe(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",g.state=0,r.persistent||(this._mostRecentTransientRipple=g);let _=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const v=()=>this._finishRippleTransition(g),C=()=>this._destroyRipple(g);u.addEventListener("transitionend",v),u.addEventListener("transitioncancel",C),_={onTransitionEnd:v,onTransitionCancel:C}}),this._activeRipples.set(g,_),(p||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...Dz,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=tc(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Cz.forEach(r=>{Zm._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Iz.forEach(t=>{this._triggerElement.addEventListener(t,this,Ez)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=uz(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!dz(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Cz.forEach(t=>Zm._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Iz.forEach(t=>e.removeEventListener(t,this,Ez)))}}Zm._eventManager=new Bpe;class Sz{}class jpe{}const qi="*";function Mz(n,e=null){return{type:2,steps:n,options:e}}function oc(n){return{type:6,styles:n,offset:null}}function Nz(n){Promise.resolve().then(n)}class lh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Nz(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Pz{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?Nz(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function zpe(n,e){}class Jm{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const wA="mdc-dialog--open",Fz="mdc-dialog--opening",Lz="mdc-dialog--closing";let Wpe=(()=>{class n extends mz{constructor(t,r,i,s,o,a,l,c){super(t,r,i,s,o,a,l,c),this._animationStateChanged=new Ge}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(pA),y(ye,8),y(Jm),y(Km),y(te),y(oh),y(gA))},n.\u0275cmp=_t({type:n,selectors:[["ng-component"]],features:[G],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();const Vz="--mat-dialog-transition-duration";function Bz(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?FH(n.substring(0,n.length-2)):n.endsWith("s")?1e3*FH(n.substring(0,n.length-1)):"0"===n?0:null}let Kpe=(()=>{class n extends Wpe{constructor(t,r,i,s,o,a,l,c,u){super(t,r,i,s,o,a,l,u),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?Bz(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?Bz(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Vz,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(Fz),this._hostElement.classList.add(wA),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(wA),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(wA),this._animationsEnabled?(this._hostElement.style.setProperty(Vz,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(Lz),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Fz),this._hostElement.classList.remove(Lz)}_waitForAnimationToComplete(t,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(pA),y(ye,8),y(Jm),y(Km),y(te),y(oh),y(lu,8),y(gA))},n.\u0275cmp=_t({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,r){2&t&&(Sv("id",r._config.id),gr("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),rs("_mat-animation-noopable",!r._animationsEnabled))},features:[G],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(He(0,"div",0)(1,"div",1),Qs(2,zpe,0,0,"ng-template",2),ze()())},dependencies:[hA],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class Ype{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Ae,this._beforeClosed=new Ae,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(Ln(i=>"opened"===i.state),er(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Ln(i=>"closed"===i.state),er(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),P_(this.backdropClick(),this.keydownEvents().pipe(Ln(i=>27===i.keyCode&&!this.disableClose&&!nz(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function Qpe(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ln(t=>"closing"===t.state),er(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Xpe=new k("MatMdcDialogData"),Zpe=new k("mat-mdc-dialog-default-options"),Uz=new k("mat-mdc-dialog-scroll-strategy"),ege={provide:Uz,deps:[rc],useFactory:function Jpe(n){return()=>n.scrollStrategies.block()}};let tge=0,nge=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,i,s,o,a,l,c,u,d){this._overlay=t,this._defaultOptions=i,this._parentDialog=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ae,this._afterOpenedAtThisLevel=new Ae,this._idPrefix="mat-dialog-",this.dialogConfigClass=Jm,this.afterAllClosed=Zf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(_u(void 0))),this._scrollStrategy=a,this._dialog=r.get(yz)}open(t,r){let i;(r={...this._defaultOptions||new Jm,...r}).id=r.id||`${this._idPrefix}${tge++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Qm,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(o,a,l)=>(i=new this._dialogRefConstructor(o,r,l),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentInstance=s.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){nv()},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),$z=(()=>{class n extends nge{constructor(t,r,i,s,o,a,l,c){super(t,r,s,a,l,o,Ype,Kpe,Xpe,c),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(E(rc),E(vt),E(uu,8),E(Zpe,8),E(Uz),E(n,12),E(Wm),E(lu,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),rge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({providers:[$z,ege],imports:[Npe,ez,qm,Xm,Xm]}),n})();class ch{constructor(e){this.dialog=e}openDialog(){this.dialog.open(ec).afterClosed().subscribe(t=>{console.log(`Dialog result: ${t}`)})}}ch.\u0275fac=function(e){return new(e||ch)(y($z))},ch.\u0275cmp=_t({type:ch,selectors:[["app-tabla"]],decls:25,vars:0,consts:[[1,"table"],["scope","col"],[1,""],["mat-button","",3,"click"]],template:function(e,t){1&e&&(He(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),Tt(4,"codigo"),ze(),He(5,"th",1),Tt(6,"producto"),ze(),He(7,"th",1),Tt(8,"costo"),ze(),He(9,"th",1),Tt(10,"eliminar"),ze()()(),He(11,"tbody")(12,"tr")(13,"td"),Tt(14,"1"),ze(),He(15,"td"),Tt(16,"Mark"),ze(),He(17,"td"),Tt(18,"Otto"),ze(),He(19,"td"),Tt(20,"@mdo"),ze()()()(),Zn(21,"br"),He(22,"div",2)(23,"button",3),Pn("click",function(){return t.openDialog()}),Tt(24,"Agregar datos"),ze()())}});const ige=[{path:"reguistro",component:ec},{path:"tabla",component:ch},{path:"",redirectTo:"/tabla",pathMatch:"full"}];class ac{}ac.\u0275fac=function(e){return new(e||ac)},ac.\u0275mod=Le({type:ac}),ac.\u0275inj=Pe({imports:[hF.forRoot(ige),hF]});class uh{constructor(){this.title="despliague"}}function Hz(n){return new I(3e3,!1)}function Bge(){return typeof window<"u"&&typeof window.document<"u"}function bA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Rs(n){switch(n.length){case 0:return new lh;case 1:return n[0];default:return new Pz(n)}}function zz(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,g)=>{let _=g,v=p;if("offset"!==g)switch(_=e.normalizePropertyName(_,o),v){case"!":v=i.get(g);break;case qi:v=s.get(g);break;default:v=e.normalizeStyleValue(g,_,v,o)}f.set(_,v)}),h||a.push(f),c=f,l=d}),o.length)throw function Tge(n){return new I(3502,!1)}();return a}function DA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&EA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&EA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&EA(t,"destroy",n)))}}function EA(n,e,t){const s=CA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function CA(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function or(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Gz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}uh.\u0275fac=function(e){return new(e||uh)},uh.\u0275cmp=_t({type:uh,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&Zn(0,"router-outlet")},dependencies:[Zw]});let IA=(n,e)=>!1,qz=(n,e,t)=>[],Wz=null;function SA(n){const e=n.parentNode||n.host;return e===Wz?null:e}(bA()||typeof Element<"u")&&(Bge()?(Wz=(()=>document.documentElement)(),IA=(n,e)=>{for(;e;){if(e===n)return!0;e=SA(e)}return!1}):IA=(n,e)=>n.contains(e),qz=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Jo=null,Kz=!1;const Yz=IA,Qz=qz;let Xz=(()=>{class n{validateStyleProperty(t){return function $ge(n){Jo||(Jo=function jge(){return typeof document<"u"?document.body:null}()||{},Kz=!!Jo.style&&"WebkitAppearance"in Jo.style);let e=!0;return Jo.style&&!function Uge(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Jo.style,!e&&Kz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Jo.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Yz(t,r)}getParentElement(t){return SA(t)}query(t,r,i){return Qz(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new lh(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),TA=(()=>{class n{}return n.NOOP=new Xz,n})();const AA="ng-enter",e_="ng-leave",t_="ng-trigger",n_=".ng-trigger",Jz="ng-animating",MA=".ng-animating";function Wi(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:xA(parseFloat(e[1]),e[2])}function xA(n,e){return"s"===e?1e3*n:n}function r_(n,e,t){return n.hasOwnProperty("duration")?n:function Gge(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Hz()),{duration:0,delay:0,easing:""};i=xA(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=xA(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function sge(){return new I(3100,!1)}()),a=!0),s<0&&(e.push(function oge(){return new I(3101,!1)}()),a=!0),a&&e.splice(l,0,Hz())}return{duration:i,delay:s,easing:o}}(n,e,t)}function dh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function eG(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Os(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function nG(n,e,t){return t?e+":"+t+";":""}function rG(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=nG(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=nG(0,Yge(t),n.style[t]));n.setAttribute("style",e)}function di(n,e,t){n.style&&(e.forEach((r,i)=>{const s=RA(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),bA()&&rG(n))}function ea(n,e){n.style&&(e.forEach((t,r)=>{const i=RA(r);n.style[i]=""}),bA()&&rG(n))}function hh(n){return Array.isArray(n)?1==n.length?n[0]:Mz(n):n}const kA=new RegExp("{{\\s*(.+?)\\s*}}","g");function iG(n){let e=[];if("string"==typeof n){let t;for(;t=kA.exec(n);)e.push(t[1]);kA.lastIndex=0}return e}function fh(n,e,t){const r=n.toString(),i=r.replace(kA,(s,o)=>{let a=e[o];return null==a&&(t.push(function lge(n){return new I(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function i_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Kge=/-+([a-z0-9])/g;function RA(n){return n.replace(Kge,(...e)=>e[1].toUpperCase())}function Yge(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ar(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function cge(n){return new I(3004,!1)}()}}function sG(n,e){return window.getComputedStyle(n)[e]}function tme(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function nme(n,e,t){if(":"==n[0]){const l=function rme(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Ege(n){return new I(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Dge(n){return new I(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(oG(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(oG(o,i))}(r,t,e)):t.push(n),t}const l_=new Set(["true","1"]),c_=new Set(["false","0"]);function oG(n,e){const t=l_.has(n)||c_.has(n),r=l_.has(e)||c_.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?l_.has(n):c_.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?l_.has(e):c_.has(e)),o&&a}}const ime=new RegExp("s*:selfs*,?","g");function OA(n,e,t,r){return new sme(n).build(e,t,r)}class sme{constructor(e){this._driver=e}build(e,t,r){const i=new lme(t);return this._resetContextStyleTimingState(i),ar(this,hh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function dge(){return new I(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function hge(){return new I(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{iG(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(i_(s.values()),t.errors.push(function fge(n,e){return new I(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ar(this,hh(e.animation),t);return{type:1,matchers:tme(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ta(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ar(this,r,t)),options:ta(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=ar(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:ta(e.options)}}visitAnimate(e,t){const r=function ume(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return NA(r_(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=NA(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=r_(t,e);return NA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:oc({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=oc(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===qi?r.push(a):t.errors.push(new I(3002,!1)):r.push(eG(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function gge(n,e,t,r,i){return new I(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&function Wge(n,e,t){const r=e.params||{},i=iG(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function age(n){return new I(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function mge(){return new I(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(v=>{const C=this._makeStyleAst(v,t);let w=null!=C.offset?C.offset:function cme(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(C.styles),x=0;return null!=w&&(s++,x=C.offset=w),l=l||x<0||x>1,a=a||x<c,c=x,o.push(x),C});l&&t.errors.push(function _ge(){return new I(3012,!1)}()),a&&t.errors.push(function yge(){return new I(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function vge(){return new I(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,_=g.duration;return u.forEach((v,C)=>{const w=h>0?C==f?1:h*C:o[C],x=w*_;t.currentTime=p+g.delay+x,g.duration=x,this._validateStyleAst(v,t),v.offset=w,r.styles.push(v)}),r}visitReference(e,t){return{type:8,animation:ar(this,hh(e.animation),t),options:ta(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ta(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ta(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function ome(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ime,"")),n=n.replace(/@\*/g,n_).replace(/@\w+/g,t=>n_+"-"+t.slice(1)).replace(/:animating/g,MA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,or(t.collectedStyles,t.currentQuerySelector,new Map);const a=ar(this,hh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ta(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function wge(){return new I(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:r_(e.timings,t.errors,!0);return{type:12,animation:ar(this,hh(e.animation),t),timings:r,options:null}}}class lme{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ta(n){return n?(n=dh(n)).params&&(n.params=function ame(n){return n?dh(n):null}(n.params)):n={},n}function NA(n,e,t){return{duration:n,delay:e,easing:t}}function PA(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class u_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const fme=new RegExp(":enter","g"),gme=new RegExp(":leave","g");function FA(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new mme).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class mme{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new u_;const d=new LA(e,t,c,i,s,u,[]);d.options=l;const h=l.delay?Wi(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),ar(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const _=f[g];if(_.element===t){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[PA(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Wi(fh(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Wi(r.duration):null,a=null!=r.delay?Wi(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ar(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=d_);const o=Wi(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ar(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Wi(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),ar(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return r_(t.params?fh(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Wi(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=d_);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),ar(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;ar(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const d_={};class LA{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=d_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new h_(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Wi(r.duration)),null!=r.delay&&(i.delay=Wi(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=fh(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new LA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=d_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new _me(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(fme,"."+this._enterClassName)).replace(gme,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function bge(n){return new I(3014,!1)}()),a}}class h_{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new h_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||qi),this._currentKeyframe.set(t,qi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function yme(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,qi)}else Os(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=fh(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??qi),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Os(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===qi&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?i_(e.values()):[],o=t.size?i_(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return PA(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class _me extends h_{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Os(e[0]);l.set("offset",0),s.push(l);const c=Os(e[0]);c.set("offset",cG(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Os(e[d]);const f=h.get("offset");h.set("offset",cG((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return PA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function cG(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class VA{}const vme=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wme extends VA{normalizePropertyName(e,t){return RA(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(vme.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function uge(n,e){return new I(3005,!1)}())}return o+s}}function uG(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const BA={};class dG{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function bme(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||BA,p=this.buildStyles(r,a&&a.params||BA,d),g=l&&l.params||BA,_=this.buildStyles(i,g,d),v=new Set,C=new Map,w=new Map,x="void"===i,$={params:Dme(g,h),delay:this.ast.options?.delay},B=u?[]:FA(e,t,this.ast.animation,s,o,p,_,$,c,d);let _e=0;if(B.forEach(lr=>{_e=Math.max(lr.duration+lr.delay,_e)}),d.length)return uG(t,this._triggerName,r,i,x,p,_,[],[],C,w,_e,d);B.forEach(lr=>{const Lr=lr.element,VG=or(C,Lr,new Set);lr.preStyleProps.forEach(na=>VG.add(na));const yh=or(w,Lr,new Set);lr.postStyleProps.forEach(na=>yh.add(na)),Lr!==t&&v.add(Lr)});const an=i_(v.values());return uG(t,this._triggerName,r,i,x,p,_,B,an,C,w,_e)}}function Dme(n,e){const t=dh(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Eme{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=dh(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=fh(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class Ime{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Eme(i.style,i.options&&i.options.params||{},r))}),hG(this.states,"true","1"),hG(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new dG(e,i,this.states))}),this.fallbackTransition=function Sme(n,e,t){return new dG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function hG(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Tme=new u_;class Ame{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=OA(this._driver,t,r,[]);if(r.length)throw function Age(n){return new I(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=zz(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=FA(this._driver,t,s,AA,e_,new Map,new Map,r,Tme,i),o.forEach(u=>{const d=or(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Mge(){return new I(3300,!1)}()),o=[]),i.length)throw function xge(n){return new I(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,qi))})});const c=Rs(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function kge(n){return new I(3301,!1)}();return t}listen(e,t,r,i){const s=CA(t,"","","");return DA(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const fG="ng-animate-queued",UA="ng-animate-disabled",Ome=[],pG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nme={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Dr="__ng_removed";class $A{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Vme(n){return n??null}(r?e.value:e),r){const s=dh(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const ph="void",jA=new $A(ph);class Pme{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Er(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Rge(n,e){return new I(3302,!1)}();if(null==r||0==r.length)throw function Oge(n){return new I(3303,!1)}();if(!function Bme(n){return"start"==n||"done"==n}(r))throw function Nge(n,e){return new I(3400,!1)}();const s=or(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=or(this._engine.statesByElement,e,new Map);return a.has(t)||(Er(e,t_),Er(e,t_+"-"+t),a.set(t,jA)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Pge(n){return new I(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new HA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Er(e,t_),Er(e,t_+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new $A(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=jA),c.value!==ph&&l.value===c.value){if(!function jme(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const g=[],_=s.matchStyles(l.value,l.params,g),v=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{ea(e,_),di(e,v)})}return}const h=or(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Er(e,fG),o.onStart(()=>{lc(e,fG)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const _=this._engine.playersByElement.get(e);if(_){let v=_.indexOf(o);v>=0&&_.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,n_,!0);r.forEach(i=>{if(i[Dr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,ph,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Rs(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||jA,u=new $A(ph),d=new HA(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Dr];(!s||s===pG)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Er(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=CA(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,DA(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Fme{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Pme(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(f_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!f_(t))return;const s=t[Dr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Er(e,UA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),lc(e,UA))}removeNode(e,t,r,i){if(f_(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Dr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return f_(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,n_,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,MA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Rs(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Dr];if(t&&t.setForRemoval){if(e[Dr]=pG,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(UA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Er(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Rs(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Fge(n){return new I(3402,!1)}()}_flushAnimations(e,t){const r=new u_,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(j=>{u.add(j);const K=this.driver.query(j,".ng-animate-queued",!0);for(let ee=0;ee<K.length;ee++)u.add(K[ee])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=_G(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((j,K)=>{const ee=AA+g++;p.set(K,ee),j.forEach(Te=>Er(Te,ee))});const _=[],v=new Set,C=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const K=this.collectedLeaveElements[j],ee=K[Dr];ee&&ee.setForRemoval&&(_.push(K),v.add(K),ee.hasAnimation?this.driver.query(K,".ng-star-inserted",!0).forEach(Te=>v.add(Te)):C.add(K))}const w=new Map,x=_G(h,Array.from(v));x.forEach((j,K)=>{const ee=e_+g++;w.set(K,ee),j.forEach(Te=>Er(Te,ee))}),e.push(()=>{f.forEach((j,K)=>{const ee=p.get(K);j.forEach(Te=>lc(Te,ee))}),x.forEach((j,K)=>{const ee=w.get(K);j.forEach(Te=>lc(Te,ee))}),_.forEach(j=>{this.processLeaveNode(j)})});const $=[],B=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(t).forEach(ee=>{const Te=ee.player,zt=ee.element;if($.push(Te),this.collectedEnterElements.length){const _n=zt[Dr];if(_n&&_n.setForMove){if(_n.previousTriggersValues&&_n.previousTriggersValues.has(ee.triggerName)){const ra=_n.previousTriggersValues.get(ee.triggerName),Cr=this.statesByElement.get(ee.element);if(Cr&&Cr.has(ee.triggerName)){const I_=Cr.get(ee.triggerName);I_.value=ra,Cr.set(ee.triggerName,I_)}}return void Te.destroy()}}const hi=!d||!this.driver.containsElement(d,zt),cr=w.get(zt),Ns=p.get(zt),nt=this._buildInstruction(ee,r,Ns,cr,hi);if(nt.errors&&nt.errors.length)return void B.push(nt);if(hi)return Te.onStart(()=>ea(zt,nt.fromStyles)),Te.onDestroy(()=>di(zt,nt.toStyles)),void i.push(Te);if(ee.isFallbackTransition)return Te.onStart(()=>ea(zt,nt.fromStyles)),Te.onDestroy(()=>di(zt,nt.toStyles)),void i.push(Te);const $G=[];nt.timelines.forEach(_n=>{_n.stretchStartingKeyframe=!0,this.disabledNodes.has(_n.element)||$G.push(_n)}),nt.timelines=$G,r.append(zt,nt.timelines),o.push({instruction:nt,player:Te,element:zt}),nt.queriedElements.forEach(_n=>or(a,_n,[]).push(Te)),nt.preStyleProps.forEach((_n,ra)=>{if(_n.size){let Cr=l.get(ra);Cr||l.set(ra,Cr=new Set),_n.forEach((I_,rM)=>Cr.add(rM))}}),nt.postStyleProps.forEach((_n,ra)=>{let Cr=c.get(ra);Cr||c.set(ra,Cr=new Set),_n.forEach((I_,rM)=>Cr.add(rM))})});if(B.length){const j=[];B.forEach(K=>{j.push(function Lge(n,e){return new I(3505,!1)}())}),$.forEach(K=>K.destroy()),this.reportError(j)}const _e=new Map,an=new Map;o.forEach(j=>{const K=j.element;r.has(K)&&(an.set(K,K),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,_e))}),i.forEach(j=>{const K=j.element;this._getPreviousPlayers(K,!1,j.namespaceId,j.triggerName,null).forEach(Te=>{or(_e,K,[]).push(Te),Te.destroy()})});const lr=_.filter(j=>vG(j,l,c)),Lr=new Map;mG(Lr,this.driver,C,c,qi).forEach(j=>{vG(j,l,c)&&lr.push(j)});const yh=new Map;f.forEach((j,K)=>{mG(yh,this.driver,new Set(j),l,"!")}),lr.forEach(j=>{const K=Lr.get(j),ee=yh.get(j);Lr.set(j,new Map([...Array.from(K?.entries()??[]),...Array.from(ee?.entries()??[])]))});const na=[],BG=[],UG={};o.forEach(j=>{const{element:K,player:ee,instruction:Te}=j;if(r.has(K)){if(u.has(K))return ee.onDestroy(()=>di(K,Te.toStyles)),ee.disabled=!0,ee.overrideTotalTime(Te.totalTime),void i.push(ee);let zt=UG;if(an.size>1){let cr=K;const Ns=[];for(;cr=cr.parentNode;){const nt=an.get(cr);if(nt){zt=nt;break}Ns.push(cr)}Ns.forEach(nt=>an.set(nt,zt))}const hi=this._buildAnimation(ee.namespaceId,Te,_e,s,yh,Lr);if(ee.setRealPlayer(hi),zt===UG)na.push(ee);else{const cr=this.playersByElement.get(zt);cr&&cr.length&&(ee.parentPlayer=Rs(cr)),i.push(ee)}}else ea(K,Te.fromStyles),ee.onDestroy(()=>di(K,Te.toStyles)),BG.push(ee),u.has(K)&&i.push(ee)}),BG.forEach(j=>{const K=s.get(j.element);if(K&&K.length){const ee=Rs(K);j.setRealPlayer(ee)}}),i.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<_.length;j++){const K=_[j],ee=K[Dr];if(lc(K,e_),ee&&ee.hasAnimation)continue;let Te=[];if(a.size){let hi=a.get(K);hi&&hi.length&&Te.push(...hi);let cr=this.driver.query(K,MA,!0);for(let Ns=0;Ns<cr.length;Ns++){let nt=a.get(cr[Ns]);nt&&nt.length&&Te.push(...nt)}}const zt=Te.filter(hi=>!hi.destroyed);zt.length?Ume(this,K,zt):this.processLeaveNode(K)}return _.length=0,na.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();const K=this.players.indexOf(j);this.players.splice(K,1)}),j.play()}),na}elementContainsData(e,t){let r=!1;const i=t[Dr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==ph;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=or(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}ea(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;u.add(g);const _=g[Dr];if(_&&_.removedBeforeQueried)return new lh(p.duration,p.delay);const v=g!==l,C=function $me(n){const e=[];return yG(n,e),e}((r.get(g)||Ome).map(_e=>_e.getRealPlayer())).filter(_e=>!!_e.element&&_e.element===g),w=s.get(g),x=o.get(g),$=zz(0,this._normalizer,0,p.keyframes,w,x),B=this._buildPlayer(p,$,C);if(p.subTimeline&&i&&d.add(g),v){const _e=new HA(e,a,g);_e.setRealPlayer(B),c.push(_e)}return B});c.forEach(p=>{or(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Lme(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Er(p,Jz));const f=Rs(h);return f.onDestroy(()=>{u.forEach(p=>lc(p,Jz)),di(l,t.toStyles)}),d.forEach(p=>{or(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new lh(e.duration,e.delay)}}class HA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new lh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>DA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){or(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function f_(n){return n&&1===n.nodeType}function gG(n,e){const t=n.style.display;return n.style.display=e??"none",t}function mG(n,e,t,r,i){const s=[];t.forEach(l=>s.push(gG(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[Dr]=Nme,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>gG(l,s[a++])),o}function _G(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Er(n,e){n.classList?.add(e)}function lc(n,e){n.classList?.remove(e)}function Ume(n,e,t){Rs(t).onDone(()=>n.processLeaveNode(e))}function yG(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Pz?yG(r.players,e):e.push(r)}}function vG(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class p_{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Fme(e,t,r),this._timelineEngine=new Ame(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=OA(this._driver,s,l,[]);if(l.length)throw function Sge(n,e){return new I(3404,!1)}();a=function Cme(n,e,t){return new Ime(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=Gz(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=Gz(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let zme=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&di(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(di(this._element,this._initialStyles),this._endStyles&&(di(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ea(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ea(this._element,this._endStyles),this._endStyles=null),di(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function zA(n){let e=null;return n.forEach((t,r)=>{(function Gme(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class wG{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:sG(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class qme{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Yz(e,t)}getParentElement(e){return SA(e)}query(e,t,r){return Qz(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof wG);(function Qge(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function qge(n){return n.length?n[0]instanceof Map?n:n.map(e=>eG(e)):[]}(t).map(f=>Os(f));d=function Xge(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,sG(n,a)))}}return e}(e,d,c);const h=function Hme(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=zA(e[0]),e.length>1&&(r=zA(e[e.length-1]))):e instanceof Map&&(t=zA(e)),t||r?new zme(n,t,r):null}(e,d);return new wG(e,d,l,h)}}let Wme=(()=>{class n extends Sz{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Sr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Mz(t):t;return bG(this._renderer,null,r,"register",[i]),new Kme(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(E(jc),E(ye))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class Kme extends jpe{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Yme(this._id,e,t||{},this._renderer)}}class Yme{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return bG(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function bG(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const DG="@.disabled";let Qme=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new EG("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new Xme(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(E(jc),E(p_),E(te))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class EG{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==DG?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Xme extends EG{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==DG?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Zme(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Jme(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let e_e=(()=>{class n extends p_{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(E(ye),E(TA),E(VA),E(Ga))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const CG=[{provide:Sz,useClass:Wme},{provide:VA,useFactory:function t_e(){return new wme}},{provide:p_,useClass:e_e},{provide:jc,useFactory:function n_e(n,e,t){return new Qme(n,e,t)},deps:[Yf,p_,te]}],GA=[{provide:TA,useFactory:()=>new qme},{provide:lu,useValue:"BrowserAnimations"},...CG],IG=[{provide:TA,useClass:Xz},{provide:lu,useValue:"NoopAnimations"},...CG];let r_e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?IG:GA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({providers:GA,imports:[XP]}),n})();const cc_firebase={apiKey:"AIzaSyA-u-Rt2h8AzITbDDmm3ueabOva2D0ij3g",authDomain:"despliegue05-a6802.firebaseapp.com",projectId:"despliegue05-a6802",storageBucket:"despliegue05-a6802.appspot.com",messagingSenderId:"561220981395",appId:"1:561220981395:web:41f70d01b060d54144b366"};let y_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({imports:[lA]}),n})(),P_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({imports:[Xm,y_e,Xm]}),n})();class fc{}fc.\u0275fac=function(e){return new(e||fc)},fc.\u0275mod=Le({type:fc}),fc.\u0275inj=Pe({imports:[AP,P_e,rge,ZJ,JJ]});class pc{}pc.\u0275fac=function(e){return new(e||pc)},pc.\u0275mod=Le({type:pc,bootstrap:[uh]}),pc.\u0275inj=Pe({imports:[XP,ac,r_e,function Cie(n,...e){return{ngModule:Eie,providers:[{provide:LE,useFactory:Die(n),multi:!0,deps:[te,vt,PE,...e]}]}}(()=>Iie(cc_firebase)),function nle(n,...e){return{ngModule:tle,providers:[{provide:eS,useFactory:Zae(n),multi:!0,deps:[te,vt,PE,FE,[new Kt,tC],...e]}]}}(()=>rle()),function qhe(n,...e){return{ngModule:Ghe,providers:[{provide:tA,useFactory:jhe(n),multi:!0,deps:[te,vt,PE,FE,[new Kt,sU],[new Kt,tC],...e]}]}}(()=>Yhe()),fc]}),uQ().bootstrapModule(pc).catch(n=>console.error(n))}},we=>{we(we.s=824)}]);